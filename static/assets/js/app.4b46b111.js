(function(){var e={856:function(e,t,a){"use strict";var i=a(85471),s=function(){var e=this,t=e._self._c;return t("div",{staticClass:"container"},[t("Header"),t("div",{staticClass:"mainer"},[t("router-view")],1),t("Footer")],1)},o=[],n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"header"},[t("div",{staticClass:"content-container"},[t("img",{staticClass:"logo",staticStyle:{width:"1140px",height:"150px"},attrs:{src:"EpiSNP-db_final.png",alt:"Logo"}}),t("div",{staticClass:"nav-container"},[t("el-menu",{staticClass:"el-menu-demo larger-font-menu",attrs:{mode:"horizontal","background-color":"#9ACDFA","text-color":"#336699","active-text-color":"#ce1212"}},[t("router-link",{attrs:{to:"/",exact:""}},[t("el-menu-item",{class:{active:"/"===e.currentRoute},attrs:{index:"1"}},[e._v(" Home ")])],1),t("router-link",{attrs:{to:"/EpistasisSNP"}},[t("el-menu-item",{class:{active:"/EpistasisSNP"===e.currentRoute},attrs:{index:"2"}},[e._v(" Epistasis-SNP ")])],1),t("router-link",{attrs:{to:"/EpistasisGene"}},[t("el-menu-item",{class:{active:"/EpistasisGene"===e.currentRoute},attrs:{index:"9"}},[e._v(" Epistasis-Gene ")])],1),t("router-link",{attrs:{to:"/EpiSNPAnnotation"}},[t("el-menu-item",{class:{active:"/EpiSNPAnnotation"===e.currentRoute},attrs:{index:"3"}},[e._v(" EpiSNP-Annotation ")])],1),t("router-link",{attrs:{to:"/EpiSNPGWAS"}},[t("el-menu-item",{class:{active:"/EpiSNPGWAS"===e.currentRoute},attrs:{index:"4"}},[e._v(" EpiSNP-GWAS ")])],1),t("router-link",{attrs:{to:"/EpiSNPSurvival"}},[t("el-menu-item",{class:{active:"/EpiSNPSurvival"===e.currentRoute},attrs:{index:"5"}},[e._v(" EpiSNP-Survival ")])],1),t("router-link",{attrs:{to:"/EpistasisMutation"}},[t("el-menu-item",{class:{active:"/EpistasisMutation"===e.currentRoute},attrs:{index:"6"}},[e._v(" Epistasis-Mutation ")])],1),t("router-link",{attrs:{to:"/Download"}},[t("el-menu-item",{class:{active:"/download"===e.currentRoute},attrs:{index:"7"}},[e._v(" Download ")])],1),t("router-link",{attrs:{to:"/Document"}},[t("el-menu-item",{class:{active:"/Document"===e.currentRoute},attrs:{index:"8"}},[e._v(" Document ")])],1)],1)],1)])])},l=[],r={name:"Header",computed:{currentRoute(){return this.$route.path}}},c=r,p=a(81656),d=(0,p.A)(c,n,l,!1,null,"306389a8",null),u=d.exports,h=function(){var e=this,t=e._self._c;return t("div",{staticClass:"footer"},[t("el-divider"),t("div",{staticClass:"copy-right",attrs:{id:"footer"}},[e._m(0),t("p",[e._v(" Any comments and suggestions, please "),t("router-link",{attrs:{to:"/help"}},[e._v("contact us")])],1)])],1)},m=[function(){var e=this,t=e._self._c;return t("p",{staticClass:"container"},[t("strong",[e._v("Copyright ©")]),t("a",{attrs:{href:"https://gong_lab.hzau.edu.cn/#!/",target:"_blank"}},[e._v("Gong Lab")]),e._v(", "),t("a",{attrs:{href:"http://coi.hzau.edu.cn/",target:"_blank"}},[e._v("College of informatics")]),e._v(", "),t("a",{attrs:{href:"http://www.hzau.edu.cn/",target:"_blank"}},[e._v("HZAU")]),e._v(", China. ")])}],y={name:"SnpFooter"},f=y,g=(0,p.A)(f,h,m,!1,null,null,null),b=g.exports,w={name:"App",components:{Header:u,Footer:b}},C=w,v=(0,p.A)(C,s,o,!1,null,null,null),S=v.exports,_=a(40173),P=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"content-container"},[t("div",{staticClass:"home-search",staticStyle:{margin:"20px 0",display:"flex","justify-content":"center"}},[t("el-row",{staticClass:"row-bg",staticStyle:{width:"100%"},attrs:{justify:"center",align:"middle",type:"flex"}},[t("el-col",{attrs:{span:16,offset:1}},[t("el-input",{ref:"searchInput",staticClass:"search-input",staticStyle:{"font-size":"10px","font-family":"Helvetica"},attrs:{placeholder:"SNP ID, SNP Position, Epistasis-SNP or Cancer"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.quickSearch.apply(null,arguments)}},model:{value:e.input,callback:function(t){e.input=t},expression:"input"}},[t("el-button",{staticStyle:{"background-color":"#87CEFA",color:"black","border-radius":"0",height:"100%","font-size":"18px"},attrs:{slot:"append",icon:"ant-design:search-outlined"},on:{click:function(t){return t.preventDefault(),e.quickSearch.apply(null,arguments)}},slot:"append"},[e._v(" Search ")])],1),t("div",{staticClass:"input-examples",staticStyle:{"font-size":"17px","margin-top":"8px","margin-bottom":"0px","font-family":"Helvetica"}},[t("span",[e._v("Input examples: ")]),t("span",{class:{selected:e.isSelected("rs12924101")},on:{click:function(t){return e.fillInputAndSearch("rs12924101")}}},[e._v("rs12924101, ")]),t("span",{class:{selected:e.isSelected("chr1:1003629-1003739")},on:{click:function(t){return e.fillInputAndSearch("chr1:1003629-1003739")}}},[e._v("chr1:1003629-1003739, ")]),t("span",{class:{selected:e.isSelected("rs6687430_rs17781327")},on:{click:function(t){return e.fillInputAndSearch("rs6687430_rs17781327")}}},[e._v("rs6687430_rs17781327, ")]),t("span",{class:{selected:e.isSelected("Breast")},on:{click:function(t){return e.fillInputAndSearch("Breast")}}},[e._v("Breast")])])],1)],1)],1),e._m(0),t("div",{staticClass:"panel"},[e._m(1),t("div",{staticClass:"panel-body"},[t("el-row",{attrs:{gutter:"20"}},e._l(e.speciesList.slice(0,6),(function(a,i){return t("el-col",{key:i,attrs:{span:4}},[t("div",{staticClass:"card",on:{click:function(t){return e.handleImageClick(a.name)},mouseover:function(t){return e.showDetails(i)},mouseleave:function(t){return e.hideDetails(i)}}},[t("img",{staticClass:"card-img-top",attrs:{src:a.image,alt:a.name}}),t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title",staticStyle:{"font-family":"Helvetica"}},[e._v(e._s(a.name))]),t("div",{directives:[{name:"show",rawName:"v-show",value:a.showDetails,expression:"item.showDetails"}],staticClass:"card-text",staticStyle:{"font-family":"Helvetica"}},[t("p",[e._v(e._s(a.descriptionLine1))]),t("p",[e._v(e._s(a.descriptionLine2))]),t("p",[e._v(e._s(a.descriptionLine3))])])])])])})),1),t("el-row",{attrs:{gutter:"20"}},e._l(e.speciesList.slice(6,12),(function(a,i){return t("el-col",{key:i,attrs:{span:4}},[t("div",{staticClass:"card",on:{click:function(t){return e.handleImageClick(a.name)},mouseover:function(t){return e.showDetails(i+6)},mouseleave:function(t){return e.hideDetails(i+6)}}},[t("img",{staticClass:"card-img-top",attrs:{src:a.image,alt:a.name}}),t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title",staticStyle:{"font-family":"Helvetica"}},[e._v(e._s(a.name))]),t("div",{directives:[{name:"show",rawName:"v-show",value:a.showDetails,expression:"item.showDetails"}],staticClass:"card-text",staticStyle:{"font-family":"Helvetica"}},[t("p",[e._v(e._s(a.descriptionLine1))]),t("p",[e._v(e._s(a.descriptionLine2))]),t("p",[e._v(e._s(a.descriptionLine3))])])])])])})),1),t("el-row",{attrs:{gutter:"20",justify:"start"}},e._l(e.speciesList.slice(12),(function(a,i){return t("el-col",{key:i,attrs:{span:4}},[t("div",{staticClass:"card",on:{click:function(t){return e.handleImageClick(a.name)},mouseover:function(t){return e.showDetails(i+12)},mouseleave:function(t){return e.hideDetails(i+12)}}},[t("img",{staticClass:"card-img-top",attrs:{src:a.image,alt:a.name}}),t("div",{staticClass:"card-body"},[t("h5",{staticClass:"card-title",staticStyle:{"font-family":"Helvetica"}},[e._v(e._s(a.name))]),t("div",{directives:[{name:"show",rawName:"v-show",value:a.showDetails,expression:"item.showDetails"}],staticClass:"card-text",staticStyle:{"font-family":"Helvetica"}},[t("p",[e._v(e._s(a.descriptionLine1))]),t("p",[e._v(e._s(a.descriptionLine2))]),t("p",[e._v(e._s(a.descriptionLine3))])])])])])})),1)],1)]),t("div",{staticClass:"panel data-summary"},[t("div",{staticClass:"panel-header",staticStyle:{"font-family":"Helvetica"}},[e._v(" Data summary ")]),t("div",{staticClass:"panel-body"},[t("el-row",{attrs:{type:"flex"}},[t("el-col",{attrs:{span:6,offset:1}},[t("el-row",{attrs:{type:"flex",justify:"center"}},[t("h1",{staticStyle:{"font-size":"20px","font-family":"Helvetica"}},[e._v(" EpiSNP-db Statistics ")])]),t("div",{staticClass:"innerBody"},[t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.showData}},[t("el-table-column",{attrs:{prop:"name",label:"Category",width:"143","header-cell-style":{backgroundColor:"#F5DBCB",color:"white",fontWeight:"bold"}},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{color:e.getColor(a.row.name),fontWeight:"bold"}},[e._v(e._s(a.row.name))])]}}])}),t("el-table-column",{attrs:{prop:"number",label:"Total",width:"126","header-cell-style":{backgroundColor:"#004D40",color:"white",fontWeight:"bold"}},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{color:e.getColor(a.row.number),fontWeight:"bold"}},[e._v(e._s(a.row.number))])]}}])})],1)],1)],1),t("el-col",{attrs:{span:15,offset:1}},[t("el-carousel",{attrs:{"indicator-position":"outside",autoplay:e.autoplay},on:{mouseenter:e.pauseCarousel,mouseleave:e.resumeCarousel}},e._l(e.chartTitles,(function(a){return t("el-carousel-item",{key:a.id},[t("div",{staticClass:"carousel-item-container"},[t("h1",{staticClass:"carousel-title",staticStyle:{"font-size":"20px","font-family":"Helvetica"}},[e._v(e._s(a.title))]),t("div",{staticClass:"carousel-chart",attrs:{id:"option"+a.id}})])])})),1)],1)],1)],1)])])])},x=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"panel",staticStyle:{"margin-top":"2px"}},[t("div",{staticClass:"panel-header",staticStyle:{"font-family":"Helvetica"}},[t("span",{pre:!0,attrs:{style:"font-family: Helvetica;"}},[e._v(" Welcome to the EpiSNP-db ")])]),t("div",{staticClass:"panel-body"},[t("div",{staticStyle:{display:"flex"}},[t("div",{staticStyle:{width:"72%","font-family":"Helvetica"}},[t("div",{staticStyle:{"font-family":"Helvetica","text-align":"justify"}},[e._v(" SNP-SNP interaction (Epistasis) refers to any non-additive interactions between two loci that affect the same trait. Recent studies have revealed that epistasis is associated with the invasiveness of various cancers and is a significant factor contributing to cancer. Therefore, the identification and characterization of epistasis are important for cancer research. However, the analysis of epistasis in cancer within large-scale populations remains highly limited. ")]),t("div",{staticStyle:{height:"8px",width:"72%"}}),t("div",{staticStyle:{display:"flex"}},[t("div",{staticStyle:{width:"100%"}},[t("div",{staticClass:"text-section",staticStyle:{"font-family":"Helvetica","text-align":"justify"}},[t("span",{pre:!0,attrs:{class:"badge alert-info",style:"background-color: #F92A82; color: white; padding: 1px 2px; border-radius: 4px;"}},[e._v("EpiSNP-db")]),e._v(" is designed to investigate the effects of epistasis on cancer phenotypes. We have systematically identified epistasis associated with 16 cancer types. Furthermore, we have systematically analyzed their effects on survival and deciphered their functions by integrating other data and mapping to GWAS regions. ")]),t("div",{staticStyle:{height:"8px"}}),t("div",{staticClass:"text-section",staticStyle:{"font-family":"Helvetica"}},[t("strong",[e._v("In EpiSNP-db, users can:")]),t("span",{pre:!0,attrs:{class:"badge alert-info"}})]),t("div",{staticStyle:{"margin-top":"10px","font-family":"Helvetica"}},[e._v("         "),t("i",{staticClass:"el-icon-search",staticStyle:{color:"red","font-size":"20px"}}),e._v("   Browse or search for "),t("span",{pre:!0,attrs:{class:"badge alert-info",style:"background-color: #FF5964; color: white; padding: 1px 2px; border-radius: 4px;"}},[e._v("epistatic SNPs (epiSNPs)")]),e._v(" across different cancer types; "),t("br"),e._v("        "),t("i",{staticClass:"el-icon-search",staticStyle:{color:"red","font-size":"20px"}}),e._v("   Browse or search for the "),t("span",{pre:!0,attrs:{class:"badge alert-info",style:"background-color: #FF9933; color: white; padding: 1px 2px; border-radius: 4px;"}},[e._v("annotation")]),e._v(" of epiSNPs across different cancer types; "),t("br"),e._v("        "),t("i",{staticClass:"el-icon-search",staticStyle:{color:"red","font-size":"20px"}}),e._v("   Browse or search for "),t("span",{pre:!0,attrs:{class:"badge alert-info",style:"background-color: #35A7FF; color: white; padding: 1px 2px; border-radius: 4px;"}},[e._v("epiSNP-related GWAS loci")]),e._v(" across different cancer types; "),t("br"),e._v("        "),t("i",{staticClass:"el-icon-search",staticStyle:{color:"red","font-size":"20px"}}),e._v("   Browse or search for "),t("span",{pre:!0,attrs:{class:"badge alert-info",style:"background-color: #ffa0c2; color: white; padding: 1px 2px; border-radius: 4px;"}},[e._v("survival-related epiSNPs")]),e._v(" across different cancer types; "),t("br"),e._v("        "),t("i",{staticClass:"el-icon-download",staticStyle:{color:"red","font-size":"20px"}}),e._v("   "),t("span",{pre:!0,attrs:{class:"badge alert-info",style:"background-color: #CC99CC; color: white; padding: 1px 2px; border-radius: 4px;"}},[e._v("Download")]),e._v(" figures and the results of epistasis analyses. ")])])])]),t("div",{staticStyle:{width:"30%","margin-left":"15px",padding:"30px 10px 10px 0px","margin-top":"20px"}},[t("img",{staticStyle:{"max-width":"100%",height:"auto"},attrs:{src:"home_epistasis.svg",alt:"Image description"}})])])])])},function(){var e=this,t=e._self._c;return t("div",{staticClass:"panel-header"},[t("span",{staticStyle:{"font-family":"Helvetica"}},[e._v(" Browse by cancer type ")])])}],k=(a(44114),a(23680)),A=a(72128),N=(a(63611),a(40255));i["default"].use(A.Ay),i["default"].component("a-icon",N.A);var T={name:"Home",data(){return{input:"",chartSample:null,chartInteraction:null,charQTL:null,autoplay:!0,showData:[{name:"Cancer type",number:"16"},{name:"Cancer samples",number:"82,018"},{name:"GWAS loci",number:"173,172"},{name:"Interaction Pairs",number:"145,504"}],chartTitles:[{id:1,title:"The number of cancer samples across 16 cancers"},{id:2,title:"The number of identified epiSNPs across 16 cancer types"},{id:3,title:"The number of epiSNP related GWAS loci across 16 cancer types"}],speciesList:[{name:"Breast",image:"Breast.png",descriptionLine1:"Case=19,207",descriptionLine2:"Control=161,999",descriptionLine3:"epiSNPs=10,605",showDetails:!1},{name:"Prostate",image:"Prostate.png",descriptionLine1:"Case=14,466",descriptionLine2:"Control=136,966",descriptionLine3:"epiSNPs=11,461",showDetails:!1},{name:"Melanoma",image:"Melanoma.png",descriptionLine1:"Case=8,416",descriptionLine2:"Control=298,965",descriptionLine3:"epiSNPs=10,080",showDetails:!1},{name:"Colon",image:"Colon.png",descriptionLine1:"Case=6,834",descriptionLine2:"Control=298,965",descriptionLine3:"epiSNPs=9,718",showDetails:!1},{name:"Cervical",image:"Cervical.png",descriptionLine1:"Case=6,740",descriptionLine2:"Control=161,999",descriptionLine3:"epiSNPs=11,027",showDetails:!1},{name:"Lung",image:"Lung.png",descriptionLine1:"Case=4,960",descriptionLine2:"Control=298,965",descriptionLine3:"epiSNPs=10,970",showDetails:!1},{name:"Bladder",image:"Bladder.png",descriptionLine1:"Case=4,128",descriptionLine2:"Control=298,965",descriptionLine3:"epiSNPs=10,224",showDetails:!1},{name:"Rectal",image:"Rectal.png",descriptionLine1:"Case=3,142",descriptionLine2:"Control=298,965",descriptionLine3:"epiSNPs=10,470",showDetails:!1},{name:"Uterine",image:"Uterine.png",descriptionLine1:"Case=2,768",descriptionLine2:"Control=161,999",descriptionLine3:"epiSNPs=10,661",showDetails:!1},{name:"Kidney",image:"Kidney.png",descriptionLine1:"Case=2,314",descriptionLine2:"Control=298,965",descriptionLine3:"epiSNPs=10,841",showDetails:!1},{name:"Ovarian",image:"Ovarian.png",descriptionLine1:"Case=2,182",descriptionLine2:"Control=161,999",descriptionLine3:"epiSNPs=10,526",showDetails:!1},{name:"Pancreatic",image:"Pancreatic.png",descriptionLine1:"Case=1,668",descriptionLine2:"Control=298,965",descriptionLine3:"epiSNPs=10,681",showDetails:!1},{name:"Esophagus",image:"Esophagus.png",descriptionLine1:"Case=1,609",descriptionLine2:"Control=298,965",descriptionLine3:"epiSNPs=11,563",showDetails:!1},{name:"Stomach",image:"Stomach.png",descriptionLine1:"Case=1,305",descriptionLine2:"Control=298,965",descriptionLine3:"epiSNPs=11,369",showDetails:!1},{name:"Brain",image:"Brain.png",descriptionLine1:"Case=1,157",descriptionLine2:"Control=298,965",descriptionLine3:"epiSNPs=11,605",showDetails:!1},{name:"Liver",image:"Liver.png",descriptionLine1:"Case=1,122",descriptionLine2:"Control=298,965",descriptionLine3:"epiSNPs=11,371",showDetails:!1}]}},methods:{fillInputAndSearch(e){this.input=e,this.quickSearch()},pauseCarousel(){this.autoplay=!1},resumeCarousel(){this.autoplay=!0},getColor(e){return"Cancer type"===e||"16"===e?"#FF9933":"Cancer samples"===e||"82,018"===e?"#3F51B5":"GWAS loci"===e||"173,172"===e?"#9B59B6":"Interaction Pairs"===e||"145,504"===e?"#D9386D":"black"},determineQueryType(e){const t=["Bladder","Brain","Breast","Lung","Cervical","Colon","Melanoma","Esophagus","Kidney","Liver","Ovarian","Pancreatic","Prostate","Rectal","Stomach","Uterine"];return t.includes(e)?"quickSearchCancer":e.includes("-")&&e.includes(":")?"quickSearchPosition":e.includes("_")?"quickSearchSnpEpistasis":e.startsWith("rs")?"quickSearchSnp":null},handleImageClick(e){this.$router.push({name:"quickSearchCancer",params:{speciesName:e}})},showDetails(e){this.$set(this.speciesList[e],"showDetails",!0)},hideDetails(e){this.$set(this.speciesList[e],"showDetails",!1)},sampleNumPlot(){this.chartSample=k.Ts(document.getElementById("option1")),this.chartSample.setOption({title:{x:"center",y:"20px",textStyle:{fontSize:18}},tooltip:{trigger:"axis",appendToBody:!0,axisPointer:{type:"shadow"}},xAxis:{data:["Breast","Prostate","Melanoma","Colon","Cervical","Lung","Bladder","Rectal","Uterine","Kidney","Ovarian","Pancreatic","Esophagus","Stomach","Brain","Liver"],axisTick:{alignWithLabel:!0},axisLabel:{rotate:45}},yAxis:{},grid:{left:"10%",right:"15%",bottom:"0%",top:"8%",containLabel:!0},series:[{data:[19207,14466,8416,6834,6740,4960,4128,3142,2768,2314,2182,1668,1609,1305,1157,1122],type:"bar",barWidth:"30%",barCategoryGap:"10%",itemStyle:{normal:{color:function(e){var t=["#93c4ff","#93c4ff","#93c4ff","#93c4ff","#93c4ff","#93c4ff","#93c4ff","#93c4ff","#93c4ff","#93c4ff","#93c4ff","#93c4ff","#93c4ff","#93c4ff","#93c4ff","#93c4ff"];return t[e.dataIndex]}}},emphasis:{itemStyle:{color:"#FF7C43"},label:{show:!0,position:"top",formatter:"{c}"}}}]})},gwasPlot(){this.chartInteraction=k.Ts(document.getElementById("option3")),this.chartInteraction.setOption({title:{x:"center",y:"20px",textStyle:{fontSize:18}},tooltip:{trigger:"axis",appendToBody:!0,axisPointer:{type:"shadow"}},xAxis:{data:["Breast","Prostate","Melanoma","Colon","Cervical","Lung","Bladder","Rectal","Uterine","Kidney","Ovarian","Pancreatic","Esophagus","Stomach","Brain","Liver"],axisTick:{alignWithLabel:!0},axisLabel:{rotate:45}},yAxis:{},grid:{left:"10%",right:"15%",bottom:"0%",top:"8%",containLabel:!0},series:[{data:[10605,11461,10080,9718,11027,10970,10224,10470,10661,10841,10526,10681,11563,11369,11605,11371],type:"bar",barWidth:"30%",barCategoryGap:"10%",itemStyle:{normal:{color:function(e){var t=["#a7a7f2","#a7a7f2","#a7a7f2","#a7a7f2","#a7a7f2","#a7a7f2","#a7a7f2","#a7a7f2","#a7a7f2","#a7a7f2","#a7a7f2","#a7a7f2","#a7a7f2","#a7a7f2","#a7a7f2","#a7a7f2"];return t[e.dataIndex]}}},emphasis:{itemStyle:{color:"#FF7C43"},label:{show:!0,position:"top",formatter:"{c}",fontSize:10}}}]})},interactionNumPlot(){this.chartInteraction=k.Ts(document.getElementById("option2")),this.chartInteraction.setOption({title:{x:"center",y:"25px",textStyle:{fontSize:18}},tooltip:{trigger:"axis",appendToBody:!0,axisPointer:{type:"shadow"}},xAxis:{data:["Breast","Prostate","Melanoma","Colon","Cervical","Lung","Bladder","Rectal","Uterine","Kidney","Ovarian","Pancreatic","Esophagus","Stomach","Brain","Liver"],axisTick:{alignWithLabel:!0},axisLabel:{rotate:45}},yAxis:{},grid:{left:"10%",right:"15%",bottom:"0%",top:"8%",containLabel:!0},series:[{data:[6840,7717,7079,6347,18207,17227,7019,7421,7588,7870,7556,8221,8880,8976,9294,9262],type:"bar",barWidth:"30%",barCategoryGap:"10%",itemStyle:{normal:{color:function(e){var t=["#FF8A9A","#FF8A9A","#FF8A9A","#FF8A9A","#FF8A9A","#FF8A9A","#FF8A9A","#FF8A9A","#FF8A9A","#FF8A9A","#FF8A9A","#FF8A9A","#FF8A9A","#FF8A9A","#FF8A9A","#FF8A9A"];return t[e.dataIndex]}}},emphasis:{itemStyle:{color:"#FF7C43"},label:{show:!0,position:"top",formatter:"{c}"}}}]})},fillInput(e){this.input=e,this.selectedExample=e},isSelected(e){return this.selectedExample===e},quickSearch(){if(!this.input)return void this.$message.error("Please enter a query.");const e=this.determineQueryType(this.input);if(e)if("quickSearchPosition"===e){const[t,a]=this.input.split(":"),[i,s]=a.split("-");this.$router.push({name:e,params:{chromosome:t,start:parseInt(i),end:parseInt(s)}})}else this.$router.push({name:e,params:{queryID:this.input}});else this.$message.error("Invalid input format.")}},mounted(){this.$nextTick((()=>{this.$refs.searchInput.focus(),this.sampleNumPlot(),this.interactionNumPlot(),this.gwasPlot()})),this.$nextTick((()=>{this.$refs.searchInput.$el.querySelector(".el-input__inner").style.fontSize="15px"}))}},R=T,D=(0,p.A)(R,P,x,!1,null,null,null),O=D.exports,E=function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-container"},[t("el-card",{staticClass:"box-card"},[t("el-row",{staticClass:"custom-row",style:{marginBottom:"15px"}},[t("el-col",{attrs:{span:24}},[t("p",{staticClass:"card-description",staticStyle:{"font-size":"20px","line-height":"1.6","font-family":"'Helvetica'"}},[e._v(" This module provides the significant epiSNP associated with cancers (P-value < 0.05). ")])])],1),t("div",[t("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("Query type:")]),t("el-select",{staticClass:"place-input query-type-select",staticStyle:{width:"100%","z-index":"1000"},attrs:{placeholder:"Query type"},model:{value:e.selectQueryType,callback:function(t){e.selectQueryType=t},expression:"selectQueryType"}},e._l(e.queryTypes,(function(a){return t("el-option",{key:a.id,attrs:{value:a.queryName}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.queryName))])])})),1)],1),t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("Cancer type:")]),t("el-select",{staticClass:"place-input cancer-type-select",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"Cancer type"},model:{value:e.selectCancerType,callback:function(t){e.selectCancerType=t},expression:"selectCancerType"}},e._l(e.cancerType,(function(a){return t("el-option",{key:a.id,attrs:{value:a.cancerName}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.cancerName))]),t("span",{staticStyle:{float:"right"}},[e._v("(N="+e._s(a.sampleNumber)+")")])])})),1)],1),"SNP"===e.selectQueryType?t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("SNP:")]),t("el-input",{staticClass:"place-input",staticStyle:{width:"100%"},attrs:{placeholder:"SNP"},model:{value:e.queryRsid1,callback:function(t){e.queryRsid1=t},expression:"queryRsid1"}}),t("span",{class:{"text-black":!e.isClicked1,"text-orange":e.isClicked1},staticStyle:{"font-size":"16px"},on:{click:e.handleClickAndSetQueryRsid1}},[e._v("e.g., rs17632542")])],1):e._e(),"Chromosome range"===e.selectQueryType?t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("Chromosome range:")]),t("el-input",{staticClass:"place-input",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"Chromosome range"},model:{value:e.queryRsid1,callback:function(t){e.queryRsid1=t},expression:"queryRsid1"}}),t("span",{class:{"text-black":!e.isClicked2,"text-orange":e.isClicked2},staticStyle:{"font-size":"16px"},on:{click:e.handleClickAndSetQueryRsid2}},[e._v("e.g., chr1:1003629-4063154")])],1):e._e(),t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("P-value threshold:")]),t("el-select",{staticClass:"place-input p-value-select",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"P-value"},model:{value:e.pValueThreshold,callback:function(t){e.pValueThreshold=t},expression:"pValueThreshold"}},[t("el-option",{attrs:{label:"0.05",value:"0.05"}}),t("el-option",{attrs:{label:"1e-5",value:"1e-5"}}),t("el-option",{attrs:{label:"5e-6",value:"5e-6"}}),t("el-option",{attrs:{label:"5e-8",value:"5e-8"}})],1)],1)],1)],1),t("div",{staticStyle:{margin:"15px 0 0px"}},[t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{span:4}}),t("el-col",{staticClass:"text-center",attrs:{span:4}},[t("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("Submit")])],1),t("el-col",{staticClass:"text-center",attrs:{span:4}},[t("el-button",{staticClass:"cancel-button",attrs:{type:"danger"},on:{click:e.clearInput}},[e._v("Cancel")])],1),t("el-col",{attrs:{span:4}})],1)],1)],1),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"header-controls"},[t("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.recordNumber,"page-size":e.perPage,"current-page":e.currentPage,layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.currentChange}}),t("div",{staticStyle:{"margin-bottom":"0px","text-align":"right","margin-right":"20px"}},[t("el-button",{staticStyle:{"font-size":"35px",padding:"0","background-color":"white",color:"blue","font-weight":"bold"},attrs:{type:"primary",circle:!0},on:{click:e.downloadCSV}},[t("i",{staticClass:"el-icon-download"})])],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.SnpGwasSearchThreeWayResult,"max-height":"600",stripe:"","empty-text":"No results found for your query"}},[t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"N",label:"Sample",width:"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{staticStyle:{"font-size":"2.2em",cursor:"pointer",color:"blueviolet"},attrs:{type:"bar-chart",theme:"outlined"},on:{click:function(t){return e.fetchPdf(a.row.Cancertype,a.row.SNP)}}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Cancertype",label:"Cancer",width:"105",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{color:"red",fontSize:e.cancerTypes.includes(a.row.Cancertype)?"1.1em":"inherit"}},[e._v(" "+e._s(a.row.Cancertype)+" ")])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"SNP",label:"SNP",width:"133",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(a.row.SNP)+" "),t("a",{attrs:{target:"_blank",href:"https://www.ncbi.nlm.nih.gov/snp/"+a.row.SNP}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"Position",width:"188",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(a.row.Pos)+" : "+e._s(a.row.POS)+" "),t("a",{attrs:{target:"_blank",href:"http://genome.ucsc.edu/cgi-bin/hgTracks?db=hg19&position="+a.row.Pos+":"+a.row.POS}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"A1",label:"A1",width:"68",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" A1 "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"The effect allele calculated by GCTA fast-GLMM",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"A2",label:"A2",width:"68",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" A2 "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"The other allele calculated by GCTA fast-GLMM",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"AF1",label:"AF1",width:"58",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(parseFloat(a.row.AF1).toFixed(2)))])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"BETA",label:"OR",width:"105",sortable:"",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(parseFloat(Math.exp(a.row.BETA)).toFixed(2)))])]}},{key:"header",fn:function(){return[e._v(" Beta "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Beta calculated by GCTA fast-GLMM",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"P",label:"P-value",width:"123",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(parseFloat(t.row.P).toExponential(2))+" ")]}},{key:"header",fn:function(){return[e._v(" P-value "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"P-value calculated by GCTA fast-GLMM",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"case",label:"Case",width:"72",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"control",label:"Control",width:"80",align:"center","show-overflow-tooltip":""}})],1),t("el-dialog",{style:{maxWidth:"560px",margin:"0 auto"},attrs:{visible:e.imageDialogVisible,width:"auto","close-on-click-modal":!0,"close-on-press-escape":!0,"modal-append-to-body":!1},on:{"update:visible":function(t){e.imageDialogVisible=t},close:e.handleClose}},[t("div",{staticStyle:{"text-align":"center"},on:{click:function(t){e.imageDialogVisible=!1}}},[t("img",{staticStyle:{width:"530px",height:"500px","object-fit":"contain"},attrs:{src:e.imageUrl,alt:"Image Preview"}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClicked},on:{click:function(t){return t.stopPropagation(),e.handleDownload.apply(null,arguments)}}},[e._v(" Download ")])])])],1)],1)},L=[],U=(a(18111),a(61701),a(94335)),B={name:"SNP-GWAS",data(){return{cancerType:[{id:"001",cancerName:"All",sampleNumber:"399723"},{id:"002",cancerName:"Breast",sampleNumber:"189339"},{id:"003",cancerName:"Prostate",sampleNumber:"159222"},{id:"004",cancerName:"Melanoma",sampleNumber:"322104"},{id:"005",cancerName:"Colon",sampleNumber:"320482"},{id:"006",cancerName:"Cervical",sampleNumber:"176438"},{id:"007",cancerName:"Lung",sampleNumber:"318728"},{id:"008",cancerName:"Bladder",sampleNumber:"317673"},{id:"009",cancerName:"Rectal",sampleNumber:"316597"},{id:"0010",cancerName:"Uterine",sampleNumber:"172157"},{id:"0011",cancerName:"Kidney",sampleNumber:"315750"},{id:"0012",cancerName:"Ovarian",sampleNumber:"171548"},{id:"0013",cancerName:"Pancreatic",sampleNumber:"315056"},{id:"0014",cancerName:"Esophagus",sampleNumber:"315022"},{id:"0015",cancerName:"Stomach",sampleNumber:"314676"},{id:"0016",cancerName:"Brain",sampleNumber:"314501"},{id:"0017",cancerName:"Liver",sampleNumber:"314490"}],queryTypes:[{id:"001",queryName:"SNP"},{id:"002",queryName:"Chromosome range"},{id:"003",queryName:"Cancer type"}],cancerTypes:["Bladder","Brain","Breast","Cancertype","Cervical","Colon","Esophagus","Kidney","Liver","Lung","Melanoma","Ovarian","Pancreatic","Prostate","Rectal","Stomach","Uterine"],selectQueryType:"",SnpGwasSearchThreeWayResult:[],recordNumber:0,currentPage:1,selectCancerType:"",queryRsid1:"",pValueThreshold:"0.05",isClicked1:!1,isClicked2:!1,loading:!1,perPage:8,defaultQueryType:"SNP",defaultCancerType:"Breast",defaultPValueThreshold:"0.05",imageUrl:"",downloadClicked:!1,imageDialogVisible:!1,initialLoad:!0}},methods:{handleClickAndSetQueryRsid1(){this.isClicked1=!this.isClicked1,this.queryRsid1="rs11992171",this.selectCancerType="Prostate",this.pValueThreshold="0.05"},handleClickAndSetQueryRsid2(){this.isClicked2=!this.isClicked2,this.queryRsid1="chr16:90093070-90103075",this.selectCancerType="Melanoma",this.pValueThreshold="0.05"},handleDownload(){this.downloadClicked=!0,this.downloadPdf()},handleClose(){this.imageDialogVisible=!1,this.downloadClicked=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},handleOutsideClick(e){const t=e.target.closest(".el-dialog");t||this.handleClose()},validateAndFormatInput(e){return e=e.replace(/\s+/g,""),/^rs/i.test(e)?e.toLowerCase():/^affx/i.test(e)?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():/^chr\d+:\d+-\d+$/.test(e)?e.toLowerCase():"Cancer type"===this.selectQueryType?e:(this.$alert("Invalid input","Error",{confirmButtonText:"OK",callback:()=>{this.SnpGwasSearchThreeWayResult=[],this.recordNumber=0}}),null)},clearInput(){this.queryRsid1="",this.selectQueryType=this.defaultQueryType,this.selectCancerType=this.defaultCancerType,this.pValueThreshold=this.defaultPValueThreshold,this.isClicked1=!1,this.isClicked2=!1,this.SnpGwasSearchThreeWayResult=[]},initData(){this.initialLoad=!0,this.selectQueryType="SNP",this.pValueThreshold="0.05",this.submitForm()},submitForm(){this.loading=!0;let e={};if(this.initialLoad)e={Type:!0},this.initialLoad=!1;else if("SNP"===this.selectQueryType||"Chromosome range"===this.selectQueryType){let t=this.validateAndFormatInput(this.queryRsid1);if(null===t)return this.SnpGwasSearchThreeWayResult=[],this.recordNumber=0,void(this.loading=!1);e={queryType:this.selectQueryType,cancerType:this.selectCancerType||"All",pValue:this.pValueThreshold,page:this.currentPage,perPage:this.perPage,snp:t,chromosomeRange:"Chromosome range"===this.selectQueryType?t:void 0}}else"Cancer type"===this.selectQueryType&&(e={queryType:this.selectQueryType,cancerType:this.selectCancerType||"All",pValue:this.pValueThreshold,page:this.currentPage,perPage:this.perPage});U.A.post("api/SnpGwasSearchThreeWay",e).then((e=>{this.SnpGwasSearchThreeWayResult=e.data.results,this.recordNumber=e.data.total})).catch((e=>{console.error("Error during search:",e),this.$message.error("Search failed due to server error.")})).finally((()=>{this.loading=!1}))},currentChange(e){this.currentPage=e,this.submitForm()},downloadCSV(){const e=["Cancer","SNP","Position","A1","A2","AF1","OR","P-value","Case","Control","Sample"],t=this.SnpGwasSearchThreeWayResult.map((e=>[e.Cancertype,e.SNP,`${e.Pos}:${e.POS}`,e.A1,e.A2,parseFloat(e.AF1).toFixed(2),parseFloat(Math.exp(e.BETA)).toFixed(2),parseFloat(e.P).toExponential(2),e.case,e.control,e.N]));let a="data:text/csv;charset=utf-8,"+e.join(",")+"\n"+t.map((e=>e.join(","))).join("\n");const i=encodeURI(a),s=document.createElement("a"),o=this.selectQueryType||"",n=this.selectCancerType||"",l=this.queryRsid1||"",r=this.pValueThreshold||"",c=this.currentPage||"",p=[o,n,l,r],d=p.filter((e=>""!==e)).join("_")+`_page${c}.csv`;s.setAttribute("href",i),s.setAttribute("download",d),document.body.appendChild(s),s.click(),document.body.removeChild(s)},downloadPdf(){const e=this.currentCancertype,t=this.currentSNP;U.A.get("api/downloadPdf",{params:{Cancertype:encodeURIComponent(e),SNP:encodeURIComponent(t)},responseType:"blob"}).then((a=>{const i=window.URL.createObjectURL(new Blob([a.data])),s=`${e}_${t}.pdf`,o=document.createElement("a");o.href=i,o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClicked=!1}))},fetchPdf(e,t){this.currentCancertype=e,this.currentSNP=t,U.A.get("api/getPdf",{params:{Cancertype:encodeURIComponent(e),SNP:encodeURIComponent(t)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisible=!0})).catch((e=>{console.error("Error fetching image:",e)}))}},computed:{},mounted(){this.initData(),document.addEventListener("click",this.handleOutsideClick)},beforeDestroy(){document.removeEventListener("click",this.handleOutsideClick)}},j=B,I=(0,p.A)(j,E,L,!1,null,"741e7167",null),G=I.exports,M=function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-container"},[t("el-card",{staticClass:"box-card"},[t("el-row",{staticClass:"custom-row",style:{marginBottom:"15px"}},[t("el-col",{attrs:{span:24}},[t("p",{staticClass:"card-description",staticStyle:{"font-size":"18px","line-height":"1.7","font-family":"'Helvetica'"}},[e._v(" This module provides 202,032 epistasis with a P-value less than 1e-5 across 16 cancer types, identified through the boost, epistasis, and joint methods. This module provides "),t("span",{staticStyle:{color:"blue","font-weight":"bold"}},[e._v("202,032")]),e._v(" epistasis with a P-value less than 1e-5 across 16 cancer types. ")])])],1),t("div",[t("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("Query type:")]),t("el-select",{staticClass:"place-input query-type-select",staticStyle:{width:"100%","z-index":"1000"},attrs:{placeholder:"Query type"},model:{value:e.selectQueryType,callback:function(t){e.selectQueryType=t},expression:"selectQueryType"}},e._l(e.queryTypes,(function(a){return t("el-option",{key:a.id,attrs:{value:a.queryName}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.queryName))])])})),1)],1),t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("Cancer type:")]),t("el-select",{staticClass:"place-input cancer-type-select",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"Cancer type"},model:{value:e.selectCancerType,callback:function(t){e.selectCancerType=t},expression:"selectCancerType"}},e._l(e.cancerType,(function(a){return t("el-option",{key:a.id,attrs:{value:a.cancerName}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.cancerName))]),t("span",{staticStyle:{float:"right"}},[e._v("(N="+e._s(a.sampleNumber)+")")])])})),1)],1),"SNP"===e.selectQueryType?t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("SNP:")]),t("el-input",{staticClass:"place-input",staticStyle:{width:"100%"},attrs:{placeholder:"SNP"},model:{value:e.queryRsid1,callback:function(t){e.queryRsid1=t},expression:"queryRsid1"}}),t("span",{class:{"text-black":!e.isClicked1,"text-orange":e.isClicked1},staticStyle:{"font-size":"16px"},on:{click:e.handleClickAndSetQueryRsid1}},[e._v("e.g., rs12924101")])],1):e._e(),"SNP epistasis"===e.selectQueryType?t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("SNP epistasis:")]),t("el-input",{staticClass:"place-input",staticStyle:{width:"100%"},attrs:{placeholder:"SNP epistasis"},model:{value:e.queryRsid1,callback:function(t){e.queryRsid1=t},expression:"queryRsid1"}}),t("span",{class:{"text-black":!e.isClicked2,"text-orange":e.isClicked2},staticStyle:{"font-size":"16px"},on:{click:e.handleClickAndSetQueryRsid2}},[e._v("e.g., rs6687430_rs17781327")])],1):e._e(),t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("P-value threshold:")]),t("el-select",{staticClass:"place-input p-value-select",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"P-value"},model:{value:e.pValueThreshold,callback:function(t){e.pValueThreshold=t},expression:"pValueThreshold"}},[t("el-option",{attrs:{label:"0.05",value:"0.05"}}),t("el-option",{attrs:{label:"1e-5",value:"1e-5"}}),t("el-option",{attrs:{label:"5e-6",value:"5e-6"}}),t("el-option",{attrs:{label:"5e-8",value:"5e-8"}})],1)],1)],1)],1),t("div",{staticStyle:{margin:"15px 0 0px"}},[t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{span:4}}),t("el-col",{staticClass:"text-center",attrs:{span:4}},[t("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("Submit")])],1),t("el-col",{staticClass:"text-center",attrs:{span:4}},[t("el-button",{staticClass:"cancel-button",attrs:{type:"danger"},on:{click:e.clearInput}},[e._v("Cancel")])],1),t("el-col",{attrs:{span:4}})],1)],1)],1),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"header-controls"},[t("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.recordNumber,"page-size":e.perPage,"current-page":e.currentPage,layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.currentChange}}),t("div",{staticStyle:{"margin-bottom":"0px","text-align":"right","margin-right":"20px"}},[t("el-button",{staticStyle:{"font-size":"35px",padding:"0","background-color":"white",color:"blue","font-weight":"bold"},attrs:{type:"primary",circle:!0},on:{click:e.downloadCSV}},[t("i",{staticClass:"el-icon-download"})])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.QTLData.SnpEpistasis,"empty-text":"No SNP epistasis results found for your query"}},[t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"alleles1",label:"Sample",width:"78",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{staticStyle:{"font-size":"2.0em",cursor:"pointer",color:"#AED4D4"},attrs:{type:"fund",theme:"twoTone"},on:{click:function(t){return e.fetchPdfSample(a.row.Cancertype,a.row.SNPepi)}}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"ORstatus",label:"OR plot",width:"82",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{style:{fontSize:"2.0em",cursor:"pointer",color:a.row.ORstatus?"blue":"grey"},attrs:{type:"bar-chart",theme:"outlined"},on:{click:function(t){return e.fetchPdfOR(a.row.Cancertype,a.row.SNPepi,a.row.ORstatus)}}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"Reliability",width:"92",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("div",{staticClass:"stars-container"},[t("el-tooltip",{attrs:{content:"epistasis",placement:"top"}},[t("i",{staticClass:"el-icon-star-on",class:{"star-yellow":e.row.Isepistasis,"star-gray":!e.row.Isepistasis},staticStyle:{"font-size":"24px"}})]),t("el-tooltip",{attrs:{content:"joint",placement:"top"}},[t("i",{staticClass:"el-icon-star-on",class:{"star-yellow":e.row.Isjoint,"star-gray":!e.row.Isjoint},staticStyle:{"font-size":"24px"}})]),t("el-tooltip",{attrs:{content:"boost",placement:"top"}},[t("i",{staticClass:"el-icon-star-on",class:{"star-yellow":e.row.Isboost,"star-gray":!e.row.Isboost},staticStyle:{"font-size":"24px"}})])],1)]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Cancertype",label:"Cancer",width:"107",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{color:"red",fontSize:e.cancerTypes.includes(a.row.Cancertype)?"1.1em":"inherit"}},[e._v(" "+e._s(a.row.Cancertype)+" ")])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"SNPepi",label:"SNP epistasis",width:"260",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return e._l(a.row.SNPepi.split("_"),(function(a,i){return t("span",{key:i},[e._v(" "+e._s(a)+" "),t("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/snp/"+a,target:"_blank"}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})]),0===i?t("span",[e._v("_")]):e._e()])}))}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"Odds ratio",width:"115",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Odds ratio "),t("el-tooltip",{attrs:{content:"Odds ratio for snp epistasis calculated by PLINK",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.OR_INT?t.row.OR_INT.toFixed(2):"")+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"P_epistasis",label:"P_epistasis",width:"146",sortable:"",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P_epistasis "),t("el-tooltip",{attrs:{content:"Asymptotic p-value calculated by PLINK",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.P_epistasis&&100!=t.row.P_epistasis?t.row.P_epistasis.toExponential(2):"-")+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Best_snp",label:"Best SNP",width:"113",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Best SNP "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"The SNP with the highest statistic obtained by testing SNP1 through PLINK.",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"P-joint",width:"110",sortable:"",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-joint "),t("el-tooltip",{attrs:{content:"Joint p-value",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(a){return[t("span",{domProps:{innerHTML:e._s(void 0!==a.row.P_joint&&100!=a.row.P_joint?a.row.P_joint.toExponential(2):"<i class='el-icon-minus' style='color: #FA8072;'></i>")}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"P-boost",width:"119",sortable:"",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-boost "),t("el-tooltip",{attrs:{content:"Boost p-value",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(a){return[t("span",{domProps:{innerHTML:e._s(void 0!==a.row.P_boost&&100!=a.row.P_boost?a.row.P_boost.toExponential(2):"<i class='el-icon-minus' style='color: #FA8072;'></i>")}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"P-saige",width:"117",sortable:"",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-saige "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Asymptotic p-value calculated by SAIGE",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.P_saige?0===t.row.P_saige?"0":t.row.P_saige.toExponential(2):"")+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"IsSPA",label:"Is.SPA",width:"88",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("i",{class:["custom-icon",e.row.IsSPA?"el-icon-check":"el-icon-close"],style:{color:e.row.IsSPA?"green":"red"}})]}},{key:"header",fn:function(){return[e._v(" Is.SPA "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Whether saddle point approximation(SPA) is converged or not",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])})],1),t("el-dialog",{style:{maxWidth:"700px",margin:"0 auto"},attrs:{visible:e.imageDialogVisibleSample,width:"auto","close-on-click-modal":!1,"close-on-press-escape":!0,"modal-append-to-body":e.useModalAppendToBody},on:{"update:visible":function(t){e.imageDialogVisibleSample=t},close:e.handleCloseSample}},[t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center",position:"relative"},on:{click:e.handleCloseSample}},[t("img",{staticStyle:{width:"600px",height:"500px","object-fit":"contain",cursor:"pointer",position:"relative","z-index":"2"},attrs:{src:e.imageUrl,alt:"Image Preview"},on:{click:e.handleCloseSample}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClickedSample},staticStyle:{position:"relative","z-index":"2","margin-top":"20px","font-size":"18px"},on:{click:function(t){return t.stopPropagation(),e.handleDownloadSample.apply(null,arguments)}}},[e._v(" Download ")])])]),t("el-dialog",{style:{maxWidth:"700px",margin:"0 auto"},attrs:{visible:e.imageDialogVisibleOR,width:"auto","close-on-click-modal":!1,"close-on-press-escape":!0,"modal-append-to-body":e.useModalAppendToBody},on:{"update:visible":function(t){e.imageDialogVisibleOR=t},close:e.handleCloseOR}},[t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center",position:"relative"},on:{click:e.handleCloseOR}},[t("img",{staticStyle:{width:"700px",height:"500px","object-fit":"contain",cursor:"pointer",position:"relative","z-index":"2"},attrs:{src:e.imageUrl,alt:"Image Preview"},on:{click:e.handleCloseOR}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClickedOR},staticStyle:{position:"relative","z-index":"2","margin-top":"20px","font-size":"18px"},on:{click:function(t){return t.stopPropagation(),e.handleDownloadOR.apply(null,arguments)}}},[e._v(" Download ")])])]),e.showAlert?t("div",{staticClass:"custom-alert",on:{click:e.closeAlert}},[t("div",{staticClass:"custom-alert-content",on:{click:e.stopPropagation}},[t("div",{staticStyle:{"font-size":"20px","line-height":"1.5em","text-align":"center"}},[t("strong",{staticStyle:{color:"blue"}},[e._v("Please note: ")]),e._v(" The epistasis associated with this SNP has not satisfied the criteria for sample filtration "),t("strong",{staticStyle:{color:"black"}},[e._v("sample filtration")]),e._v(" in the context of the current cancer phenotype. ")]),t("el-button",{staticStyle:{"margin-top":"20px"},on:{click:e.closeAlert}},[e._v("OK")])],1)]):e._e()],1)],1)},F=[],z={name:"EpistasisSNP",data(){return{selectQueryType:"",selectCancerType:"",pValueThreshold:"",isBestSnpModalVisible:!1,formattedRowDetails:[],queryTypes:[{id:"001",queryName:"SNP"},{id:"002",queryName:"SNP epistasis"},{id:"003",queryName:"Cancer type"}],cancerType:[{id:"001",cancerName:"All",sampleNumber:"399723"},{id:"002",cancerName:"Breast",sampleNumber:"189339"},{id:"003",cancerName:"Prostate",sampleNumber:"159222"},{id:"004",cancerName:"Melanoma",sampleNumber:"322104"},{id:"005",cancerName:"Colon",sampleNumber:"320482"},{id:"006",cancerName:"Cervical",sampleNumber:"176438"},{id:"007",cancerName:"Lung",sampleNumber:"318728"},{id:"008",cancerName:"Bladder",sampleNumber:"317673"},{id:"009",cancerName:"Rectal",sampleNumber:"316597"},{id:"0010",cancerName:"Uterine",sampleNumber:"172157"},{id:"0011",cancerName:"Kidney",sampleNumber:"315750"},{id:"0012",cancerName:"Ovarian",sampleNumber:"171548"},{id:"0013",cancerName:"Pancreatic",sampleNumber:"315056"},{id:"0014",cancerName:"Esophagus",sampleNumber:"315022"},{id:"0015",cancerName:"Stomach",sampleNumber:"314676"},{id:"0016",cancerName:"Brain",sampleNumber:"314501"},{id:"0017",cancerName:"Liver",sampleNumber:"314490"}],cancerTypes:["Bladder","Brain","Breast","Cancertype","Cervical","Colon","Esophagus","Kidney","Liver","Lung","Melanoma","Ovarian","Pancreatic","Prostate","Rectal","Stomach","Uterine"],searchRecordNumber:{},QTLData:{SnpEpistasis:[]},recordNumber:0,showBlock:"N",pValueThreshold:"",loading:!1,selectCancerType:"",isClicked1:!1,isClicked2:!1,isClicked3:!1,queryRsid1:"rs6687430_rs17781327",queryRsid2:"",flag:1,currentPage:1,perPage:8,rowHeight:60,defaultQueryType:"SNP epistasis",defaultCancerType:"Melanoma",defaultPValueThreshold:"0.05",currentCancertype:"",currentSNP:"",currentSNPepi:"",imageDialogVisibleSample:!1,imageDialogVisibleOR:!1,imageUrl:"",downloadClickedSample:!1,downloadClickedOR:!1,useModalAppendToBody:!1,showAlert:!1,useModalAppendToBody:!1,isFirstLoad:!0}},computed:{tableHeight(){return this.QTLData.SnpEpistasis.length<this.perPage?this.rowHeight*this.QTLData.SnpEpistasis.length+50:this.rowHeight*this.perPage+50}},methods:{setQueryRsid1(e){this.queryRsid1=e},toggleClickStatus(e){this["isClicked"+e]=!this["isClicked"+e]},handleClickAndSetQueryRsid1(){this.setQueryRsid1("rs12924101"),this.toggleClickStatus(1),this.selectCancerType="Melanoma",this.pValueThreshold="0.05"},handleClickAndSetQueryRsid2(){this.setQueryRsid1("rs6687430_rs17781327"),this.toggleClickStatus(2),this.selectCancerType="Melanoma",this.pValueThreshold="0.05"},handleClickAndSetQueryRsid3(){this.toggleClickStatus(2),this.selectCancerType="Colon",this.pValueThreshold="0.05"},handleCloseSample(){this.imageDialogVisibleSample=!1,this.downloadClickedSample=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},handleCloseOR(){this.imageDialogVisibleOR=!1,this.downloadClickedOR=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},handleOutsideClick(e){const t=this.$el.querySelector('.el-dialog__wrapper[aria-label="Sample"]'),a=this.$el.querySelector('.el-dialog__wrapper[aria-label="OR_plot"]');t&&!t.contains(e.target)&&this.handleCloseSample(),a&&!a.contains(e.target)&&this.handleCloseOR()},handleClose(){this.imageDialogVisible=!1,this.downloadClicked=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},valueCheck(e){if(/[@#\$%\^&\*]+/g.test(e))return this.$message.error("Invalid input"),null;const t=/^(rs\d+|affx-\d+)(_(rs\d+|affx-\d+))?$/i,a=e.trim().toLowerCase();if(!t.test(a))return this.$message.error("Invalid input"),null;if(a.startsWith("rs"))return a;if(a.startsWith("affx-")){const e=a.split("_"),t=e.map((e=>e.startsWith("rs")?e:e.startsWith("affx-")?"Affx-"+e.slice(5):e));return t.join("_")}return a},normalizeAndTrimInput(e){return e.replace(/\s+/g,"")},changePage(e){this.currentPage=e,this.submitForm()},initData(){this.isFirstLoad&&(this.isFirstLoad=!1,U.A.get("api/SnpEpistasis",{params:{isFirstLoad:!0,Type:!0}}).then((e=>{this.QTLData.SnpEpistasis=e.data.SnpEpistasis_results,this.recordNumber=e.data.total_count,this.loading=!1})).catch((e=>{this.loading=!1})))},isValidInput(e){const t=/^[a-zA-Z0-9-_]+$/;return t.test(e)},normalizeInput(e){const t=e.trim();return/^rs/i.test(t)?"rs"+t.slice(2).toLowerCase():/^affx-/i.test(t)?"Affx-"+t.slice(5):null},submitForm(){this.showBlock="Y",this.queryRsid1=this.normalizeAndTrimInput(this.queryRsid1),this.queryRsid2=this.normalizeAndTrimInput(this.queryRsid2);let e={selectQueryType:this.selectQueryType||"SNP",selectCancerType:this.selectCancerType||"All",currentPage:this.currentPage,perPage:this.perPage,pValueThreshold:this.pValueThreshold,isFirstLoad:!1};if("SNP"===this.selectQueryType){if(!this.isValidInput(this.queryRsid1)||null===this.normalizeInput(this.queryRsid1))return void this.$alert("Invalid input","Error",{confirmButtonText:"OK",callback:()=>{this.QTLData.SnpEpistasis=[],this.recordNumber=0}});e.queryRsid1=this.normalizeInput(this.queryRsid1),e.selectCancerType=this.selectCancerType,e.pValueThreshold=this.pValueThreshold}else if("SNP epistasis"===this.selectQueryType){if(!this.isValidInput(this.queryRsid1)||null===this.normalizeInput(this.queryRsid1))return void this.$alert("Invalid input","Error",{confirmButtonText:"OK",callback:()=>{this.QTLData.SnpEpistasis=[],this.recordNumber=0}});e.queryRsid1=this.normalizeInput(this.queryRsid1),e.selectCancerType=this.selectCancerType,e.pValueThreshold=this.pValueThreshold}else"Cancer type and P-value"===this.selectQueryType&&(e.selectCancerType=this.selectCancerType,e.pValueThreshold=this.pValueThreshold);if(null===e.queryRsid1)return this.QTLData.SnpEpistasis=[],this.recordNumber=0,void(this.loading=!1);U.A.get("api/SnpEpistasis",{params:e}).then((e=>{this.QTLData.SnpEpistasis=e.data.SnpEpistasis_results,this.recordNumber=e.data.total_count,this.loading=!1})).catch((e=>{this.loading=!1})),1===this.flag?this.loading=!0:this.loading=!1},clearInput(){this.selectQueryType="",this.selectCancerType="",this.queryRsid1="",this.queryRsid2="",this.pValueThreshold="",this.isOrange1=!1},currentChange(e){this.currentPage=e,this.submitForm()},downloadCSV(){if(!Array.isArray(this.QTLData.SnpEpistasis)||0===this.QTLData.SnpEpistasis.length)return void this.$message.error("No data available for download");const e=["Cancer","SNP epistasis","Odds ratio","STAT","P-value","Best SNP","P-saige"],t=this.QTLData.SnpEpistasis.map((e=>[e.Cancertype,e.SNP_epi,void 0!==e.OR_INT?e.OR_INT.toFixed(2):"",void 0!==e.STAT?e.STAT.toFixed(2):"",void 0!==e.P?e.P.toExponential(2):"",e.Best_snp,void 0!==e.saige_p?0===e.saige_p?"0":e.saige_p.toExponential(2):""]));let a="data:text/csv;charset=utf-8,"+e.join(",")+"\n"+t.map((e=>e.join(","))).join("\n");const i=encodeURI(a),s=document.createElement("a"),o=this.selectCancerType||"",n=this.queryRsid1||"",l=this.pValueThreshold||"",r=[o,n,l],c=r.filter((e=>""!==e)).join("_")+".csv";s.setAttribute("href",i),s.setAttribute("download",c),document.body.appendChild(s),s.click(),document.body.removeChild(s)},handleDownloadOR(){this.downloadClickedOR=!0,this.ORdownloadPdf()},handleDownloadSample(){this.downloadClickedSample=!0,this.SampledownloadPdf()},fetchPdfSample(e,t){this.currentCancertype=e,this.currentSNPepi=t,U.A.get("api/SnpEpistasisSamplegetPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisibleSample=!0})).catch((e=>{console.error("Error fetching image:",e),this.$alert('<strong style="color: blue;">注意：</strong> 没有通过样本过滤',{dangerouslyUseHTMLString:!0,confirmButtonText:"确定"}).catch((()=>{}))}))},fetchPdfOR(e,t,a){if(console.log("fetchPdfOR called"),!a)return console.log("ORstatus is false, setting showAlert to true"),this.showAlert=!0,void console.log("showAlert is now",this.showAlert);this.currentCancertype=e,this.currentSNPepi=t,U.A.get("api/SnpEpistasisORgetPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisibleOR=!0})).catch((e=>{console.error("Error fetching image:",e),this.showAlert=!0,console.log("showAlert is now",this.showAlert)}))},closeAlert(){console.log("closeAlert called"),this.showAlert=!1},stopPropagation(e){e.stopPropagation()},SampledownloadPdf(){const e=this.currentCancertype,t=this.currentSNPepi;U.A.get("api/SnpEpistasisSampledownloadPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((a=>{const i=window.URL.createObjectURL(new Blob([a.data])),s=`${e}_${t}.pdf`,o=document.createElement("a");o.href=i,o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClickedSample=!1}))},ORdownloadPdf(){const e=this.currentCancertype,t=this.currentSNPepi;U.A.get("api/SnpEpistasisORdownloadPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((a=>{const i=window.URL.createObjectURL(new Blob([a.data])),s=`${e}_${t}.pdf`,o=document.createElement("a");o.href=i,o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClickedOR=!1,this.$alert('<strong style="color: blue;">注意：</strong> <strong style="color: black;">没有通过样本过滤</strong>',{dangerouslyUseHTMLString:!0,confirmButtonText:"确定"})}))}},mounted(){this.initData(),this.selectQueryType=this.defaultQueryType,this.selectCancerType=this.defaultCancerType,this.pValueThreshold=this.defaultPValueThreshold,document.addEventListener("click",this.handleOutsideClick)},beforeDestroy(){document.removeEventListener("click",this.handleOutsideClick)}},q=z,Q=(0,p.A)(q,M,F,!1,null,"65b7cc60",null),V=Q.exports,W=function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-container"},[t("el-card",{staticClass:"box-card"},[t("el-row",{staticClass:"custom-row",style:{marginBottom:"15px"}},[t("el-col",{attrs:{span:24}},[t("p",{staticClass:"card-description",staticStyle:{"font-size":"18px","line-height":"1.7","font-family":"'Helvetica'"}},[e._v(" This module provides gene expression correlation analysis across 16 cancer types, showing correlation relationships between gene pairs. This module provides "),t("span",{staticStyle:{color:"blue","font-weight":"bold"}},[e._v("gene correlation")]),e._v(" analysis with statistical significance across 16 cancer types. ")])])],1),t("div",[t("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("Query type:")]),t("el-select",{staticClass:"place-input query-type-select",staticStyle:{width:"100%","z-index":"1000"},attrs:{placeholder:"Query type"},model:{value:e.selectQueryType,callback:function(t){e.selectQueryType=t},expression:"selectQueryType"}},e._l(e.queryTypes,(function(a){return t("el-option",{key:a.id,attrs:{value:a.queryName}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.queryName))])])})),1)],1),t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("Cancer type:")]),t("el-select",{staticClass:"place-input cancer-type-select",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"Cancer type"},model:{value:e.selectCancerType,callback:function(t){e.selectCancerType=t},expression:"selectCancerType"}},e._l(e.cancerType,(function(a){return t("el-option",{key:a.id,attrs:{value:a.cancerName}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.cancerName))]),t("span",{staticStyle:{float:"right"}},[e._v("(N="+e._s(a.sampleNumber)+")")])])})),1)],1),"Gene"===e.selectQueryType?t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("Gene:")]),t("el-input",{staticClass:"place-input",staticStyle:{width:"100%"},attrs:{placeholder:"Gene"},model:{value:e.queryGene1,callback:function(t){e.queryGene1=t},expression:"queryGene1"}}),t("span",{class:{"text-black":!e.isClicked1,"text-orange":e.isClicked1},staticStyle:{"font-size":"16px"},on:{click:e.handleClickAndSetQueryGene1}},[e._v("e.g., TP53")])],1):e._e(),"Gene epistasis"===e.selectQueryType?t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("Gene epistasis:")]),t("el-input",{staticClass:"place-input",staticStyle:{width:"100%"},attrs:{placeholder:"Gene epistasis"},model:{value:e.queryGene1,callback:function(t){e.queryGene1=t},expression:"queryGene1"}}),t("span",{class:{"text-black":!e.isClicked2,"text-orange":e.isClicked2},staticStyle:{"font-size":"16px"},on:{click:e.handleClickAndSetQueryGene2}},[e._v("e.g., TP53_BRCA1")])],1):e._e(),t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("Correlation threshold:")]),t("el-select",{staticClass:"place-input correlation-select",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"Correlation"},model:{value:e.correlationThreshold,callback:function(t){e.correlationThreshold=t},expression:"correlationThreshold"}},[t("el-option",{attrs:{label:"0.1",value:"0.1"}}),t("el-option",{attrs:{label:"0.3",value:"0.3"}}),t("el-option",{attrs:{label:"0.5",value:"0.5"}}),t("el-option",{attrs:{label:"0.7",value:"0.7"}})],1)],1)],1)],1),t("div",{staticStyle:{margin:"15px 0 0px"}},[t("el-row",{attrs:{type:"flex",justify:"center",align:"middle"}},[t("el-col",{attrs:{span:4}}),t("el-col",{staticClass:"text-center",attrs:{span:4}},[t("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("Submit")])],1),t("el-col",{staticClass:"text-center",attrs:{span:4}},[t("el-button",{staticClass:"cancel-button",attrs:{type:"danger"},on:{click:e.clearInput}},[e._v("Cancel")])],1),t("el-col",{attrs:{span:4}})],1)],1)],1),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"header-controls"},[t("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.recordNumber,"page-size":e.perPage,"current-page":e.currentPage,layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.currentChange}}),t("div",{staticStyle:{"margin-bottom":"0px","text-align":"right","margin-right":"20px"}},[t("el-button",{staticStyle:{"font-size":"35px",padding:"0","background-color":"white",color:"blue","font-weight":"bold"},attrs:{type:"primary",circle:!0},on:{click:e.downloadCSV}},[t("i",{staticClass:"el-icon-download"})])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.QTLData.GeneCorrelation,"empty-text":"No gene correlation results found for your query"}},[t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"plotStatus",label:"Plot",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{staticStyle:{"font-size":"2.1em",cursor:"pointer",color:"#2196f3"},attrs:{type:"dot-chart",theme:"outlined"},on:{click:function(t){return e.fetchPdf(a.row.Cancertype,a.row.Gene1,a.row.Gene2)}}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Cancertype",label:"Cancer",width:"107",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{color:"red",fontSize:e.cancerTypes.includes(a.row.Cancertype)?"1.1em":"inherit"}},[e._v(" "+e._s(a.row.Cancertype)+" ")])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Gene1",label:"Gene1",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.Gene1))])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Gene2",label:"Gene2",width:"100",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(a.row.Gene2))])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"correlation",label:"Correlation",width:"144",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Correlation "),t("el-tooltip",{attrs:{content:"Spearman correlation coefficient",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatCorrelationValue(t.row.correlation))+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"P_value",label:"P-value",width:"117",sortable:"",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-value "),t("el-tooltip",{attrs:{content:"Statistical significance of correlation",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(e.formatPValue(t.row.P_value))+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"coexpression",label:"coexpression",width:"140",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return["NA"!==a.row.coexpression&&a.row.coexpression?t("span",[e._v(" "+e._s(a.row.coexpression)+" ")]):t("span",[t("i",{staticClass:"el-icon-minus",staticStyle:{color:"#FA8072","font-weight":"bold"}})])]}},{key:"header",fn:function(){return[e._v(" Coexpression "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Whether the gene pair shows coexpression",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"textmining_transferred",label:"Text mining transferred",width:"210",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Text mining transferred "),t("el-tooltip",{attrs:{content:"Text mining transferred score from STRING database",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(a){return["NA"!==a.row.textmining_transferred&&a.row.textmining_transferred?t("span",[e._v(" "+e._s(a.row.textmining_transferred)+" ")]):t("span",[t("i",{staticClass:"el-icon-minus",staticStyle:{color:"#FA8072","font-weight":"bold"}})])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"combined_score",label:"Combined score",width:"160",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Combined score "),t("el-tooltip",{attrs:{content:"Combined score from STRING database",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(a){return["NA"!==a.row.combined_score&&a.row.combined_score?t("span",[e._v(" "+e._s(a.row.combined_score)+" ")]):t("span",[t("i",{staticClass:"el-icon-minus",staticStyle:{color:"#FA8072","font-weight":"bold"}})])]}}])})],1),t("el-dialog",{style:{maxWidth:"700px",margin:"0 auto"},attrs:{visible:e.imageDialogVisiblePlot,width:"auto","close-on-click-modal":!1,"close-on-press-escape":!0,"modal-append-to-body":e.useModalAppendToBody},on:{"update:visible":function(t){e.imageDialogVisiblePlot=t},close:e.handleClosePlot}},[t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center",position:"relative"},on:{click:e.handleClosePlot}},[t("img",{staticStyle:{width:"600px",height:"500px","object-fit":"contain",cursor:"pointer",position:"relative","z-index":"2"},attrs:{src:e.imageUrl,alt:"Correlation Plot"},on:{click:e.handleClosePlot}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClickedPlot},staticStyle:{position:"relative","z-index":"2","margin-top":"20px","font-size":"18px"},on:{click:function(t){return t.stopPropagation(),e.handleDownloadPlot.apply(null,arguments)}}},[e._v(" Download ")])])]),e.showAlert?t("div",{staticClass:"custom-alert",on:{click:e.closeAlert}},[t("div",{staticClass:"custom-alert-content",on:{click:e.stopPropagation}},[t("div",{staticStyle:{"font-size":"20px","line-height":"1.5em","text-align":"center"}},[t("strong",{staticStyle:{color:"blue"}},[e._v("Please note: ")]),e._v(" The correlation plot for this gene pair is not available or "),t("strong",{staticStyle:{color:"black"}},[e._v("correlation is not significant")]),e._v(" in the context of the current cancer phenotype. ")]),t("el-button",{staticStyle:{"margin-top":"20px"},on:{click:e.closeAlert}},[e._v("OK")])],1)]):e._e()],1)],1)},$=[],K={name:"GeneCorrelation",data(){return{selectQueryType:"",selectCancerType:"",correlationThreshold:"",queryTypes:[{id:"001",queryName:"Gene"},{id:"002",queryName:"Gene epistasis"},{id:"003",queryName:"Cancer type"}],cancerType:[{id:"001",cancerName:"All",sampleNumber:"399723"},{id:"002",cancerName:"Breast",sampleNumber:"189339"},{id:"003",cancerName:"Prostate",sampleNumber:"159222"},{id:"004",cancerName:"Melanoma",sampleNumber:"322104"},{id:"005",cancerName:"Colon",sampleNumber:"320482"},{id:"006",cancerName:"Cervical",sampleNumber:"176438"},{id:"007",cancerName:"Lung",sampleNumber:"318728"},{id:"008",cancerName:"Bladder",sampleNumber:"317673"},{id:"009",cancerName:"Rectal",sampleNumber:"316597"},{id:"0010",cancerName:"Uterine",sampleNumber:"172157"},{id:"0011",cancerName:"Kidney",sampleNumber:"315750"},{id:"0012",cancerName:"Ovarian",sampleNumber:"171548"},{id:"0013",cancerName:"Pancreatic",sampleNumber:"315056"},{id:"0014",cancerName:"Esophagus",sampleNumber:"315022"},{id:"0015",cancerName:"Stomach",sampleNumber:"314676"},{id:"0016",cancerName:"Brain",sampleNumber:"314501"},{id:"0017",cancerName:"Liver",sampleNumber:"314490"}],cancerTypes:["Bladder","Brain","Breast","Cancertype","Cervical","Colon","Esophagus","Kidney","Liver","Lung","Melanoma","Ovarian","Pancreatic","Prostate","Rectal","Stomach","Uterine"],QTLData:{GeneCorrelation:[]},recordNumber:0,showBlock:"N",correlationThreshold:"",loading:!1,selectCancerType:"",isClicked1:!1,isClicked2:!1,queryGene1:"TP53_BRCA1",flag:1,currentPage:1,perPage:8,rowHeight:60,defaultQueryType:"Gene epistasis",defaultCancerType:"Breast",defaultCorrelationThreshold:"0.3",currentCancertype:"",currentGene1:"",currentGene2:"",imageDialogVisiblePlot:!1,imageUrl:"",downloadClickedPlot:!1,useModalAppendToBody:!1,showAlert:!1,isFirstLoad:!0}},computed:{tableHeight(){return this.QTLData.GeneCorrelation.length<this.perPage?this.rowHeight*this.QTLData.GeneCorrelation.length+50:this.rowHeight*this.perPage+50}},methods:{formatCorrelationValue(e){return void 0===e||null===e||"NA"===e?"NA":"number"===typeof e?e.toPrecision(2):e},formatNumericValue(e,t=3){return void 0===e||null===e||"NA"===e?"NA":"number"===typeof e?e.toFixed(t):e},formatPValue(e){return void 0===e||null===e||"NA"===e?"NA":"number"===typeof e&&100!==e?e.toExponential(2):"-"},setQueryGene1(e){this.queryGene1=e},toggleClickStatus(e){this["isClicked"+e]=!this["isClicked"+e]},handleClickAndSetQueryGene1(){this.setQueryGene1("TP53"),this.toggleClickStatus(1),this.selectCancerType="Breast",this.correlationThreshold="0.3"},handleClickAndSetQueryGene2(){this.setQueryGene1("TP53_BRCA1"),this.toggleClickStatus(2),this.selectCancerType="Breast",this.correlationThreshold="0.3"},handleClosePlot(){this.imageDialogVisiblePlot=!1,this.downloadClickedPlot=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},valueCheck(e){if(/[@#\$%\^&\*]+/g.test(e))return this.$message.error("Invalid input"),null;const t=/^[A-Za-z0-9_-]+$/,a=e.trim();return t.test(a)?a.toUpperCase():(this.$message.error("Invalid gene name"),null)},normalizeAndTrimInput(e){return e.replace(/\s+/g,"")},changePage(e){this.currentPage=e,this.submitForm()},initData(){this.isFirstLoad&&(this.isFirstLoad=!1,U.A.get("api/GeneCorrelation",{params:{isFirstLoad:!0,Type:!0}}).then((e=>{this.QTLData.GeneCorrelation=e.data.GeneCorrelation_results,this.recordNumber=e.data.total_count,this.loading=!1})).catch((e=>{this.loading=!1})))},isValidInput(e){const t=/^[a-zA-Z0-9-_]+$/;return t.test(e)},normalizeInput(e){const t=e.trim();return t.toUpperCase()},submitForm(){this.showBlock="Y",this.queryGene1=this.normalizeAndTrimInput(this.queryGene1);let e={selectQueryType:this.selectQueryType||"Gene",selectCancerType:this.selectCancerType||"All",currentPage:this.currentPage,perPage:this.perPage,correlationThreshold:this.correlationThreshold,isFirstLoad:!1};if("Gene"===this.selectQueryType){if(!this.isValidInput(this.queryGene1))return void this.$alert("Invalid gene name input","Error",{confirmButtonText:"OK",callback:()=>{this.QTLData.GeneCorrelation=[],this.recordNumber=0}});e.queryGene1=this.normalizeInput(this.queryGene1),e.selectCancerType=this.selectCancerType,e.correlationThreshold=this.correlationThreshold}else if("Gene epistasis"===this.selectQueryType){if(!this.isValidInput(this.queryGene1))return void this.$alert("Invalid gene epistasis input","Error",{confirmButtonText:"OK",callback:()=>{this.QTLData.GeneCorrelation=[],this.recordNumber=0}});e.queryGene1=this.normalizeInput(this.queryGene1),e.selectCancerType=this.selectCancerType,e.correlationThreshold=this.correlationThreshold}else"Cancer type"===this.selectQueryType&&(e.selectCancerType=this.selectCancerType,e.correlationThreshold=this.correlationThreshold);U.A.get("api/GeneCorrelation",{params:e}).then((e=>{this.QTLData.GeneCorrelation=e.data.GeneCorrelation_results,this.recordNumber=e.data.total_count,this.loading=!1})).catch((e=>{this.loading=!1})),1===this.flag?this.loading=!0:this.loading=!1},clearInput(){this.selectQueryType="",this.selectCancerType="",this.queryGene1="",this.correlationThreshold="",this.isClicked1=!1,this.isClicked2=!1},currentChange(e){this.currentPage=e,this.submitForm()},downloadCSV(){if(!Array.isArray(this.QTLData.GeneCorrelation)||0===this.QTLData.GeneCorrelation.length)return void this.$message.error("No data available for download");const e=["Cancertype","Gene1","Gene2","Correlation","P-value","Coexpression","Text mining transferred","Combined score"],t=this.QTLData.GeneCorrelation.map((e=>[e.Cancertype,e.Gene1,e.Gene2,this.formatCorrelationValue(e.correlation),this.formatPValue(e.P_value),"NA"!==e.coexpression&&e.coexpression?e.coexpression:"-","NA"!==e.textmining_transferred&&e.textmining_transferred?e.textmining_transferred:"-","NA"!==e.combined_score&&e.combined_score?e.combined_score:"-"]));let a="data:text/csv;charset=utf-8,"+e.join(",")+"\n"+t.map((e=>e.join(","))).join("\n");const i=encodeURI(a),s=document.createElement("a"),o=this.selectCancerType||"",n=this.queryGene1||"",l=this.correlationThreshold||"",r=[o,n,l],c=r.filter((e=>""!==e)).join("_")+".csv";s.setAttribute("href",i),s.setAttribute("download",c),document.body.appendChild(s),s.click(),document.body.removeChild(s)},handleDownloadPlot(){this.downloadClickedPlot=!0,this.PlotdownloadPdf()},fetchPdf(e,t,a){this.currentCancertype=e,this.currentGene1=t,this.currentGene2=a,U.A.get("api/GeneCorrelationPlot",{params:{Cancertype:encodeURIComponent(e),Gene1:encodeURIComponent(t),Gene2:encodeURIComponent(a)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisiblePlot=!0})).catch((e=>{console.error("Error fetching correlation plot:",e),this.showAlert=!0}))},fetchCorrelationPlot(e,t,a){this.currentCancertype=e,this.currentGene1=t,this.currentGene2=a,U.A.get("api/GeneCorrelationPlot",{params:{Cancertype:encodeURIComponent(e),Gene1:encodeURIComponent(t),Gene2:encodeURIComponent(a)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisiblePlot=!0})).catch((e=>{console.error("Error fetching correlation plot:",e),this.showAlert=!0}))},closeAlert(){this.showAlert=!1},stopPropagation(e){e.stopPropagation()},PlotdownloadPdf(){const e=this.currentCancertype,t=this.currentGene1,a=this.currentGene2;U.A.get("api/GeneCorrelationPlotDownload",{params:{Cancertype:encodeURIComponent(e),Gene1:encodeURIComponent(t),Gene2:encodeURIComponent(a)},responseType:"blob"}).then((i=>{const s=window.URL.createObjectURL(new Blob([i.data])),o=`${e}_${t}_${a}_correlation.pdf`,n=document.createElement("a");n.href=s,n.setAttribute("download",o),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(s)})).catch((e=>{console.error("Error downloading correlation plot:",e),this.downloadClickedPlot=!1,this.$alert('<strong style="color: blue;">注意：</strong> <strong style="color: black;">相关性图表下载失败</strong>',{dangerouslyUseHTMLString:!0,confirmButtonText:"确定"})}))}},mounted(){this.initData(),this.selectQueryType=this.defaultQueryType,this.selectCancerType=this.defaultCancerType,this.correlationThreshold=this.defaultCorrelationThreshold}},H=K,Y=(0,p.A)(H,W,$,!1,null,"2d172652",null),J=Y.exports,X=function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-container"},[t("el-card",{staticClass:"box-card"},[t("el-row",{staticClass:"custom-row",style:{marginBottom:"15px"}},[t("el-col",{attrs:{span:24}},[t("p",{staticClass:"card-description",staticStyle:{"font-size":"18px","line-height":"1.7","font-family":"'Helvetica'"}},[e._v(" This page provides the "),t("span",{staticStyle:{color:"red","font-weight":"bold"}},[e._v("annotation")]),e._v(" of epiSNPs, such as SNP position, genomic function, amino acidchange from ANNOVAR; coexpression, textmining_transferred, combined_score from STRING. ")])])],1),t("div",[t("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:5}},[t("span",{staticClass:"input-label"},[e._v("Query type:")]),t("el-select",{staticClass:"place-input query-type-select",staticStyle:{width:"100%","z-index":"1000"},attrs:{placeholder:"Query type"},model:{value:e.selectQueryType,callback:function(t){e.selectQueryType=t},expression:"selectQueryType"}},e._l(e.queryTypes,(function(a){return t("el-option",{key:a.id,attrs:{value:a.queryName}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.queryName))])])})),1)],1),t("el-col",{attrs:{span:5}},[t("span",{staticClass:"input-label"},[e._v("Cancer type:")]),t("el-select",{staticClass:"place-input cancer-type-select",staticStyle:{width:"100%"},attrs:{placeholder:"Cancer type"},model:{value:e.selectCancerType,callback:function(t){e.selectCancerType=t},expression:"selectCancerType"}},e._l(e.cancerType,(function(a){return t("el-option",{key:a.id,attrs:{value:a.cancerName}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.cancerName))]),t("span",{staticStyle:{float:"right"}},[e._v("(N="+e._s(a.sampleNumber)+")")])])})),1)],1),"Cancer type"===e.selectQueryType?t("el-col",{attrs:{span:5}},[t("span",{staticClass:"input-label"},[e._v("Select Loci:")]),t("el-select",{staticClass:"place-input loci-type-select",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"Select type"},model:{value:e.selectLociType,callback:function(t){e.selectLociType=t},expression:"selectLociType"}},[t("el-option",{attrs:{label:"SNP",value:"SNP"}}),t("el-option",{attrs:{label:"SNP epistasis",value:"SNP epistasis"}})],1),t("span",{class:{"text-black":!e.isClickedDefault,"text-orange":e.isClickedDefault},staticStyle:{"font-size":"16px"},on:{click:e.handleClickAndSetDefaultLociType}},[e._v("e.g., SNP epistasis")])],1):e._e(),"SNP"===e.selectQueryType?t("el-col",{attrs:{span:5}},[t("span",{staticClass:"input-label"},[e._v("SNP:")]),t("el-input",{staticClass:"place-input",staticStyle:{width:"100%"},attrs:{placeholder:"SNP"},model:{value:e.queryRsid1,callback:function(t){e.queryRsid1=t},expression:"queryRsid1"}}),t("span",{class:{"text-black":!e.isClicked1,"text-orange":e.isClicked1},staticStyle:{"font-size":"16px"},on:{click:e.handleClickAndSetQueryRsid1}},[e._v("e.g., rs2274911")])],1):e._e(),"SNP epistasis"===e.selectQueryType?t("el-col",{attrs:{span:5}},[t("span",{staticClass:"input-label"},[e._v("SNP epistasis:")]),t("el-input",{staticClass:"place-input",staticStyle:{width:"100%"},attrs:{placeholder:"SNP epistasis"},model:{value:e.queryRsid1,callback:function(t){e.queryRsid1=t},expression:"queryRsid1"}}),t("span",{class:{"text-black":!e.isClicked2,"text-orange":e.isClicked2},staticStyle:{"font-size":"16px"},on:{click:e.handleClickAndSetQueryRsid2}},[e._v("e.g., rs6500437_rs7195066")])],1):e._e(),t("el-col",{attrs:{span:5}},[t("span",{staticClass:"input-label"},[e._v("P-value threshold:")]),t("el-select",{staticClass:"place-input p-value-select",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"P-value"},model:{value:e.pValueThreshold,callback:function(t){e.pValueThreshold=t},expression:"pValueThreshold"}},[t("el-option",{attrs:{label:"0.05",value:"0.05"}}),t("el-option",{attrs:{label:"1e-5",value:"1e-5"}}),t("el-option",{attrs:{label:"5e-6",value:"5e-6"}}),t("el-option",{attrs:{label:"5e-8",value:"5e-8"}})],1)],1)],1)],1),t("div",{staticStyle:{margin:"15px 0 0px"}},[t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{span:4}}),t("el-col",{staticClass:"text-center",attrs:{span:4}},[t("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("Submit")])],1),t("el-col",{staticClass:"text-center",attrs:{span:4}},[t("el-button",{staticClass:"cancel-button",attrs:{type:"danger"},on:{click:e.clearInput}},[e._v("Cancel")])],1),t("el-col",{attrs:{span:4}})],1)],1)],1),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"header-controls"},[t("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.recordNumber,"page-size":e.perPage,"current-page":e.currentPage,layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.currentChange}}),t("div",{staticStyle:{"margin-bottom":"0px","text-align":"right","margin-right":"20px"}},[t("el-button",{staticStyle:{"font-size":"35px",padding:"0","background-color":"white",color:"blue","font-weight":"bold"},attrs:{type:"primary",circle:!0},on:{click:e.downloadCSV}},[t("i",{staticClass:"el-icon-download"})])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.QTLData.SnpEpistasis,"empty-text":"No results found for your query"}},[t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Cancertype",label:"Cancer",width:"115",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{color:"red",fontSize:e.cancerTypes.includes(a.row.Cancertype)?"1.1em":"inherit"}},[e._v(" "+e._s(a.row.Cancertype)+" ")])]}}])}),e._l(e.tableColumns,(function(a){return["SNP"===a.prop||"SNP_epi"===a.prop?t("el-table-column",{key:a.prop,staticClass:"custom-column-header",attrs:{prop:a.prop,label:a.label,width:a.width,align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(i){return["SNP"===a.prop?t("span",[e._v(" "+e._s(i.row[a.prop])+" "),t("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/snp/"+i.row[a.prop],target:"_blank"}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})])]):"SNP_epi"===a.prop?t("span",[e._l(i.row[a.prop].split("_"),(function(a,i){return[t("span",{key:i},[e._v(" "+e._s(a)+" "),t("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/snp/"+a,target:"_blank"}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})]),0===i?t("span",[e._v("_")]):e._e()])]}))],2):e._e()]}}],null,!0)}):t("el-table-column",{key:a.prop,staticClass:"custom-column-header",attrs:{prop:a.prop,label:a.label,width:a.width,align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(i){return[["FuncrefGene","GenerefGene","ExonicFuncrefGene","AAChangerefGene","FuncrefGene1","GenerefGene1","ExonicFuncrefGene1","AAChangerefGene1","FuncrefGene2","GenerefGene2","ExonicFuncrefGene2","AAChangerefGene2"].includes(a.prop)?t("span",[t("span",{domProps:{innerHTML:e._s("NA"===i.row[a.prop]||null===i.row[a.prop]||void 0===i.row[a.prop]?"&#8203;<i class='el-icon-minus' style='color: #FA8072;'></i>":i.row[a.prop])}})]):"coexpression"===a.prop||"textmining_transferred"===a.prop||"combined_score"===a.prop?t("span",["NA"===i.row[a.prop]||null===i.row[a.prop]||void 0===i.row[a.prop]?t("span",[t("i",{staticClass:"el-icon-minus",staticStyle:{color:"#FA8072","font-weight":"bold"}})]):t("span",[e._v(" "+e._s(i.row[a.prop])+" ")])]):t("span",[e._v(" "+e._s(i.row[a.prop])+" ")])]}}],null,!0)})]}))],2)],1)],1)},Z=[],ee={name:"EpiSNPAnnotation",data(){return{selectQueryType:"",isBestSnpModalVisible:!1,formattedRowDetails:[],queryTypes:[{id:"001",queryName:"SNP"},{id:"002",queryName:"SNP epistasis"},{id:"003",queryName:"Cancer type"}],cancerTypes:["Bladder","Brain","Breast","Cancertype","Cervical","Colon","Esophagus","Kidney","Liver","Lung","Melanoma","Ovarian","Pancreatic","Prostate","Rectal","Stomach","Uterine"],cancerType:[{id:"001",cancerName:"All",sampleNumber:"399723"},{id:"002",cancerName:"Breast",sampleNumber:"189339"},{id:"003",cancerName:"Prostate",sampleNumber:"159222"},{id:"004",cancerName:"Melanoma",sampleNumber:"322104"},{id:"005",cancerName:"Colon",sampleNumber:"320482"},{id:"006",cancerName:"Cervical",sampleNumber:"176438"},{id:"007",cancerName:"Lung",sampleNumber:"318728"},{id:"008",cancerName:"Bladder",sampleNumber:"317673"},{id:"009",cancerName:"Rectal",sampleNumber:"316597"},{id:"010",cancerName:"Uterine",sampleNumber:"172157"},{id:"011",cancerName:"Kidney",sampleNumber:"315750"},{id:"012",cancerName:"Ovarian",sampleNumber:"171548"},{id:"013",cancerName:"Pancreatic",sampleNumber:"315056"},{id:"014",cancerName:"Esophagus",sampleNumber:"315022"},{id:"015",cancerName:"Stomach",sampleNumber:"314676"},{id:"016",cancerName:"Brain",sampleNumber:"314501"},{id:"017",cancerName:"Liver",sampleNumber:"314490"}],QTLData:{SnpEpistasis:[]},recordNumber:0,pValueThreshold:"",selectLociType:"",loading:!1,selectCancerType:"",isClicked1:!1,isClicked2:!1,isClickedDefault:!1,queryRsid1:"",currentPage:1,perPage:7,defaultQueryType:"Cancer type",defaultCancerType:"Breast",defaultPValueThreshold:"0.05",defaultselectLociType:"SNP epistasis",tableColumns:[],allData:[]}},computed:{tableHeight(){return this.QTLData.SnpEpistasis.length<this.perPage?this.rowHeight*this.QTLData.SnpEpistasis.length+50:this.rowHeight*this.perPage+50}},methods:{setQueryRsid1(e){this.queryRsid1=e},toggleClickStatus(e){this["isClicked"+e]=!this["isClicked"+e]},handleClickAndSetQueryRsid1(){this.setQueryRsid1("rs2274911"),this.toggleClickStatus(1),this.selectCancerType="Prostate",this.pValueThreshold="0.05"},handleClickAndSetQueryRsid2(){this.setQueryRsid1("rs6500437_rs7195066"),this.toggleClickStatus(2),this.selectCancerType="Melanoma",this.pValueThreshold="0.05"},handleClickAndSetDefaultLociType(){this.selectLociType="SNP epistasis",this.selectCancerType="Esophagus",this.pValueThreshold="0.05",this.isClickedDefault=!this.isClickedDefault},valueCheck(e){if(/[@#\$%\^&\*]+/g.test(e))return this.$message.error("Invalid input"),null;const t=/^(rs\d+|affx-\d+)(_(rs\d+|affx-\d+))?$/i,a=e.trim().toLowerCase();if(!t.test(a))return this.$message.error("Invalid input"),null;if(a.startsWith("rs"))return a;if(a.startsWith("affx-")){const e=a.split("_"),t=e.map((e=>e.startsWith("rs")?e:e.startsWith("affx-")?"Affx-"+e.slice(5):e));return t.join("_")}return a},normalizeAndTrimInput(e){return e.replace(/\s+/g,"")},changePage(e){this.currentPage=e,this.submitForm()},initData(){this.selectQueryType=this.defaultQueryType,this.selectCancerType=this.defaultCancerType,this.selectLociType=this.defaultselectLociType,this.pValueThreshold=this.defaultPValueThreshold,this.submitForm()},displayDataBasedOnModel(){if("SNP"===this.selectQueryType){const e=[{prop:"SNP",label:"SNP",width:140},{prop:"alleles",label:"Alleles(A/a)",width:115},{prop:"FuncrefGene",label:"Func.refGene",width:125},{prop:"GenerefGene",label:"Gene.refGene",width:125},{prop:"ExonicFuncrefGene",label:"ExonicFunc.refGene",width:170},{prop:"AAChangerefGene",label:"AAChange.refGene",width:210}];this.tableColumns=e}else if("SNP epistasis"===this.selectQueryType){const e=[{prop:"SNP_epi",label:"SNP_epi",width:245},{prop:"FuncrefGene1",label:"Func.refGene1",width:150},{prop:"GenerefGene1",label:"Gene.refGene1",width:150},{prop:"ExonicFuncrefGene1",label:"ExonicFunc.refGene1",width:175},{prop:"AAChangerefGene1",label:"AAChange.refGene1",width:168},{prop:"FuncrefGene2",label:"Func.refGene2",width:150},{prop:"GenerefGene2",label:"Gene.refGene2",width:150},{prop:"ExonicFuncrefGene2",label:"ExonicFunc.refGene2",width:175},{prop:"AAChangerefGene2",label:"AAChange.refGene2",width:170},{prop:"coexpression",label:"coexpression",width:150},{prop:"textmining_transferred",label:"textmining_transferred",width:190},{prop:"combined_score",label:"combined_score",width:150}];this.tableColumns=e}else if("Cancer type"===this.selectQueryType&&"SNP"===this.selectLociType){const e=[{prop:"SNP",label:"SNP",width:140},{prop:"alleles",label:"Alleles(A/a)",width:115},{prop:"FuncrefGene",label:"Func.refGene",width:130},{prop:"GenerefGene",label:"Gene.refGene",width:130},{prop:"ExonicFuncrefGene",label:"ExonicFunc.refGene",width:170},{prop:"AAChangerefGene",label:"AAChange.refGene",width:210}];this.tableColumns=e}else if("Cancer type"===this.selectQueryType&&"SNP epistasis"===this.selectLociType){const e=[{prop:"SNP_epi",label:"SNP epistasis",width:245},{prop:"FuncrefGene1",label:"Func.refGene1",width:150},{prop:"GenerefGene1",label:"Gene.refGene1",width:150},{prop:"ExonicFuncrefGene1",label:"ExonicFunc.refGene1",width:175},{prop:"AAChangerefGene1",label:"AAChange.refGene1",width:168},{prop:"FuncrefGene2",label:"Func.refGene2",width:150},{prop:"GenerefGene2",label:"Gene.refGene2",width:150},{prop:"ExonicFuncrefGene2",label:"ExonicFunc.refGene2",width:175},{prop:"AAChangerefGene2",label:"AAChange.refGene2",width:170},{prop:"coexpression",label:"coexpression",width:150},{prop:"textmining_transferred",label:"textmining_transferred",width:185},{prop:"combined_score",label:"combined_score",width:150}];this.tableColumns=e}},isValidInput(e){const t=/^[a-zA-Z0-9-_]+$/;return t.test(e)},normalizeInput(e){const t=e.trim();return/^rs/i.test(t)?"rs"+t.slice(2).toLowerCase():/^affx-/i.test(t)?"Affx-"+t.slice(5):null},submitForm(){this.loading=!0,this.queryRsid1=this.normalizeAndTrimInput(this.queryRsid1);let e={selectQueryType:this.selectQueryType||"SNP",selectCancerType:this.selectCancerType||"All",currentPage:this.currentPage,perPage:this.perPage,pValueThreshold:this.pValueThreshold};if("SNP"===this.selectQueryType){if(!this.isValidInput(this.queryRsid1)||null===this.normalizeInput(this.queryRsid1))return void this.$alert("Invalid input","Error",{confirmButtonText:"OK",callback:()=>{this.QTLData.SnpEpistasis=[],this.recordNumber=0}});e.queryRsid1=this.normalizeInput(this.queryRsid1),e.pValueThreshold=this.pValueThreshold}else if("SNP epistasis"===this.selectQueryType){if(!this.isValidInput(this.queryRsid1)||null===this.normalizeInput(this.queryRsid1))return void this.$alert("Invalid input","Error",{confirmButtonText:"OK",callback:()=>{this.QTLData.SnpEpistasis=[],this.recordNumber=0}});e.queryRsid1=this.normalizeInput(this.queryRsid1),e.pValueThreshold=this.pValueThreshold}else"Cancer type"===this.selectQueryType&&(e.selectCancerType=this.selectCancerType,e.selectLociType=this.selectLociType,e.pValueThreshold=this.pValueThreshold);if(null===e.queryRsid1)return this.QTLData.SnpEpistasis=[],this.recordNumber=0,void(this.loading=!1);let t="";"SNP"===this.selectQueryType?t="api/SnpAnnovar":"SNP epistasis"===this.selectQueryType?t="api/SnpEpistasisAnnovar":"Cancer type"===this.selectQueryType&&"SNP"===this.selectLociType?t="api/SnpCancerTypeAnnovar":"Cancer type"===this.selectQueryType&&"SNP epistasis"===this.selectLociType&&(t="api/SnpEpistasisCancerTypeAnnovar"),U.A.post(t,e).then((e=>{"Cancer type"===this.selectQueryType&&"SNP"===this.selectLociType?this.QTLData.SnpEpistasis=e.data.SnpCancerTypeAnnovarResult:"Cancer type"===this.selectQueryType&&"SNP epistasis"===this.selectLociType?this.QTLData.SnpEpistasis=e.data.SnpEpistasisCancerTypeAnnovarResult:this.QTLData.SnpEpistasis=e.data.SnpEpistasisAnnovarResult||e.data.SnpAnnovarResult,this.allData=this.QTLData.SnpEpistasis,this.recordNumber=e.data.total,this.displayDataBasedOnModel(),this.loading=!1})).catch((e=>{e.response?this.errorMessage=`Request failed: ${e.response.data}, Status code: ${e.response.status}, Response headers: ${JSON.stringify(e.response.headers)}`:e.request?this.errorMessage="No response received":this.errorMessage=`Error: ${e.message}`,this.loading=!1}))},clearInput(){this.selectQueryType="",this.selectCancerType="",this.queryRsid1="",this.pValueThreshold="",this.selectLociType=""},currentChange(e){this.currentPage=e,this.submitForm()},downloadCSV(){if(!Array.isArray(this.allData)||!this.allData.length)return void this.$alert("No data to download","Warning",{confirmButtonText:"OK"});const e=this.tableColumns.map((e=>e.label)),t=this.allData.map((e=>this.tableColumns.map((t=>void 0!==e[t.prop]?e[t.prop]:"")))),a=[e,...t].map((e=>e.join(","))).join("\n"),i=new Blob([a],{type:"text/csv;charset=utf-8;"}),s=`${this.selectQueryType}_${this.selectCancerType}_${this.queryRsid1}_${this.pValueThreshold}.csv`;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(i,s);else{const e=document.createElement("a");e.href=URL.createObjectURL(i),e.download=s,document.body.appendChild(e),e.click(),document.body.removeChild(e)}}},mounted(){this.initData(),console.log(this.QTLData.SnpEpistasis)}},te=ee,ae=(0,p.A)(te,X,Z,!1,null,"eea3a9d4",null),ie=ae.exports,se=function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-container"},[t("el-card",{staticClass:"box-card"},[t("el-row",{staticClass:"custom-row",style:{marginBottom:"15px"}},[t("el-col",{attrs:{span:24}},[t("p",{staticClass:"card-description",staticStyle:{"font-size":"18px","line-height":"1.7","font-family":"'Helvetica'"}},[e._v(" This module provides survival results of epiSNPs. We have conducted KM analysis to identify survival related epiSNPs using additive, dominant, and recessive models, respectively. And "),t("span",{staticStyle:{color:"blue","font-weight":"bold"}},[e._v("15,034")]),e._v(" significant SNP epistases with a P-value < 1e-5 have been found. ")])])],1),t("div",[t("el-row",{attrs:{gutter:20,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:5}},[t("span",{staticClass:"input-label"},[e._v("Query type:")]),t("el-select",{staticClass:"place-input query-type-select",staticStyle:{width:"100%","font-size":"17px","z-index":"1000"},attrs:{placeholder:"Query Type"},model:{value:e.selectQueryType,callback:function(t){e.selectQueryType=t},expression:"selectQueryType"}},e._l(e.queryTypes,(function(a){return t("el-option",{key:a.id,attrs:{value:a.queryName}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.queryName))])])})),1)],1),t("el-col",{attrs:{span:5}},[t("span",{staticClass:"input-label"},[e._v("Cancer type:")]),t("el-select",{staticClass:"place-input cancer-type-select",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"Cancer type"},model:{value:e.selectCancerType,callback:function(t){e.selectCancerType=t},expression:"selectCancerType"}},e._l(e.cancerType,(function(a){return t("el-option",{key:a.id,attrs:{value:a.cancerName}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.cancerName))]),t("span",{staticStyle:{float:"right"}},[e._v("(N="+e._s(a.sampleNumber)+")")])])})),1)],1),"Cancer type"===e.selectQueryType?t("el-col",{attrs:{span:5}},[t("span",{staticClass:"input-label"},[e._v("Select type:")]),t("el-select",{staticClass:"place-input loci-type-select",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"Select type"},model:{value:e.selectLociType,callback:function(t){e.selectLociType=t},expression:"selectLociType"}},[t("el-option",{attrs:{label:"SNP",value:"SNP"}}),t("el-option",{attrs:{label:"SNP epistasis",value:"SNP epistasis"}})],1),t("span",{class:{"text-black":!e.isClickedDefault,"text-orange":e.isClickedDefault},staticStyle:{"font-size":"16px"},on:{click:e.handleClickAndSetDefaultLociType}},[e._v("e.g., SNP epistasis")])],1):e._e(),"SNP"===e.selectQueryType?t("el-col",{attrs:{span:5}},[t("span",{staticClass:"input-label"},[e._v("SNP:")]),t("el-input",{staticClass:"place-input",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"SNP"},model:{value:e.queryRsid1,callback:function(t){e.queryRsid1=t},expression:"queryRsid1"}}),t("span",{class:{"text-black":!e.isClicked1,"text-orange":e.isClicked1},staticStyle:{"font-size":"16px"},on:{click:e.handleClickAndSetQueryRsid1}},[e._v("e.g., rs944857")])],1):e._e(),"SNP epistasis"===e.selectQueryType?t("el-col",{attrs:{span:5}},[t("span",{staticClass:"input-label"},[e._v("SNP epistasis:")]),t("el-input",{staticClass:"place-input",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"SNP epistasis"},model:{value:e.queryRsid1,callback:function(t){e.queryRsid1=t},expression:"queryRsid1"}}),t("span",{class:{"text-black":!e.isClicked2,"text-orange":e.isClicked2},staticStyle:{"font-size":"15px"},on:{click:e.handleClickAndSetQueryRsid2}},[e._v("e.g., rs12407887_rs118047432")])],1):e._e(),t("el-col",{attrs:{span:5}},[t("span",{staticClass:"input-label"},[e._v("Model select:")]),t("el-select",{staticClass:"place-input p-value-select",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"Model"},model:{value:e.ModelSelect,callback:function(t){e.ModelSelect=t},expression:"ModelSelect"}},[t("el-option",{attrs:{label:"Dominant",value:"Dominant"}}),t("el-option",{attrs:{label:"Additive",value:"Additive"}}),t("el-option",{attrs:{label:"Recessive",value:"Recessive"}})],1)],1)],1)],1),t("div",{staticStyle:{margin:"15px 0 0px"}},[t("el-row",{attrs:{type:"flex",justify:"center"}},[t("el-col",{attrs:{span:4}}),t("el-col",{staticClass:"text-center",attrs:{span:4}},[t("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("Submit")])],1),t("el-col",{staticClass:"text-center",attrs:{span:4}},[t("el-button",{staticClass:"cancel-button",attrs:{type:"danger"},on:{click:e.clearInput}},[e._v("Cancel")])],1),t("el-col",{attrs:{span:4}})],1)],1)],1),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"header-controls"},[t("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.recordNumber,"page-size":e.perPage,"current-page":e.currentPage,layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.currentChange}}),t("div",{staticStyle:{"margin-bottom":"0px","text-align":"right","margin-right":"20px"}},[t("el-button",{staticStyle:{"font-size":"35px",padding:"0","background-color":"white",color:"blue","font-weight":"bold"},attrs:{type:"primary",circle:!0},on:{click:e.downloadCSV}},[t("i",{staticClass:"el-icon-download"})])],1)],1),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.QTLData.SnpEpistasis,"empty-text":"No results found for your query"}},[t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"alleles1",label:"Plot",width:"60",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{staticStyle:{"font-size":"2.1em",cursor:"pointer",color:"blue"},attrs:{type:"line-chart",theme:"outlined"},on:{click:function(t){return e.fetchPdf(a.row.Cancertype,a.row.Model,a.row.SNP_epi||a.row.SNP)}}})]}}])}),e._l(e.tableColumns,(function(a){return t("el-table-column",{key:a.prop,staticClass:"custom-column-header",attrs:{prop:a.prop,label:a.label,width:a.width,align:"center"},scopedSlots:e._u([{key:"default",fn:function(i){return["Cancertype"===a.prop?t("span",{style:{color:"red",fontSize:"1.1em"}},[e._v(" "+e._s(i.row.Cancertype)+" ")]):"Model"===a.prop?t("span",{style:{color:"orange",fontSize:"1.1em"}},[e._v(" "+e._s(i.row.Model)+" ")]):"SNP"===a.prop?t("span",[e._v(" "+e._s(i.row[a.prop])+" "),t("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/snp/"+i.row[a.prop],target:"_blank"}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})])]):"SNP_epi"===a.prop?t("span",[e._l(i.row[a.prop].split("_"),(function(a,i){return[t("span",{key:i},[e._v(" "+e._s(a)+" "),t("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/snp/"+a,target:"_blank"}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})]),0===i?t("span",[e._v("_")]):e._e()])]}))],2):"P_Value"===a.prop?t("span",[e._v(" "+e._s(e.formatPValue(i.row[a.prop]))+" ")]):"decimal"===a.format?t("span",[e._v(" "+e._s(parseFloat(i.row[a.prop]).toFixed(2))+" ")]):"scientific"===a.format?t("span",[e._v(" "+e._s(parseFloat(i.row[a.prop]).toExponential(2))+" ")]):t("span",[e._v(" "+e._s(i.row[a.prop])+" ")])]}}],null,!0)})}))],2),t("el-dialog",{style:{maxWidth:"560px",margin:"0 auto"},attrs:{visible:e.imageDialogVisible,width:"auto","close-on-click-modal":!1,"close-on-press-escape":!0,"modal-append-to-body":!1},on:{"update:visible":function(t){e.imageDialogVisible=t},close:e.handleClose}},[t("div",{staticStyle:{"text-align":"center"},on:{click:function(e){e.stopPropagation()}}},[t("img",{staticStyle:{"max-width":"530px","max-height":"500px","object-fit":"contain",cursor:"pointer"},attrs:{src:e.imageUrl,alt:"Image Preview"},on:{click:e.handleClose}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClicked},on:{click:function(t){return t.stopPropagation(),e.handleDownload.apply(null,arguments)}}},[e._v(" Download ")])])])],1)],1)},oe=[],ne=(a(7588),{name:"EpiSNPSurvival",data(){return{selectQueryType:"",isBestSnpModalVisible:!1,formattedRowDetails:[],queryTypes:[{id:"001",queryName:"SNP"},{id:"002",queryName:"SNP epistasis"},{id:"003",queryName:"Cancer type"}],cancerType:[{id:"001",cancerName:"All",sampleNumber:"399723"},{id:"002",cancerName:"Breast",sampleNumber:"189339"},{id:"003",cancerName:"Prostate",sampleNumber:"159222"},{id:"004",cancerName:"Melanoma",sampleNumber:"322104"},{id:"005",cancerName:"Colon",sampleNumber:"320482"},{id:"006",cancerName:"Cervical",sampleNumber:"176438"},{id:"007",cancerName:"Lung",sampleNumber:"318728"},{id:"008",cancerName:"Bladder",sampleNumber:"317673"},{id:"009",cancerName:"Rectal",sampleNumber:"316597"},{id:"010",cancerName:"Uterine",sampleNumber:"172157"},{id:"011",cancerName:"Kidney",sampleNumber:"315750"},{id:"012",cancerName:"Ovarian",sampleNumber:"171548"},{id:"013",cancerName:"Pancreatic",sampleNumber:"315056"},{id:"014",cancerName:"Esophagus",sampleNumber:"315022"},{id:"015",cancerName:"Stomach",sampleNumber:"314676"},{id:"016",cancerName:"Brain",sampleNumber:"314501"},{id:"017",cancerName:"Liver",sampleNumber:"314490"}],QTLData:{SnpEpistasis:[]},recordNumber:0,ModelSelect:"",selectLociType:"",loading:!1,selectCancerType:"",isClicked1:!1,isClicked2:!1,isClickedDefault:!1,queryRsid1:"",currentPage:1,perPage:8,defaultQueryType:"SNP",defaultCancerType:"Breast",defaultModelSelect:"Additive",defaultselectLociType:"",tableColumns:[],imageUrl:"",downloadClicked:!1,imageDialogVisible:!1}},computed:{tableHeight(){return this.QTLData.SnpEpistasis.length<this.perPage?this.rowHeight*this.QTLData.SnpEpistasis.length+50:this.rowHeight*this.perPage+50}},methods:{formatPValue(e){return 0===parseFloat(e)?"0":parseFloat(e).toExponential(2)},setQueryRsid1(e){this.queryRsid1=e},toggleClickStatus(e){this["isClicked"+e]=!this["isClicked"+e]},handleClickAndSetQueryRsid1(){this.setQueryRsid1("rs944857"),this.toggleClickStatus(1),this.selectCancerType="Melanoma",this.ModelSelect="Additive"},handleClickAndSetQueryRsid2(){this.setQueryRsid1("rs12407887_rs118047432"),this.toggleClickStatus(2),this.selectCancerType="Kidney",this.ModelSelect="Dominant"},handleClickAndSetDefaultLociType(){this.selectLociType="SNP epistasis",this.selectCancerType="Breast",this.ModelSelect="Additive",this.isClickedDefault=!this.isClickedDefault},valueCheck(e){const t=/^[a-zA-Z0-9-_]+$/;return t.test(e)?e.trim():(this.$alert("Invalid input","Error",{confirmButtonText:"OK",callback:()=>{this.QTLData.SnpEpistasis=[],this.recordNumber=0}}),null)},changePage(e){this.currentPage=e,this.submitForm()},initData(){this.selectQueryType=this.defaultQueryType,this.selectCancerType=this.defaultCancerType,this.selectLociType=this.defaultselectLociType,this.ModelSelect=this.defaultModelSelect,this.fetchInitialData()},displayDataBasedOnModel(){if("Cancer type"===this.selectQueryType&&"SNP epistasis"===this.selectLociType){if("Dominant"===this.ModelSelect){const e=[{prop:"Cancertype",label:"Cancer",width:99},{prop:"Model",label:"Model",width:95},{prop:"SNP_epi",label:"SNP epistasis",width:250},{prop:"P_Value",label:"P-value",width:120,format:"scientific"},{prop:"N",label:"N",width:100},{prop:"OS_Median_AABB",label:"OS_Median_AABB",width:158,format:"decimal"},{prop:"OS_Median_AABb_and_AAbb",label:"OS_Median_AABb_and_AAbb",width:250,format:"decimal"},{prop:"OS_Median_AaBB_and_aaBB",label:"OS_Median_AaBB_and_aaBB",width:250,format:"decimal"},{prop:"OS_Median_AaBb_Aabb_aaBb_and_aabb",label:"OS_Median_AaBb_Aabb_aaBb_and_aabb",width:300,format:"decimal"}];this.tableColumns=e}else if("Additive"===this.ModelSelect){const e=[{prop:"Cancertype",label:"Cancer",width:99},{prop:"Model",label:"Model",width:90},{prop:"SNP_epi",label:"SNP epistasis",width:250},{prop:"P_Value",label:"P-value",width:120,format:"scientific"},{prop:"N",label:"N",width:100},{prop:"OS_Median_AABB",label:"OS_Median_AABB",width:158,format:"decimal"},{prop:"OS_Median_AABb",label:"OS_Median_AABb",width:158,format:"decimal"},{prop:"OS_Median_AAbb",label:"OS_Median_AAbb",width:158,format:"decimal"},{prop:"OS_Median_AaBB",label:"OS_Median_AaBB",width:158,format:"decimal"},{prop:"OS_Median_AaBb",label:"OS_Median_AaBb",width:150,format:"decimal"},{prop:"OS_Median_Aabb",label:"OS_Median_Aabb",width:150,format:"decimal"},{prop:"OS_Median_aaBB",label:"OS_Median_aaBB",width:150,format:"decimal"},{prop:"OS_Median_aaBb",label:"OS_Median_aaBb",width:150,format:"decimal"},{prop:"OS_Median_aabb",label:"OS_Median_aabb",width:150,format:"decimal"}];this.tableColumns=e}else if("Recessive"===this.ModelSelect){const e=[{prop:"Cancertype",label:"Cancer",width:99},{prop:"Model",label:"Model",width:95},{prop:"SNP_epi",label:"SNP epistasis",width:250},{prop:"P_Value",label:"P-value",width:120,format:"scientific"},{prop:"N",label:"N",width:100},{prop:"OS_Median_aabb",label:"OS_Median_aabb",width:150,format:"decimal"},{prop:"OS_Median_aaBB_and_aaBb",label:"OS_Median_aaBB_and_aaBb",width:250,format:"decimal"},{prop:"OS_Median_AAbb_and_Aabb",label:"OS_Median_AAbb_and_Aabb",width:250,format:"decimal"},{prop:"OS_Median_AABB_AABb_AaBB_and_AaBb",label:"OS_Median_AABB_AABb_AaBB_and_AaBb",width:300,format:"decimal"}];this.tableColumns=e}}else if("Cancer type"===this.selectQueryType&&"SNP"===this.selectLociType){if("Dominant"===this.ModelSelect){const e=[{prop:"Cancertype",label:"Cancer",width:100},{prop:"Model",label:"Model",width:90},{prop:"SNP",label:"SNP",width:160},{prop:"P_Value",label:"P-value",width:110,format:"scientific"},{prop:"Sample_Size",label:"N",width:90},{prop:"OS_Median_AA",label:"OS_Median_AA",width:165,format:"decimal"},{prop:"OS_Median_Aa_aa",label:"OS_Median_Aa_aa",width:155,format:"decimal"}];this.tableColumns=e}else if("Additive"===this.ModelSelect){const e=[{prop:"Cancertype",label:"Cancer",width:100},{prop:"Model",label:"Model",width:90},{prop:"SNP",label:"SNP",width:160},{prop:"P_Value",label:"P-value",width:110,format:"scientific"},{prop:"Sample_Size",label:"N",width:90},{prop:"OS_Median_AA",label:"OS_Median_AA",width:140,format:"decimal"},{prop:"OS_Median_Aa",label:"OS_Median_Aa",width:130,format:"decimal"},{prop:"OS_Median_aa",label:"OS_Median_aa",width:130,format:"decimal"}];this.tableColumns=e}else if("Recessive"===this.ModelSelect){const e=[{prop:"Cancertype",label:"Cancer",width:100},{prop:"Model",label:"Model",width:80},{prop:"SNP",label:"SNP",width:160},{prop:"P_Value",label:"P-value",width:110,format:"scientific"},{prop:"Sample_Size",label:"N",width:100},{prop:"OS_Median_aa",label:"OS_Median_aa",width:150,format:"decimal"},{prop:"OS_Median_AA_Aa",label:"OS_Median_AA_Aa",width:165,format:"decimal"}];this.tableColumns=e}}else if("SNP"===this.selectQueryType&&"Dominant"===this.ModelSelect){const e=[{prop:"Cancertype",label:"Cancer",width:100},{prop:"Model",label:"Model",width:80},{prop:"SNP",label:"SNP",width:160},{prop:"P_Value",label:"P-value",width:110,format:"scientific"},{prop:"Sample_Size",label:"N",width:100},{prop:"OS_Median_AA",label:"OS_Median_AA",width:165,format:"decimal"},{prop:"OS_Median_Aa_aa",label:"OS_Median_Aa_aa",width:155,format:"decimal"}];this.tableColumns=e}else if("SNP"===this.selectQueryType&&"Additive"===this.ModelSelect){const e=[{prop:"Cancertype",label:"Cancer",width:100},{prop:"Model",label:"Model",width:80},{prop:"SNP",label:"SNP",width:160},{prop:"P_Value",label:"P-value",width:120,format:"scientific"},{prop:"Sample_Size",label:"N",width:100},{prop:"OS_Median_AA",label:"OS_Median_AA",width:165,format:"decimal"},{prop:"OS_Median_Aa",label:"OS_Median_Aa",width:150,format:"decimal"},{prop:"OS_Median_aa",label:"OS_Median_aa",width:150,format:"decimal"}];this.tableColumns=e}else if("SNP"===this.selectQueryType&&"Recessive"===this.ModelSelect){const e=[{prop:"Cancertype",label:"Cancer",width:100},{prop:"Model",label:"Model",width:80},{prop:"SNP",label:"SNP",width:160},{prop:"P_Value",label:"P-value",width:120,format:"scientific"},{prop:"Sample_Size",label:"N",width:100},{prop:"OS_Median_aa",label:"OS_Median_aa",width:150,format:"decimal"},{prop:"OS_Median_AA_Aa",label:"OS_Median_AA_Aa",width:160,format:"decimal"}];this.tableColumns=e}else if("SNP epistasis"===this.selectQueryType&&"Dominant"===this.ModelSelect){const e=[{prop:"Cancertype",label:"Cancer",width:99},{prop:"Model",label:"Model",width:95},{prop:"SNP_epi",label:"SNP epistasis",width:250},{prop:"P_Value",label:"P-value",width:120,format:"scientific"},{prop:"N",label:"N",width:100},{prop:"OS_Median_AABB",label:"OS_Median_AABB",width:158,format:"decimal"},{prop:"OS_Median_AABb_and_AAbb",label:"OS_Median_AABb_and_AAbb",width:250,format:"decimal"},{prop:"OS_Median_AaBB_and_aaBB",label:"OS_Median_AaBB_and_aaBB",width:250,format:"decimal"},{prop:"OS_Median_AaBb_Aabb_aaBb_and_aabb",label:"OS_Median_AaBb_Aabb_aaBb_and_aabb",width:300,format:"decimal"}];this.tableColumns=e}else if("SNP epistasis"===this.selectQueryType&&"Additive"===this.ModelSelect){const e=[{prop:"Cancertype",label:"Cancer",width:99},{prop:"Model",label:"Model",width:95},{prop:"SNP_epi",label:"SNP epistasis",width:250},{prop:"P_Value",label:"P-value",width:120,format:"scientific"},{prop:"N",label:"N",width:100},{prop:"OS_Median_AABB",label:"OS_Median_AABB",width:158,format:"decimal"},{prop:"OS_Median_AABb",label:"OS_Median_AABb",width:158,format:"decimal"},{prop:"OS_Median_AAbb",label:"OS_Median_AAbb",width:158,format:"decimal"},{prop:"OS_Median_AaBB",label:"OS_Median_AaBB",width:158,format:"decimal"},{prop:"OS_Median_AaBb",label:"OS_Median_AaBb",width:150,format:"decimal"},{prop:"OS_Median_Aabb",label:"OS_Median_Aabb",width:150,format:"decimal"},{prop:"OS_Median_aaBB",label:"OS_Median_aaBB",width:150,format:"decimal"},{prop:"OS_Median_aaBb",label:"OS_Median_aaBb",width:150,format:"decimal"},{prop:"OS_Median_aabb",label:"OS_Median_aabb",width:150,format:"decimal"}];this.tableColumns=e}else if("SNP epistasis"===this.selectQueryType&&"Recessive"===this.ModelSelect){const e=[{prop:"Cancertype",label:"Cancer",width:99},{prop:"Model",label:"Model",width:95},{prop:"SNP_epi",label:"SNP epistasis",width:250},{prop:"P_Value",label:"P-value",width:120,format:"scientific"},{prop:"N",label:"N",width:100},{prop:"OS_Median_aabb",label:"OS_Median_aabb",width:150,format:"decimal"},{prop:"OS_Median_aaBB_and_aaBb",label:"OS_Median_aaBB_and_aaBb",width:250,format:"decimal"},{prop:"OS_Median_AAbb_and_Aabb",label:"OS_Median_AAbb_and_Aabb",width:250,format:"decimal"},{prop:"OS_Median_AABB_AABb_AaBB_and_AaBb",label:"OS_Median_AABB_AABb_AaBB_and_AaBb",width:300,format:"decimal"}];this.tableColumns=e}},fetchInitialData(){const e={Type:!0};U.A.post("api/SnpSurvival",e).then((e=>{this.QTLData.SnpEpistasis=e.data.collection_SingleAdditiveSurvivalResult,this.recordNumber=e.data.total,this.displayDataBasedOnModel(),this.loading=!1})).catch((e=>{e.response?(console.log("请求失败",e.response.data),console.log("状态码:",e.response.status),console.log("响应头:",e.response.headers)):e.request?console.log("请求未收到响应:",e.request):console.log("错误",e.message),this.loading=!1}))},submitForm(){this.loading=!0;let e=this.queryRsid1.trim().replace(/\s+/g,"");const t=/^(rs|RS|Affx-|AFFX-)[0-9]+$/,a=/^(rs|RS|Affx-|AFFX-)[0-9]+_(rs|RS|Affx-|AFFX-)[0-9]+$/;let i={queryType:this.selectQueryType,cancerType:this.selectCancerType,model:this.ModelSelect,page:this.currentPage,pageSize:this.perPage},s="";if("SNP"===this.selectQueryType){if(!t.test(e))return this.$alert("Invalid SNP input","Error",{confirmButtonText:"OK",callback:()=>{this.QTLData.SnpEpistasis=[],this.recordNumber=0}}),void(this.loading=!1);e=e.toLowerCase().replace("rs","rs").replace("affx-","Affx-"),i.snp=e,s="api/SnpSurvival"}else if("SNP epistasis"===this.selectQueryType){if(!a.test(e))return this.$alert("Invalid SNP epistasis input","Error",{confirmButtonText:"OK",callback:()=>{this.QTLData.SnpEpistasis=[],this.recordNumber=0}}),void(this.loading=!1);e=e.toLowerCase().replace(/(rs|RS)/g,"rs").replace(/(affx-|AFFX-)/g,"Affx-"),i.snp=e,s="api/SnpEpistasisSurvival"}else"Cancer type"===this.selectQueryType&&"SNP"===this.selectLociType?s="api/SnpCancerTypeSurvival":"Cancer type"===this.selectQueryType&&"SNP epistasis"===this.selectLociType&&(s="api/SnpEpistasisCancerTypeSurvival");U.A.post(s,i).then((e=>{"Cancer type"===this.selectQueryType&&"SNP"===this.selectLociType?this.QTLData.SnpEpistasis=e.data.SnpCancerTypeSurvivalResult:"Cancer type"===this.selectQueryType&&"SNP epistasis"===this.selectLociType?this.QTLData.SnpEpistasis=e.data.SnpEpistasisCancerTypeSurvivalResult:"SNP"===this.selectQueryType?this.QTLData.SnpEpistasis=e.data.SnpSurvivalResult:"SNP epistasis"===this.selectQueryType&&(this.QTLData.SnpEpistasis=e.data.SnpEpistasisSurvivalResult),this.recordNumber=e.data.total,this.displayDataBasedOnModel(),this.loading=!1})).catch((e=>{e.response?(console.log("请求失败",e.response.data),console.log("状态码:",e.response.status),console.log("响应头:",e.response.headers)):e.request?console.log("请求未收到响应:",e.request):console.log("错误",e.message),this.loading=!1}))},handleDownload(){this.downloadClicked=!0,this.downloadPdf()},handleClose(){this.imageDialogVisible=!1,this.downloadClicked=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},handleOutsideClick(e){const t=e.target.closest(".el-dialog");t||this.handleClose()},clearInput(){this.selectQueryType="",this.selectCancerType="",this.queryRsid1="",this.ModelSelect="",this.selectLociType=""},currentChange(e){this.currentPage=e,this.submitForm()},downloadCSV(){const e=[],t=[];this.tableColumns.forEach((a=>{"Plot"!==a.prop&&(t.push(a.prop),e.push(a.label))}));let a=e.join(",")+"\n";this.QTLData.SnpEpistasis.forEach((e=>{let i=t.map((t=>"P_Value"===t&&void 0!==e[t]?parseFloat(e[t]).toExponential(2):"SNP"===t||"SNP_epi"===t?e[t]:t.startsWith("OS_Median")&&void 0!==e[t]?parseFloat(e[t]).toFixed(2):void 0!==e[t]?e[t]:"")).join(",");a+=i+"\n"}));const i=new Blob([a],{type:"text/csv;charset=utf-8;"}),s=`${this.selectQueryType}_${this.selectCancerType}_${this.queryRsid1}_${this.ModelSelect}.csv`;if(window.navigator.msSaveOrOpenBlob)window.navigator.msSaveBlob(i,s);else{const e=document.createElement("a");e.href=URL.createObjectURL(i),e.download=s,document.body.appendChild(e),e.click(),document.body.removeChild(e)}},downloadPdf(){const e=this.currentCancertype,t=this.currentModel,a=this.currentSNP;U.A.get("api/SurvivaldownloadPdf",{params:{Cancertype:encodeURIComponent(e),Model:encodeURIComponent(t),SNP:encodeURIComponent(a)},responseType:"blob"}).then((i=>{const s=window.URL.createObjectURL(new Blob([i.data])),o=`${e}_${t}_${a}.pdf`,n=document.createElement("a");n.href=s,n.setAttribute("download",o),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(s)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClicked=!1}))},fetchPdf(e,t,a){this.currentCancertype=e,this.currentModel=t,this.currentSNP=a,U.A.get("api/SurvivalgetPdf",{params:{Cancertype:encodeURIComponent(e),Model:encodeURIComponent(t),SNP:encodeURIComponent(a)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(new Blob([e.data],{type:"image/png"}));this.imageUrl=t,this.imageDialogVisible=!0})).catch((e=>{console.error("Error fetching image:",e)}))}},mounted(){this.initData(),document.addEventListener("click",this.handleOutsideClick)},beforeDestroy(){document.removeEventListener("click",this.handleOutsideClick)}}),le=ne,re=(0,p.A)(le,se,oe,!1,null,"5a8522ee",null),ce=re.exports,pe=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"content-container"},[t("div",{staticClass:"header epistasis-background"},[e._v("SNP Epistasis Result for Each Cancer Type")]),t("div",{staticClass:"grid"},e._l(e.SnpEpistasis,(function(a){return t("div",{key:a,staticClass:"grid-item",on:{click:function(t){return e.downloadFile("Epistasis",a)}}},[t("b",[e._v(e._s(a))])])})),0)]),t("div",{staticClass:"content-container"},[t("div",{staticClass:"header gwas-background"},[e._v("SNP-GWAS Result for Each Cancer Type")]),t("div",{staticClass:"grid"},e._l(e.SnpGwas,(function(a){return t("div",{key:a,staticClass:"grid-item",on:{click:function(t){return e.downloadFile("GWAS",a)}}},[t("b",[e._v(e._s(a))])])})),0)]),e.downloading?t("div",{staticClass:"loading-overlay"},[e._m(0)]):e._e()])},de=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"loading-content"},[t("i",{staticClass:"el-icon-loading"}),t("p",[e._v("Downloading file...")])])}],ue={data(){return{downloading:!1,SnpEpistasis:["Breast","Prostate","Melanoma","Colon","Cervical","Lung","Bladder","Rectal","Uterine","Kidney","Ovarian","Pancreatic","Esophagus","Stomach","Brain","Liver"],SnpGwas:["Breast","Prostate","Melanoma","Colon","Cervical","Lung","Bladder","Rectal","Uterine","Kidney","Ovarian","Pancreatic","Esophagus","Stomach","Brain","Liver"]}},methods:{downloadFile(e,t){if(this.downloading)return;this.downloading=!0;let a={category:e,cancerType:t};console.log("Downloading file with params:",a),U.A.post("api/DownloadFile",a,{responseType:"blob",timeout:3e4}).then((e=>{if(200===e.status){const t=e.headers["content-disposition"];let i=`${a.category}_${a.cancerType}.csv`;if(t){const e=t.match(/filename="(.+)"/);e&&(i=e[1])}const s=window.URL.createObjectURL(new Blob([e.data])),o=document.createElement("a");o.href=s,o.setAttribute("download",i),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(s),this.$message({message:`File ${i} downloaded successfully!`,type:"success",duration:3e3})}})).catch((e=>{console.error("Error during file download:",e),e.response&&404===e.response.status?this.$message({message:`File not found for ${a.category} - ${a.cancerType}`,type:"warning",duration:3e3}):"ECONNABORTED"===e.code?this.$message({message:"Download timeout. Please try again.",type:"error",duration:3e3}):this.$message({message:"Download failed. Please try again later.",type:"error",duration:3e3})})).finally((()=>{this.downloading=!1}))}}},he=ue,me=(0,p.A)(he,pe,de,!1,null,"ad9ca872",null),ye=me.exports,fe=function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-container"},[t("div",{attrs:{id:"app"}},[t("div",{staticClass:"sidebar"},[t("ul",[t("li",{class:{active:"data-collection"===e.activeSection}},[t("button",{on:{click:function(t){return e.scrollTo("data-collection")}}},[e._v("Data collection")])]),t("li",{class:{active:"methods-and-tools"===e.activeSection}},[t("button",{on:{click:function(t){return e.scrollTo("methods-and-tools")}}},[e._v("Methods and Tools")])]),t("li",{class:{active:"data-contributors"===e.activeSection}},[t("button",{on:{click:function(t){return e.scrollTo("data-contributors")}}},[e._v("Data Contributors")])]),t("li",{class:{active:"contact"===e.activeSection}},[t("button",{on:{click:function(t){return e.scrollTo("contact")}}},[e._v("Contact")])])])]),t("div",{staticClass:"content"},[t("section",{attrs:{id:"data-collection"}},[t("h1",[e._v("Data collection")]),t("p",[e._v("The EpiSNP-db database is a data integration platform collected from multiple sources, primarily including the following two data sources:")]),e._m(0),e._m(1),e._m(2),t("h2",[e._v("Number of cancer samples in the UK Biobank and TCGA databases:")]),t("table",[e._m(3),t("tbody",e._l(e.tableData,(function(a,i){return t("tr",{key:i},e._l(a,(function(a,i){return t("td",{key:i},[e._v(e._s(a))])})),0)})),0)])]),e._m(4),e._m(5),e._m(6)])])])},ge=[function(){var e=this,t=e._self._c;return t("p",[e._v("EpiSNP-db obtained genotyping data, disease codes, and phenotypic information for a cohort of 500,000 individuals from the "),t("span",{staticStyle:{color:"#007AFF","font-weight":"bold"}},[e._v("UK Biobank")]),e._v(" database, and mutation data related to cancer from "),t("span",{staticStyle:{color:"#007AFF","font-weight":"bold"}},[e._v("The Cancer Genome Atlas (TCGA)")]),e._v(".")])},function(){var e=this,t=e._self._c;return t("p",[e._v("Firstly, the data acquired from the UK Biobank database includes "),t("span",{staticStyle:{color:"#f6003c","font-weight":"bold"}},[e._v("82,018")]),e._v(" British White cancer samples and "),t("span",{staticStyle:{color:"#f6003c","font-weight":"bold"}},[e._v("298,965")]),e._v(" British White non-cancer samples, covering "),t("span",{staticStyle:{color:"#f6003c","font-weight":"bold"}},[e._v("16")]),e._v(" different types of cancer. These cancer types include breast cancer (Breast), prostate cancer (Prostate), melanoma (Melanoma), colon cancer (Colon), cervical cancer (Cervical), lung cancer (Lung), bladder cancer (Bladder), rectal cancer (Rectal), uterine cancer (Uterine), kidney cancer (Kidney), ovarian cancer (Ovarian), pancreatic cancer (Pancreatic), esophageal cancer (Esophagus), stomach cancer (Stomach), brain cancer (Brain), and liver cancer (Liver).")])},function(){var e=this,t=e._self._c;return t("p",[e._v("Secondly, the data obtained from The Cancer Genome Atlas (TCGA) includes "),t("span",{staticStyle:{color:"#f6003c","font-weight":"bold"}},[e._v("6,685")]),e._v(" cancer samples, covering "),t("span",{staticStyle:{color:"#f6003c","font-weight":"bold"}},[e._v("18")]),e._v(" different types of cancer. These cancer types include bladder urothelial carcinoma (BLCA), glioblastoma multiforme (GBM), lower-grade glioma (LGG), breast invasive carcinoma (BRCA), cervical squamous cell carcinoma and endocervical adenocarcinoma (CESC), colon adenocarcinoma (COAD), esophageal carcinoma (ESCA), kidney renal clear cell carcinoma (KIRC), liver hepatocellular carcinoma (LIHC), lung adenocarcinoma (LUAD), lung squamous cell carcinoma (LUSC), skin cutaneous melanoma (SKCM), ovarian serous cystadenocarcinoma (OV), pancreatic adenocarcinoma (PAAD), prostate adenocarcinoma (PRAD), rectum adenocarcinoma (READ), stomach adenocarcinoma (STAD), and uterine corpus endometrial carcinoma (UCEC).")])},function(){var e=this,t=e._self._c;return t("thead",[t("tr",[t("th",{staticStyle:{width:"19%"}},[e._v("UK Biobank Cancer")]),t("th",{staticStyle:{width:"18%"}},[e._v("The number of cancer")]),t("th",{staticStyle:{width:"22%"}},[e._v("The number of non-cancer")]),t("th",{staticStyle:{width:"19%"}},[e._v("TCGA Cancer")]),t("th",{staticStyle:{width:"21%"}},[e._v("The number of cancer")])])])},function(){var e=this,t=e._self._c;return t("section",{attrs:{id:"methods-and-tools"}},[t("h1",[e._v("Methods and Tools")]),t("p",[e._v("This study utilized genotyping data from 500,000 individuals in the "),t("span",{staticStyle:{color:"#007AFF","font-weight":"bold"}},[e._v("UK Biobank")]),e._v(" to identify "),t("span",{staticStyle:{color:"#f6003c","font-weight":"bold"}},[e._v("SNP epistasis")]),e._v(" using "),t("span",{staticStyle:{color:"#f6003c","font-weight":"bold"}},[e._v("PLINK")]),e._v(" software. To minimize the impact of population stratification, we focused on the largest cohort of British Whites. We analyzed SNP epistasis in cancer types with "),t("span",{staticStyle:{color:"#f6003c","font-weight":"bold"}},[e._v("more than 1,000")]),e._v(" British White samples, as detailed in the Data Collection section.")]),t("p",[e._v("To address the imbalance between cancer and non-cancer samples, we applied the saddlepoint approximation method in "),t("span",{staticStyle:{color:"#f6003c","font-weight":"bold"}},[e._v("SAIGE")]),e._v(" software for a sensitivity analysis of the SNP epistasis results obtained from PLINK.")]),t("p",[e._v("To understand the functional roles of the identified epistatic SNPs, we performed functional annotation using "),t("span",{staticStyle:{color:"#f6003c","font-weight":"bold"}},[e._v("ANNOVAR")]),e._v(" software. Additionally, we conducted a genome-wide association analysis (GWAS) with the "),t("span",{staticStyle:{color:"#f6003c","font-weight":"bold"}},[e._v("fastGWAS-GLMM")]),e._v(" method in GCTA software to explore the association between epistatic SNPs and disease occurrence.")]),t("p",[e._v("For evaluating the impact of epistatic SNPs on cancer prognosis, we performed Kaplan-Meier survival analysis using additive, dominant, and recessive models with the "),t("span",{staticStyle:{color:"#f6003c","font-weight":"bold"}},[e._v("survival")]),e._v(" and "),t("span",{staticStyle:{color:"#f6003c","font-weight":"bold"}},[e._v("survminer")]),e._v(" packages in R.")]),t("p",[e._v("To study the interactions of mutations corresponding to cancers, we used mutation data from the TCGA database for the 16 cancer types in the UK Biobank and conducted interaction analysis using "),t("span",{staticStyle:{color:"#f6003c","font-weight":"bold"}},[e._v("Fisher's exact test")]),e._v(".")]),t("div",[t("h2",[e._v("Data Sources:")]),t("table",{staticClass:"data-sources-table"},[t("thead",[t("tr",[t("th",{staticStyle:{width:"5%"}},[e._v("#")]),t("th",{staticStyle:{width:"10%"}},[e._v("Name")]),t("th",{staticStyle:{width:"35%"}},[e._v("Usage")]),t("th",{staticStyle:{width:"50%"}},[e._v("Url")])])]),t("tbody",[t("tr",[t("td",[e._v("1")]),t("td",[e._v("UK Biobank")]),t("td",[e._v("Data Collection")]),t("td",[e._v("https://www.ukbiobank.ac.uk/")])]),t("tr",[t("td",[e._v("2")]),t("td",[e._v("TCGA")]),t("td",[e._v("Data Collection")]),t("td",[e._v("https://www.cancer.gov/ccg/research/genome-sequencing/tcga")])]),t("tr",[t("td",[e._v("3")]),t("td",[e._v("STRING")]),t("td",[e._v("Functional Annotation of Interaction Networks")]),t("td",[e._v("https://cn.string-db.org/")])])])])]),t("div",[t("h2",[e._v("Tools:")]),t("table",{staticClass:"tools-table"},[t("thead",[t("tr",[t("th",{staticStyle:{width:"5%"}},[e._v("#")]),t("th",{staticStyle:{width:"19.5%"}},[e._v("Name")]),t("th",{staticStyle:{width:"75%"}},[e._v("Usage")])])]),t("tbody",[t("tr",[t("td",[e._v("1")]),t("td",[e._v("PLINK")]),t("td",[e._v("Extract specific single nucleotide polymorphism (SNP) genotype data from particular samples, perform quality filtering of samples and SNPs, and conduct epistasis identification.")])]),t("tr",[t("td",[e._v("2")]),t("td",[e._v("SAIGE")]),t("td",[e._v("Conduct sensitivity analysis of SNP epistasis using the saddlepoint approximation method.")])]),t("tr",[t("td",[e._v("3")]),t("td",[e._v("GCTA(fastGWA-GLMM)")]),t("td",[e._v("Investigate the relationship between binary traits and genetic variation in the genome using generalized linear mixed models (GLMM).")])]),t("tr",[t("td",[e._v("4")]),t("td",[e._v("ANNOVAR")]),t("td",[e._v("Perform functional annotation of genetic variation.")])]),t("tr",[t("td",[e._v("5")]),t("td",[e._v("survival")]),t("td",[e._v("Define survival objects and fit Kaplan-Meier survival curves.")])]),t("tr",[t("td",[e._v("6")]),t("td",[e._v("survminer")]),t("td",[e._v("Visualize the results of survival analysis.")])])])])])])},function(){var e=this,t=e._self._c;return t("section",{attrs:{id:"data-contributors"}},[t("h1",[e._v("Data Contributors")]),t("p",[e._v("This research was conducted using the UK Biobank Resource under application 97563. We thank the participants of UK Biobank for making this work possible.")]),t("p",[e._v("The UK Biobank dataset used in this study is not publicly available but can be obtained by application "),t("a",{staticStyle:{color:"blue"},attrs:{href:"https://www.ukbiobank.ac.uk/"}},[e._v("https://www.ukbiobank.ac.uk/")]),e._v(". ")])])},function(){var e=this,t=e._self._c;return t("section",{attrs:{id:"contact"}},[t("h1",[e._v("Contact")]),t("p",{staticClass:"contact-text"},[e._v("Any comments and suggestions, please contact us")]),t("div",{staticClass:"contact-info"},[t("h3",[e._v("Jing Gong, Ph.D. Professor of Bioinformatics"),t("br"),t("span",[e._v("Email:")]),e._v(" "),t("canvas",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{id:"email1",width:"300",height:"30"}})]),t("h3",[e._v("Xiaohong Wu, Master"),t("br"),t("span",[e._v("Email:")]),e._v(" "),t("canvas",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{id:"email2",width:"300",height:"30"}})]),t("h3",[e._v("Jianye Yang, Doctoral Student"),t("br"),t("span",[e._v("Email:")]),e._v(" "),t("canvas",{staticStyle:{display:"inline-block","vertical-align":"middle"},attrs:{id:"email3",width:"300",height:"30"}})]),t("p",{staticClass:"contact-text"},[e._v("Huazhong Agricultural University, Wuhan 430070, P.R. China")])])])}],be={name:"App",data(){return{activeSection:"",tableData:[["Breast","19,207","161,999","BRCA","791"],["Prostate","14,466","136,966","PRAD","495"],["Melanoma","8,416","298,965","SKCM","466"],["Colon","6,834","298,965","COAD","288"],["Cervical","6,740","161,999","CESC","289"],["Lung","4,960","298,965","LUAD;LUSC","513;480"],["Bladder","4,128","298,965","BLCA","411"],["Rectal","3,142","298,965","READ","89"],["Uterine","2,768","161,999","UCEC","447"],["Kidney","2,314","298,965","KIRC","368"],["Ovarian","2,182","161,999","OV","64"],["Pancreatic","1,668","298,965","PAAD","177"],["Esophagus","1,609","298,965","ESCA","184"],["Stomach","1,305","298,965","STAD","439"],["Brain","1,157","298,965","GBM;LGG","311;510"],["Liver","1,122","298,965","LIHC","363"]]}},methods:{scrollTo(e){const t=document.querySelector(`#${e} h1`);t&&t.scrollIntoView({behavior:"smooth"}),this.activeSection=e},drawEmail(e,t){const a=document.getElementById(e),i=a.getContext("2d");i.font="18px Arial",i.fillStyle="#000",i.fillText(t,10,20)}},mounted(){this.drawEmail("email1","gong.jing@mail.hzau.edu.cn"),this.drawEmail("email2","wu.xiaohong@webmail.hzau.edu.cn"),this.drawEmail("email3","jyyang@webmail.hzau.edu.cn")}},we=be,Ce=(0,p.A)(we,fe,ge,!1,null,"b592de12",null),ve=Ce.exports,Se=function(){var e=this,t=e._self._c;return t("div",[t("div",[t("el-card",[t("div",{staticClass:"clearfix"},[t("span",[t("strong",{staticStyle:{"font-size":"30px"}},[t("i",{staticClass:"el-icon-message"},[e._v(" ")]),e._v("Contact")])])]),t("div",{staticStyle:{margin:"30px 0 0 30px"}},[t("div",{staticClass:"text item"},[e._v(" Welcome to use SNPsIa database. Please feel free to contact us, if you have any questions or suggestions. ")]),t("div",{staticStyle:{margin:"25px 0"}},[t("el-row",{attrs:{type:"flex"}},[t("el-col",{attrs:{span:12}},[t("p",{staticStyle:{margin:"16px 0 0 0"}},[t("strong",{staticStyle:{"font-size":"17px"}},[e._v("Jing Gong, Ph.D. Professor of Bioinformatics")])])]),t("el-col",{attrs:{span:12}},[t("p",[t("strong",{staticStyle:{"font-size":"17px"}},[e._v("Wen-Qian Yang, M.S.")])])])],1),t("el-row",[t("el-col",{attrs:{span:2}},[t("strong",{staticStyle:{"font-size":"20px"}},[e._v("Email:")])]),t("el-col",{attrs:{span:6}},[t("img",{staticStyle:{height:"27px",display:"block"},attrs:{alt:"Jing Gong",src:a(63583)}})])],1)],1),t("div",{staticStyle:{margin:"30px 0"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("p",[t("strong",{staticStyle:{"font-size":"17px"}},[e._v("Jing Gong, Ph.D. Professor of Bioinformatics")])])]),t("el-col",{attrs:{span:12}},[t("p",[t("strong",{staticStyle:{"font-size":"17px"}},[e._v("Wen-Qian Yang, M.S.")])])])],1),t("el-row")],1)])])],1)])},_e=[],Pe={name:"Contact"},xe=Pe,ke=(0,p.A)(xe,Se,_e,!1,null,null,null),Ae=ke.exports,Ne=function(){var e=this,t=e._self._c;return t("div",[t("div",{on:{click:e.closeAlert}},[t("div",{style:{minHeight:"350px",maxHeight:"10000px",height:"auto"},attrs:{id:"container"}}),t("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px",width:"1140px",padding:"0"}},[t("el-row",{staticStyle:{"background-color":"#ACD1E9",height:"50px","text-align":"left","line-height":"50px",border:"1px solid #ACD1E9","border-radius":"5px 5px 0px 0px","margin-bottom":"0px"}},[t("el-col",{attrs:{span:21}},[t("span",{staticStyle:{padding:"0px 20px","font-weight":"bold",color:"#29506D","font-size":"21px"}},[e._v("Epistasis results")])])],1),t("el-row",{staticStyle:{"border-radius":"0px 0px 5px 5px",border:"1px solid #D6EADF","margin-bottom":"0px"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"0","font-size":"15px"},attrs:{border:"",data:e.snpEpiTableData,"max-height":"500",stripe:"","empty-text":"No SNP epistasis results found for your query"}},[t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"alleles1",label:"Sample",width:"78",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{staticStyle:{"font-size":"2.0em",cursor:"pointer",color:"#AED4D4"},attrs:{type:"fund",theme:"twoTone"},on:{click:function(t){return e.fetchPdfSample(a.row.Cancertype,a.row.SNPepi)}}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"ORstatus",label:"OR plot",width:"82",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{style:{fontSize:"2.0em",cursor:"pointer",color:a.row.ORstatus?"blue":"grey"},attrs:{type:"bar-chart",theme:"outlined"},on:{click:function(t){return e.fetchPdfOR(a.row.Cancertype,a.row.SNPepi,a.row.ORstatus)}}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"Reliability",width:"92",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("div",{staticClass:"stars-container"},[t("el-tooltip",{attrs:{content:"epistasis",placement:"top"}},[t("i",{staticClass:"el-icon-star-on",class:{"star-yellow":e.row.Isepistasis,"star-gray":!e.row.Isepistasis},staticStyle:{"font-size":"24px"}})]),t("el-tooltip",{attrs:{content:"joint",placement:"top"}},[t("i",{staticClass:"el-icon-star-on",class:{"star-yellow":e.row.Isjoint,"star-gray":!e.row.Isjoint},staticStyle:{"font-size":"24px"}})]),t("el-tooltip",{attrs:{content:"boost",placement:"top"}},[t("i",{staticClass:"el-icon-star-on",class:{"star-yellow":e.row.Isboost,"star-gray":!e.row.Isboost},staticStyle:{"font-size":"24px"}})])],1)]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Cancertype",label:"Cancer",width:"107",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{color:"red",fontSize:e.cancerTypes.includes(a.row.Cancertype)?"1.1em":"inherit"}},[e._v(" "+e._s(a.row.Cancertype)+" ")])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"SNPepi",label:"SNP epistasis",width:"260",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return e._l(a.row.SNPepi.split("_"),(function(a,i){return t("span",{key:i},[e._v(" "+e._s(a)+" "),t("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/snp/"+a,target:"_blank"}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})]),0===i?t("span",[e._v("_")]):e._e()])}))}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"Odds ratio",width:"116",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Odds ratio "),t("el-tooltip",{attrs:{content:"Odds ratio for snp epistasis calculated by PLINK",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.OR_INT?t.row.OR_INT.toFixed(2):void 0!==t.row.OR?t.row.OR.toFixed(2):"")+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"P_epistasis",label:"P_epistasis",width:"147",sortable:"",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P_epistasis "),t("el-tooltip",{attrs:{content:"Asymptotic p-value calculated by PLINK",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.P_epistasis&&100!=t.row.P_epistasis?t.row.P_epistasis.toExponential(2):void 0!==t.row.P?t.row.P.toExponential(2):"-")+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Best_snp",label:"Best SNP",width:"113",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Best SNP "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"The SNP with the highest statistic obtained by testing SNP1 through PLINK.",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"P-joint",width:"111",sortable:"",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-joint "),t("el-tooltip",{attrs:{content:"Joint p-value",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(a){return[t("span",{domProps:{innerHTML:e._s(void 0!==a.row.P_joint&&100!=a.row.P_joint?a.row.P_joint.toExponential(2):"<i class='el-icon-minus' style='color: #FA8072;'></i>")}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"P-boost",width:"120",sortable:"",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-boost "),t("el-tooltip",{attrs:{content:"Boost p-value",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(a){return[t("span",{domProps:{innerHTML:e._s(void 0!==a.row.P_boost&&100!=a.row.P_boost?a.row.P_boost.toExponential(2):"<i class='el-icon-minus' style='color: #FA8072;'></i>")}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"P-saige",width:"118",sortable:"",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-saige "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Asymptotic p-value calculated by SAIGE",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.P_saige?0===t.row.P_saige?"0":t.row.P_saige.toExponential(2):void 0!==t.row.saige_p?t.row.saige_p.toExponential(2):"")+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"IsSPA",label:"Is.SPA",width:"88",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("i",{class:["custom-icon",e.row.IsSPA?"el-icon-check":"el-icon-close"],style:{color:e.row.IsSPA?"green":"red"}})]}},{key:"header",fn:function(){return[e._v(" Is.SPA "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Whether saddle point approximation(SPA) is converged or not",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])})],1),t("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.epiRecordNumber,"page-size":8,"current-page":e.currentEpiPage,layout:"prev, pager, next"},on:{"current-change":e.currentEpiChange}})],1),t("el-dialog",{style:{maxWidth:"700px",margin:"0 auto"},attrs:{visible:e.imageDialogVisibleSample,width:"auto","close-on-click-modal":!1,"close-on-press-escape":!0,"modal-append-to-body":e.useModalAppendToBody},on:{"update:visible":function(t){e.imageDialogVisibleSample=t},close:e.handleCloseSample}},[t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center",position:"relative"},on:{click:e.handleCloseSample}},[t("img",{staticStyle:{width:"600px",height:"500px","object-fit":"contain",cursor:"pointer",position:"relative","z-index":"2"},attrs:{src:e.imageUrl,alt:"Image Preview"},on:{click:e.handleCloseSample}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClickedSample},staticStyle:{position:"relative","z-index":"2","margin-top":"20px","font-size":"18px"},on:{click:function(t){return t.stopPropagation(),e.handleDownloadSample.apply(null,arguments)}}},[e._v(" Download ")])])]),t("el-dialog",{style:{maxWidth:"700px",margin:"0 auto"},attrs:{visible:e.imageDialogVisibleOR,width:"auto","close-on-click-modal":!1,"close-on-press-escape":!0,"modal-append-to-body":e.useModalAppendToBody},on:{"update:visible":function(t){e.imageDialogVisibleOR=t},close:e.handleCloseOR}},[t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center",position:"relative"},on:{click:e.handleCloseOR}},[t("img",{staticStyle:{width:"700px",height:"500px","object-fit":"contain",cursor:"pointer",position:"relative","z-index":"2"},attrs:{src:e.imageUrl,alt:"Image Preview"},on:{click:e.handleCloseOR}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClickedOR},staticStyle:{position:"relative","z-index":"2","margin-top":"20px","font-size":"18px"},on:{click:function(t){return t.stopPropagation(),e.handleDownloadOR.apply(null,arguments)}}},[e._v(" Download ")])])]),t("el-dialog",{style:{maxWidth:"560px",margin:"0 auto"},attrs:{visible:e.imageDialogVisible,width:"auto"},on:{"update:visible":function(t){e.imageDialogVisible=t},close:e.handleClose}},[t("div",{staticStyle:{"text-align":"center"}},[t("img",{staticStyle:{width:"530px",height:"500px","object-fit":"contain"},attrs:{src:e.imageUrl,alt:"Image Preview"}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClicked},on:{click:e.handleDownload}},[e._v(" Download ")])])])],1),t("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px",width:"1140px",padding:"0"}},[t("el-row",{staticStyle:{"background-color":"#ACD1E9",height:"50px","text-align":"left","line-height":"50px",border:"1px solid #ACD1E9","border-radius":"5px 5px 0px 0px","margin-bottom":"0px"}},[t("el-col",{attrs:{span:21}},[t("span",{staticStyle:{padding:"0px 20px","font-weight":"bold",color:"#29506D","font-size":"21px"}},[e._v("GWAS results")])])],1),t("el-row",{staticStyle:{"border-radius":"0px 0px 5px 5px",border:"1px solid #D6EADF","margin-bottom":"0px"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","margin-top":"0","font-size":"15px"},attrs:{border:"",data:e.snpGWASData,"max-height":"500",stripe:""}},[t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Cancertype",label:"Cancer",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{color:"red",fontSize:e.cancerTypes.includes(a.row.Cancertype)?"1.1em":"inherit"}},[e._v(" "+e._s(a.row.Cancertype)+" ")])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"SNP",label:"SNP",width:"140",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(a.row.SNP)+" "),t("a",{attrs:{target:"_blank",href:"https://www.ncbi.nlm.nih.gov/snp/"+a.row.SNP}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"Position",width:"160",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(a.row.Pos)+" : "+e._s(a.row.POS)+" "),t("a",{attrs:{target:"_blank",href:"http://genome.ucsc.edu/cgi-bin/hgTracks?db=hg19&position="+a.row.Pos+":"+a.row.POS}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"alleles",label:"Alleles(A/a)",width:"110",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"A1",label:"A1",width:"48",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"A2",label:"A2",width:"48",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"AF1",label:"AF1",width:"62",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(parseFloat(a.row.AF1).toFixed(2)))])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"BETA",label:"OR",width:"90",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(parseFloat(Math.exp(a.row.BETA)).toFixed(2)))])]}},{key:"header",fn:function(){return[e._v(" Beta "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Beta calculated by GCTA fast-GLMM",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"P",label:"P-value",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(parseFloat(t.row.P).toExponential(2))+" ")]}},{key:"header",fn:function(){return[e._v(" P-value "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"P-value calculated by GCTA fast-GLMM",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"case",label:"Case",width:"70",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"control",label:"Control",width:"78",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"N",label:"Sample",width:"85",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{staticStyle:{"font-size":"2em",cursor:"pointer",color:"blueviolet"},attrs:{type:"bar-chart",theme:"outlined"},on:{click:function(t){return e.fetchPdf(a.row.Cancertype,a.row.SNP)}}})]}}])})],1),t("el-dialog",{style:{maxWidth:"560px",margin:"0 auto"},attrs:{visible:e.imageDialogVisible,width:"auto","close-on-click-modal":!0,"close-on-press-escape":!0,"modal-append-to-body":!1},on:{"update:visible":function(t){e.imageDialogVisible=t},close:e.handleClose}},[t("div",{staticStyle:{"text-align":"center"},on:{click:function(t){e.imageDialogVisible=!1}}},[t("img",{staticStyle:{width:"530px",height:"500px","object-fit":"contain"},attrs:{src:e.imageUrl,alt:"Image Preview"}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClicked},on:{click:function(t){return t.stopPropagation(),e.handleDownload.apply(null,arguments)}}},[e._v(" Download ")])])])],1),t("el-dialog",{style:{maxWidth:"560px",margin:"0 auto"},attrs:{visible:e.imageDialogVisible,width:"auto"},on:{"update:visible":function(t){e.imageDialogVisible=t},close:e.handleClose}},[t("div",{staticStyle:{"text-align":"center"},on:{click:function(t){e.imageDialogVisible=!1}}},[t("img",{staticStyle:{width:"530px",height:"500px","object-fit":"contain"},attrs:{src:e.imageUrl,alt:"Image Preview"}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClicked},on:{click:e.handleDownload}},[e._v(" Download ")])])]),e.showAlert?t("div",{staticClass:"custom-alert",on:{click:e.closeAlert}},[t("div",{staticClass:"custom-alert-content",on:{click:e.stopPropagation}},[t("div",{staticStyle:{"font-size":"20px","line-height":"1.5em","text-align":"center"}},[t("strong",{staticStyle:{color:"blue"}},[e._v("Please note: ")]),e._v(" The epistasis associated with this SNP has not satisfied the criteria for "),t("strong",{staticStyle:{color:"black"}},[e._v("sample filteration")]),e._v(" in the context of the current cancer phenotype. ")]),t("el-button",{staticStyle:{"margin-top":"20px"},on:{click:e.closeAlert}},[e._v("OK")])],1)]):e._e()],1),t("div",{staticStyle:{"text-align":"center",margin:"15px 0"}},[t("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.recordNumber,"page-size":8,"current-page":e.currentGWASPage,layout:"prev, pager, next"},on:{"current-change":e.currentGWASChange}})],1)],1)])},Te=[],Re=(a(30531),a(14783)),De=a.n(Re),Oe=a(91966),Ee=a.n(Oe);Ee()(De());var Le={name:"quickSearchSnp",data(){return{snpGWASData:[],snpEpiTableData:[],snpEpiNetworkData:[],loading:!1,recordNumber:0,epiRecordNumber:0,pdfDialogVisible:!1,imageUrl:"",imageDialogVisible:!1,downloadClicked:!1,currentSNP:"",graphHeight:"auto",currentGWASPage:1,currentEpiPage:1,cancerTypes:["Bladder","Brain","Breast","Cancertype","Cervical","Colon","Esophagus","Kidney","Liver","Lung","Melanoma","Ovarian","Pancreatic","Prostate","Rectal","Stomach","Uterine"],imageDialogVisibleSample:!1,imageDialogVisibleOR:!1,downloadClickedSample:!1,downloadClickedOR:!1,useModalAppendToBody:!1,showAlert:!1,currentCancertype:"",currentSNPepi:""}},methods:{downloadCSV(){if(!Array.isArray(this.snpEpiTableData)||0===this.snpEpiTableData.length)return void this.$message.error("No data available for download");const e=["Cancer","SNP epistasis","Odds ratio","P_epistasis","Best SNP","P-joint","P-boost","P-saige"],t=this.snpEpiTableData.map((e=>[e.Cancertype,e.SNPepi,void 0!==e.OR_INT?e.OR_INT.toFixed(2):void 0!==e.OR?e.OR.toFixed(2):"",void 0!==e.P_epistasis?e.P_epistasis.toExponential(2):void 0!==e.P?e.P.toExponential(2):"",e.Best_snp,void 0!==e.P_joint?e.P_joint.toExponential(2):"",void 0!==e.P_boost?e.P_boost.toExponential(2):"",void 0!==e.P_saige?0===e.P_saige?"0":e.P_saige.toExponential(2):void 0!==e.saige_p?e.saige_p.toExponential(2):""]));let a="data:text/csv;charset=utf-8,"+e.join(",")+"\n"+t.map((e=>e.join(","))).join("\n");const i=encodeURI(a),s=document.createElement("a"),o=`epistasis_results_${(new Date).getTime()}.csv`;s.setAttribute("href",i),s.setAttribute("download",o),document.body.appendChild(s),s.click(),document.body.removeChild(s)},currentEpiChange(e){const t=this.$route.params.queryID;this.loading=!0,this.currentEpiPage=e,U.A.get("api/quickSearchSnp",{params:{queryID:t,page:e,perPage:8,type:"epistasis"}}).then((e=>{this.snpEpiTableData=e.data.SNPEpiTable||[],this.snpEpiNetworkData=e.data.SNPEpiNetwork||[],this.epiRecordNumber=e.data.epiRecordsNumber,this.initializeHighcharts(),this.loading=!1}),(e=>{this.loading=!1}))},currentGWASChange(e){const t=this.$route.params.queryID;this.loading=!0,this.currentGWASPage=e,U.A.get("api/quickSearchSnp",{params:{queryID:t,page:e,perPage:8,type:"gwas"}}).then((e=>{this.snpGWASData=e.data.SNPGWAS,this.recordNumber=e.data.recordsNumber,this.loading=!1}),(e=>{this.loading=!1}))},stopPropagation(e){e.stopPropagation()},handleCloseSample(){this.imageDialogVisibleSample=!1,this.downloadClickedSample=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},handleCloseOR(){this.imageDialogVisibleOR=!1,this.downloadClickedOR=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},initializeHighcharts(){const e=this.currentSNP,t=this.snpEpiNetworkData||[];let a=[],i=[];t.length>0?(a=t.map((e=>{const t=e.SNPepi.split("_");return[t[0],t[1]]})),i=a.flatMap((t=>t.map((t=>({id:t,color:t===e?"#ff0000":"#B2B2FF"})))))):(a=[],i=[{id:`${e} Result is null！`,color:"#ff0000"}]),this.graphHeight=`${Math.min(Math.max(350,10*i.length),1e3)}px`,De().chart("container",{chart:{type:"networkgraph",marginTop:80,height:this.graphHeight},title:{text:`The epistasis network associated with ${e}`},credits:{enabled:!1},plotOptions:{networkgraph:{keys:["from","to"],layoutAlgorithm:{enableSimulation:!0,integration:"verlet",linkLength:200},dataLabels:{enabled:!0,style:{fontSize:"15px",color:"#000000"}}}},series:[{marker:{radius:13},dataLabels:{enabled:!0,linkFormat:"",allowOverlap:!0,style:{fontSize:"15px",color:"#000000"}},data:a,nodes:i}]})},currentChange(e){this.currentGWASChange(e)},handleClose(){this.imageDialogVisible=!1},handleClick(e,t){console.log(e,t)},handleDownloadOR(){this.downloadClickedOR=!0,this.ORdownloadPdf()},handleDownloadSample(){this.downloadClickedSample=!0,this.SampledownloadPdf()},handleDownload(){this.downloadClicked=!0,this.downloadPdf()},handleClose(){this.imageDialogVisible=!1,this.downloadClicked=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},handleOutsideClick(e){const t=e.target.closest(".el-dialog");t||this.handleClose()},downloadPdf(){const e=this.currentCancertype,t=this.currentSNP;U.A.get("api/downloadPdf",{params:{Cancertype:encodeURIComponent(e),SNP:encodeURIComponent(t)},responseType:"blob"}).then((a=>{const i=window.URL.createObjectURL(new Blob([a.data])),s=`${e}_${t}.pdf`,o=document.createElement("a");o.href=i,o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClicked=!1}))},fetchPdf(e,t){this.currentCancertype=e,this.currentSNP=t,U.A.get("api/getPdf",{params:{Cancertype:encodeURIComponent(e),SNP:encodeURIComponent(t)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisible=!0})).catch((e=>{console.error("Error fetching image:",e)}))},fetchPdfSample(e,t){this.currentCancertype=e,this.currentSNPepi=t,U.A.get("api/SnpEpistasisSamplegetPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisibleSample=!0})).catch((e=>{console.error("Error fetching image:",e),this.$alert('<strong style="color: blue;">注意：</strong> 没有通过样本过滤',{dangerouslyUseHTMLString:!0,confirmButtonText:"确定"}).catch((()=>{}))}))},fetchPdfOR(e,t,a){a?(this.currentCancertype=e,this.currentSNPepi=t,U.A.get("api/SnpEpistasisORgetPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisibleOR=!0})).catch((e=>{console.error("Error fetching image:",e),this.showAlert=!0}))):this.showAlert=!0},closeAlert(){this.showAlert=!1},SampledownloadPdf(){const e=this.currentCancertype,t=this.currentSNPepi;U.A.get("api/SnpEpistasisSampledownloadPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((a=>{const i=window.URL.createObjectURL(new Blob([a.data])),s=`${e}_${t}.pdf`,o=document.createElement("a");o.href=i,o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClickedSample=!1}))},ORdownloadPdf(){const e=this.currentCancertype,t=this.currentSNPepi;U.A.get("api/SnpEpistasisORdownloadPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((a=>{const i=window.URL.createObjectURL(new Blob([a.data])),s=`${e}_${t}.pdf`,o=document.createElement("a");o.href=i,o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClickedOR=!1,this.$alert('<strong style="color: blue;">注意：</strong> <strong style="color: black;">没有通过样本过滤</strong>',{dangerouslyUseHTMLString:!0,confirmButtonText:"确定"})}))}},mounted(){const e=this.$route.params.queryID;this.currentSNP=e,U.A.get("api/quickSearchSnp",{params:{queryID:e,page:1,perPage:8}}).then((e=>{this.snpGWASData=e.data.SNPGWAS,this.snpEpiTableData=e.data.SNPEpiTable||[],this.snpEpiNetworkData=e.data.SNPEpiNetwork||[],this.recordNumber=e.data.recordsNumber,this.epiRecordNumber=e.data.epiRecordsNumber||0,this.initializeHighcharts()}),(e=>{console.log("Request failed",e.message)}))}},Ue=Le,Be=(0,p.A)(Ue,Ne,Te,!1,null,null,null),je=Be.exports,Ie=function(){var e=this,t=e._self._c;return t("div",[t("div",{style:{minHeight:"300px",maxHeight:"1000px",height:"auto"},attrs:{id:"container"}}),t("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px",width:"1140px"}},[t("el-row",{staticStyle:{"background-color":"#ACD1E9",height:"50px","text-align":"left","line-height":"50px",border:"1px solid #ACD1E9","border-radius":"5px 5px 0px 0px","margin-bottom":"0px"}},[t("el-col",{attrs:{span:21}},[t("span",{staticStyle:{padding:"0px 20px","font-weight":"bold",color:"#29506D","font-size":"21px"}},[e._v("Epistasis results")])])],1),t("el-row",{staticStyle:{"border-radius":"0px 0px 5px 5px",border:"1px solid #D6EADF","margin-bottom":"0px"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","font-size":"15px"},attrs:{data:e.snpEpiTableData,"max-height":"500",stripe:"","empty-text":"No SNP epistasis results found for your query"}},[t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"alleles1",label:"Sample",width:"78",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{staticStyle:{"font-size":"2.0em",cursor:"pointer",color:"#AED4D4"},attrs:{type:"fund",theme:"twoTone"},on:{click:function(t){return e.fetchPdfSample(a.row.Cancertype,a.row.SNPepi)}}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"ORstatus",label:"OR plot",width:"82",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{style:{fontSize:"2.0em",cursor:"pointer",color:a.row.ORstatus?"blue":"grey"},attrs:{type:"bar-chart",theme:"outlined"},on:{click:function(t){return e.fetchPdfOR(a.row.Cancertype,a.row.SNPepi,a.row.ORstatus)}}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"Reliability",width:"92",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("div",{staticClass:"stars-container"},[t("el-tooltip",{attrs:{content:"epistasis",placement:"top"}},[t("i",{staticClass:"el-icon-star-on",class:{"star-yellow":e.row.Isepistasis,"star-gray":!e.row.Isepistasis},staticStyle:{"font-size":"24px"}})]),t("el-tooltip",{attrs:{content:"joint",placement:"top"}},[t("i",{staticClass:"el-icon-star-on",class:{"star-yellow":e.row.Isjoint,"star-gray":!e.row.Isjoint},staticStyle:{"font-size":"24px"}})]),t("el-tooltip",{attrs:{content:"boost",placement:"top"}},[t("i",{staticClass:"el-icon-star-on",class:{"star-yellow":e.row.Isboost,"star-gray":!e.row.Isboost},staticStyle:{"font-size":"24px"}})])],1)]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Cancertype",label:"Cancer",width:"107",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{color:"red",fontSize:e.cancerTypes.includes(a.row.Cancertype)?"1.1em":"inherit"}},[e._v(" "+e._s(a.row.Cancertype)+" ")])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"SNPepi",label:"SNP epistasis",width:"260",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return e._l(a.row.SNPepi.split("_"),(function(a,i){return t("span",{key:i},[e._v(" "+e._s(a)+" "),t("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/snp/"+a,target:"_blank"}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})]),0===i?t("span",[e._v("_")]):e._e()])}))}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"Odds ratio",width:"115",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Odds ratio "),t("el-tooltip",{attrs:{content:"Odds ratio for snp epistasis calculated by PLINK",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.OR_INT?t.row.OR_INT.toFixed(2):void 0!==t.row.OR?t.row.OR.toFixed(2):"")+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"P_epistasis",label:"P_epistasis",width:"146",sortable:"",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P_epistasis "),t("el-tooltip",{attrs:{content:"Asymptotic p-value calculated by PLINK",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.P_epistasis&&100!=t.row.P_epistasis?t.row.P_epistasis.toExponential(2):void 0!==t.row.P?t.row.P.toExponential(2):"-")+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Best_snp",label:"Best SNP",width:"113",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Best SNP "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"The SNP with the highest statistic obtained by testing SNP1 through PLINK.",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"P-joint",width:"110",sortable:"",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-joint "),t("el-tooltip",{attrs:{content:"Joint p-value",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(a){return[t("span",{domProps:{innerHTML:e._s(void 0!==a.row.P_joint&&100!=a.row.P_joint?a.row.P_joint.toExponential(2):"<i class='el-icon-minus' style='color: #FA8072;'></i>")}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"P-boost",width:"119",sortable:"",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-boost "),t("el-tooltip",{attrs:{content:"Boost p-value",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(a){return[t("span",{domProps:{innerHTML:e._s(void 0!==a.row.P_boost&&100!=a.row.P_boost?a.row.P_boost.toExponential(2):"<i class='el-icon-minus' style='color: #FA8072;'></i>")}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"P-saige",width:"117",sortable:"",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-saige "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Asymptotic p-value calculated by SAIGE",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.P_saige?0===t.row.P_saige?"0":t.row.P_saige.toExponential(2):void 0!==t.row.saige_p?t.row.saige_p.toExponential(2):"")+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"IsSPA",label:"Is.SPA",width:"88",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("i",{class:["custom-icon",e.row.IsSPA?"el-icon-check":"el-icon-close"],style:{color:e.row.IsSPA?"green":"red"}})]}},{key:"header",fn:function(){return[e._v(" Is.SPA "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Whether saddle point approximation(SPA) is converged or not",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])})],1),t("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.epiRecordNumber,"page-size":8,"current-page":e.currentEpiPage,layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.currentEpiPage=t},"update:current-page":function(t){e.currentEpiPage=t},"current-change":e.currentEpiChange}}),t("el-dialog",{style:{maxWidth:"700px",margin:"0 auto"},attrs:{visible:e.imageDialogVisibleSample,width:"auto","close-on-click-modal":!1,"close-on-press-escape":!0,"modal-append-to-body":e.useModalAppendToBody},on:{"update:visible":function(t){e.imageDialogVisibleSample=t},close:e.handleCloseSample}},[t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center",position:"relative"},on:{click:e.handleCloseSample}},[t("img",{staticStyle:{width:"600px",height:"500px","object-fit":"contain",cursor:"pointer",position:"relative","z-index":"2"},attrs:{src:e.imageUrl,alt:"Image Preview"},on:{click:e.handleCloseSample}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClickedSample},staticStyle:{position:"relative","z-index":"2","margin-top":"20px","font-size":"18px"},on:{click:function(t){return t.stopPropagation(),e.handleDownloadSample.apply(null,arguments)}}},[e._v(" Download ")])])]),t("el-dialog",{style:{maxWidth:"700px",margin:"0 auto"},attrs:{visible:e.imageDialogVisibleOR,width:"auto","close-on-click-modal":!1,"close-on-press-escape":!0,"modal-append-to-body":e.useModalAppendToBody},on:{"update:visible":function(t){e.imageDialogVisibleOR=t},close:e.handleCloseOR}},[t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center",position:"relative"},on:{click:e.handleCloseOR}},[t("img",{staticStyle:{width:"700px",height:"500px","object-fit":"contain",cursor:"pointer",position:"relative","z-index":"2"},attrs:{src:e.imageUrl,alt:"Image Preview"},on:{click:e.handleCloseOR}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClickedOR},staticStyle:{position:"relative","z-index":"2","margin-top":"20px","font-size":"18px"},on:{click:function(t){return t.stopPropagation(),e.handleDownloadOR.apply(null,arguments)}}},[e._v(" Download ")])])]),e.showAlert?t("div",{staticClass:"custom-alert",on:{click:e.closeAlert}},[t("div",{staticClass:"custom-alert-content",on:{click:e.stopPropagation}},[t("div",{staticStyle:{"font-size":"20px","line-height":"1.5em","text-align":"center"}},[t("strong",{staticStyle:{color:"blue"}},[e._v("Please note: ")]),e._v(" The epistasis associated with this SNP has not satisfied the criteria for "),t("strong",{staticStyle:{color:"black"}},[e._v("sample filteration")]),e._v(" in the context of the current cancer phenotype. ")]),t("el-button",{staticStyle:{"margin-top":"20px"},on:{click:e.closeAlert}},[e._v("OK")])],1)]):e._e()],1)],1),t("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px",width:"1140px"}},[t("el-row",{staticStyle:{"background-color":"#ACD1E9",height:"50px","text-align":"left","line-height":"50px",border:"1px solid #ACD1E9","border-radius":"5px 5px 0px 0px","margin-top":"1px","margin-bottom":"0px"}},[t("el-col",{attrs:{span:21}},[t("span",{staticStyle:{padding:"0px 20px","font-weight":"bold",color:"#29506D","font-size":"21px"}},[e._v("GWAS results")])])],1),t("el-row",{staticStyle:{"border-radius":"0px 0px 5px 5px",border:"1px solid #ACD1E9","margin-bottom":"0px"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","font-size":"15px"},attrs:{border:"",data:e.positionGWASData,"max-height":"500",stripe:""}},[t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Cancertype",label:"Cancer",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{color:"red",fontSize:e.cancerTypes.includes(a.row.Cancertype)?"1.1em":"inherit"}},[e._v(" "+e._s(a.row.Cancertype)+" ")])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"SNP",label:"SNP",width:"140",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(a.row.SNP)+" "),t("a",{attrs:{target:"_blank",href:"https://www.ncbi.nlm.nih.gov/snp/"+a.row.SNP}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"Position",width:"160",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(a.row.Pos)+" : "+e._s(a.row.POS)+" "),t("a",{attrs:{target:"_blank",href:"http://genome.ucsc.edu/cgi-bin/hgTracks?db=hg19&position="+a.row.Pos+":"+a.row.POS}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"alleles",label:"Alleles(A/a)",width:"110",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"A1",label:"A1",width:"48",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"A2",label:"A2",width:"48",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"AF1",label:"AF1",width:"62",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(parseFloat(a.row.AF1).toFixed(2)))])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"BETA",label:"OR",width:"90",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(parseFloat(Math.exp(a.row.BETA)).toFixed(2)))])]}},{key:"header",fn:function(){return[e._v(" Beta "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Beta calculated by GCTA fast-GLMM",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"P",label:"P-value",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(parseFloat(t.row.P).toExponential(2))+" ")]}},{key:"header",fn:function(){return[e._v(" P-value "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"P-value calculated by GCTA fast-GLMM",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"case",label:"Case",width:"70",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"control",label:"Control",width:"78",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"N",label:"Sample",width:"85",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{staticStyle:{"font-size":"2em",cursor:"pointer",color:"blueviolet"},attrs:{type:"bar-chart",theme:"outlined"},on:{click:function(t){return e.fetchPdf(a.row.Cancertype,a.row.SNP)}}})]}}])})],1),t("el-dialog",{style:{maxWidth:"560px",margin:"0 auto"},attrs:{visible:e.imageDialogVisible,width:"auto","close-on-click-modal":!0,"close-on-press-escape":!0,"modal-append-to-body":!1},on:{"update:visible":function(t){e.imageDialogVisible=t},close:e.handleClose}},[t("div",{staticStyle:{"text-align":"center"},on:{click:function(t){e.imageDialogVisible=!1}}},[t("img",{staticStyle:{width:"530px",height:"500px","object-fit":"contain"},attrs:{src:e.imageUrl,alt:"Image Preview"}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClicked},on:{click:function(t){return t.stopPropagation(),e.handleDownload.apply(null,arguments)}}},[e._v(" Download ")])])]),t("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.recordNumber,"page-size":8,"current-page":e.currentPage,layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.currentChange}})],1),t("el-dialog",{style:{maxWidth:"560px",margin:"0 auto"},attrs:{visible:e.imageDialogVisible,width:"auto"},on:{"update:visible":function(t){e.imageDialogVisible=t},close:e.handleClose}},[t("div",{staticStyle:{"text-align":"center"},on:{click:function(t){e.imageDialogVisible=!1}}},[t("img",{staticStyle:{width:"530px",height:"500px","object-fit":"contain"},attrs:{src:e.imageUrl,alt:"Image Preview"}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClicked},on:{click:e.handleDownload}},[e._v(" Download ")])])])],1)],1)},Ge=[];Ee()(De());var Me={name:"QuickSearchPosition",data(){return{positionGWASData:[],snpEpiTableData:[],snpEpiNetworkData:[],loading:!1,recordNumber:0,epiRecordNumber:0,currentPage:1,currentEpiPage:1,pdfDialogVisible:!1,imageUrl:"",imageDialogVisible:!1,downloadClicked:!1,currentCancertype:"",currentSNP:"",currentSNPepi:"",graphHeight:"auto",cancerTypes:["Bladder","Brain","Breast","Cancertype","Cervical","Colon","Esophagus","Kidney","Liver","Lung","Melanoma","Ovarian","Pancreatic","Prostate","Rectal","Stomach","Uterine"],imageDialogVisibleSample:!1,imageDialogVisibleOR:!1,downloadClickedSample:!1,downloadClickedOR:!1,useModalAppendToBody:!1,showAlert:!1}},methods:{downloadCSV(){if(!Array.isArray(this.snpEpiTableData)||0===this.snpEpiTableData.length)return void this.$message.error("No data available for download");const e=["Cancer","SNP epistasis","Odds ratio","P_epistasis","Best SNP","P-joint","P-boost","P-saige"],t=this.snpEpiTableData.map((e=>[e.Cancertype,e.SNPepi,void 0!==e.OR_INT?e.OR_INT.toFixed(2):void 0!==e.OR?e.OR.toFixed(2):"",void 0!==e.P_epistasis&&100!=e.P_epistasis?e.P_epistasis.toExponential(2):void 0!==e.P?e.P.toExponential(2):"",e.Best_snp,void 0!==e.P_joint&&100!=e.P_joint?e.P_joint.toExponential(2):"",void 0!==e.P_boost&&100!=e.P_boost?e.P_boost.toExponential(2):"",void 0!==e.P_saige?0===e.P_saige?"0":e.P_saige.toExponential(2):void 0!==e.saige_p?e.saige_p.toExponential(2):""]));let a="data:text/csv;charset=utf-8,"+e.join(",")+"\n"+t.map((e=>e.join(","))).join("\n");const i=encodeURI(a),s=document.createElement("a"),o=`epistasis_results_${(new Date).getTime()}.csv`;s.setAttribute("href",i),s.setAttribute("download",o),document.body.appendChild(s),s.click(),document.body.removeChild(s)},currentChange(e){this.currentPage=e,this.fetchGWASData()},currentEpiChange(e){this.currentEpiPage=e,this.fetchEpiData()},fetchGWASData(){this.loading=!0;const{chromosome:e,start:t,end:a}=this.$route.params;U.A.get("api/quickSearchPosition",{params:{chromosome:e,start:parseInt(t),end:parseInt(a),page:this.currentPage,perPage:8}}).then((e=>{this.positionGWASData=e.data.SNPGWASPosition,this.recordNumber=e.data.recordsNumber,this.loading=!1})).catch((e=>{console.error("获取新页面数据时出错:",e),this.loading=!1}))},handleDownload(){this.downloadClicked=!0,this.downloadPdf()},handleDownloadSample(){this.downloadClickedSample=!0,this.SampledownloadPdf()},handleDownloadOR(){this.downloadClickedOR=!0,this.ORdownloadPdf()},handleClose(){this.imageDialogVisible=!1,this.downloadClicked=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},handleCloseSample(){this.imageDialogVisibleSample=!1,this.downloadClickedSample=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},handleCloseOR(){this.imageDialogVisibleOR=!1,this.downloadClickedOR=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},closeAlert(){this.showAlert=!1},stopPropagation(e){e.stopPropagation()},handleOutsideClick(e){const t=e.target.closest(".el-dialog");t||this.handleClose()},downloadPdf(){const e=this.currentCancertype,t=this.currentSNP;U.A.get("api/downloadPdf",{params:{Cancertype:encodeURIComponent(e),SNP:encodeURIComponent(t)},responseType:"blob"}).then((a=>{const i=window.URL.createObjectURL(new Blob([a.data])),s=`${e}_${t}.pdf`,o=document.createElement("a");o.href=i,o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClicked=!1}))},fetchPdf(e,t){this.currentCancertype=e,this.currentSNP=t,U.A.get("api/getPdf",{params:{Cancertype:encodeURIComponent(e),SNP:encodeURIComponent(t)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisible=!0})).catch((e=>{console.error("Error fetching image:",e)}))},fetchEpiData(){this.loading=!0;const{chromosome:e,start:t,end:a}=this.$route.params;U.A.get("api/quickSearchPosition",{params:{chromosome:e,start:parseInt(t),end:parseInt(a),page:this.currentEpiPage,perPage:8}}).then((e=>{this.snpEpiTableData=e.data.SNPEpiTable||[],this.snpEpiNetworkData=e.data.SNPEpiNetwork||[],this.epiRecordNumber=e.data.epiRecordsNumber,this.initializeHighcharts(),this.loading=!1})).catch((e=>{console.error("获取新页面数据时出错:",e),this.loading=!1}))},fetchPdfSample(e,t){this.currentCancertype=e,this.currentSNPepi=t,U.A.get("api/SnpEpistasisSamplegetPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisibleSample=!0})).catch((e=>{console.error("Error fetching image:",e),this.$alert('<strong style="color: blue;">注意：</strong> 没有通过样本过滤',{dangerouslyUseHTMLString:!0,confirmButtonText:"确定"}).catch((()=>{}))}))},fetchPdfOR(e,t,a){a?(this.currentCancertype=e,this.currentSNPepi=t,U.A.get("api/SnpEpistasisORgetPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisibleOR=!0})).catch((e=>{console.error("Error fetching image:",e),this.showAlert=!0}))):this.showAlert=!0},SampledownloadPdf(){const e=this.currentCancertype,t=this.currentSNPepi;U.A.get("api/SnpEpistasisSampledownloadPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((a=>{const i=window.URL.createObjectURL(new Blob([a.data])),s=`${e}_${t}.pdf`,o=document.createElement("a");o.href=i,o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClickedSample=!1}))},ORdownloadPdf(){const e=this.currentCancertype,t=this.currentSNPepi;U.A.get("api/SnpEpistasisORdownloadPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((a=>{const i=window.URL.createObjectURL(new Blob([a.data])),s=`${e}_${t}.pdf`,o=document.createElement("a");o.href=i,o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClickedOR=!1,this.$alert('<strong style="color: blue;">注意：</strong> <strong style="color: black;">没有通过样本过滤</strong>',{dangerouslyUseHTMLString:!0,confirmButtonText:"确定"})}))},initializeHighcharts(){const{start:e,end:t}=this.$route.params,a=this.snpEpiNetworkData||[];let i=[],s=[];a.length>0?(i=a.map((e=>{const t=e.SNPepi.split("_");return[t[0],t[1]]})),s=a.flatMap((a=>{const i=a.SNPepi.split("_");return i.map(((i,s)=>({id:i,color:0===s&&a.pos1>=e&&a.pos1<=t||1===s&&a.pos2>=e&&a.pos2<=t?"#ff0000":"#B2B2FF"})))}))):(i=[],s=[{id:"Result is null！",color:"#ff0000"}]),this.graphHeight=`${Math.min(Math.max(300,20*s.length),1e3)}px`,De().chart("container",{chart:{type:"networkgraph",marginTop:80,height:this.graphHeight},title:{text:"The epistasis network associated with the queried chromosome range"},credits:{enabled:!1},plotOptions:{networkgraph:{keys:["from","to"],layoutAlgorithm:{enableSimulation:!0,integration:"verlet",linkLength:120,maxIterations:500,gravitationalConstant:.02},dataLabels:{enabled:!0,style:{fontSize:"15px",color:"#000000"}}}},series:[{marker:{radius:13},dataLabels:{enabled:!0,linkFormat:"",allowOverlap:!0,style:{fontSize:"15px",color:"#000000"}},data:i,nodes:s}]})}},mounted(){this.currentChange(this.currentPage),this.currentEpiChange(this.currentEpiPage)}},Fe=Me,ze=(0,p.A)(Fe,Ie,Ge,!1,null,null,null),qe=ze.exports,Qe=function(){var e=this,t=e._self._c;return t("div",[t("div",{on:{click:e.closeAlert}},[t("div",{staticClass:"content-container"},[t("el-row",[t("el-col",{staticClass:"search-container",staticStyle:{display:"flex","flex-direction":"column","justify-content":"center","align-items":"center",height:"60%","margin-top":"50px"},attrs:{span:6}},[t("span",{staticClass:"input-label",staticStyle:{"align-self":"flex-start","margin-left":"10%"}},[e._v("Query Epistasis:")]),t("el-input",{staticStyle:{"margin-bottom":"10px",width:"80%"},attrs:{placeholder:"Search Epistasis",clearable:""},model:{value:e.queryRsid1,callback:function(t){e.queryRsid1=t},expression:"queryRsid1"}}),t("span",{class:{"text-black":!e.isClicked1,"text-orange":e.isClicked1},staticStyle:{"font-size":"17px","align-self":"flex-start","margin-left":"10%"},on:{click:e.handleClickAndSetQueryRsid1}},[e._v("e.g., rs10009280")]),t("span",{class:{"text-black":!e.isClicked2,"text-orange":e.isClicked2},staticStyle:{"font-size":"17px","align-self":"flex-start","margin-left":"10%"},on:{click:e.handleClickAndSetQueryRsid2}},[e._v("e.g., rs10009280_rs117969794")]),t("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"80%"}},[t("el-button",{staticClass:"submit-button",staticStyle:{display:"flex","align-items":"center","justify-content":"center","margin-top":"15px"},attrs:{type:"primary"},on:{click:e.handleSearch}},[e._v("Submit")]),t("el-button",{staticClass:"cancel-button",staticStyle:{display:"flex","align-items":"center","justify-content":"center","margin-top":"15px"},attrs:{type:"danger"},on:{click:e.clearInput}},[e._v("Cancel")])],1)],1),t("el-col",{staticClass:"network-container",attrs:{span:18}},[t("div",{attrs:{id:"container"}})])],1)],1),t("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px",width:"1140px"}},[t("el-row",{staticStyle:{"background-color":"#ACD1E9",height:"50px","text-align":"left","line-height":"50px",border:"1px solid #ACD1E9","border-radius":"5px 5px 0px 0px","margin-bottom":"0px"}},[t("el-col",{attrs:{span:21}},[t("span",{staticStyle:{padding:"0px 20px","font-weight":"bold",color:"#29506D","font-size":"21px"}},[e._v("Epistasis results")])])],1),t("el-row",{staticStyle:{"border-radius":"0px 0px 5px 5px",border:"1px solid #D6EADF","margin-bottom":"0px"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","font-size":"15px"},attrs:{border:"",data:e.snpEpiTableData,"max-height":"500",stripe:"","empty-text":"No SNP epistasis results found for your query"}},[t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"alleles1",label:"Sample",width:"78",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{staticStyle:{"font-size":"1.8em",cursor:"pointer",color:"#AED4D4"},attrs:{type:"fund",theme:"twoTone"},on:{click:function(t){return e.fetchPdfSample(a.row.Cancertype,a.row.SNPepi)}}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"ORstatus",label:"OR plot",width:"82",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{style:{fontSize:"1.8em",cursor:"pointer",color:a.row.ORstatus?"blue":"grey"},attrs:{type:"bar-chart",theme:"outlined"},on:{click:function(t){return e.fetchPdfOR(a.row.Cancertype,a.row.SNPepi,a.row.ORstatus)}}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"Reliability",width:"92",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("div",{staticClass:"stars-container"},[t("el-tooltip",{attrs:{content:"epistasis",placement:"top"}},[t("i",{staticClass:"el-icon-star-on",class:{"star-yellow":e.row.Isepistasis,"star-gray":!e.row.Isepistasis},staticStyle:{"font-size":"22px"}})]),t("el-tooltip",{attrs:{content:"joint",placement:"top"}},[t("i",{staticClass:"el-icon-star-on",class:{"star-yellow":e.row.Isjoint,"star-gray":!e.row.Isjoint},staticStyle:{"font-size":"22px"}})]),t("el-tooltip",{attrs:{content:"boost",placement:"top"}},[t("i",{staticClass:"el-icon-star-on",class:{"star-yellow":e.row.Isboost,"star-gray":!e.row.Isboost},staticStyle:{"font-size":"22px"}})])],1)]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Cancertype",label:"Cancer",width:"107",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{color:"red",fontSize:e.cancerTypes.includes(a.row.Cancertype)?"1em":"inherit"}},[e._v(" "+e._s(a.row.Cancertype)+" ")])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"SNPepi",label:"SNP epistasis",width:"260",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return e._l(a.row.SNPepi.split("_"),(function(a,i){return t("span",{key:i},[e._v(" "+e._s(a)+" "),t("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/snp/"+a,target:"_blank"}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})]),0===i?t("span",[e._v("_")]):e._e()])}))}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"Odds ratio",width:"116",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Odds ratio "),t("el-tooltip",{attrs:{content:"Odds ratio for snp epistasis calculated by PLINK",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.OR_INT?t.row.OR_INT.toFixed(2):void 0!==t.row.OR?t.row.OR.toFixed(2):"")+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"P_epistasis",label:"P_epistasis",width:"147",sortable:"",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P_epistasis "),t("el-tooltip",{attrs:{content:"Asymptotic p-value calculated by PLINK",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.P_epistasis&&100!=t.row.P_epistasis?t.row.P_epistasis.toExponential(2):void 0!==t.row.P?t.row.P.toExponential(2):"-")+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Best_snp",label:"Best SNP",width:"113",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Best SNP "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"The SNP with the highest statistic obtained by testing SNP1 through PLINK.",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"P-joint",width:"111",sortable:"",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-joint "),t("el-tooltip",{attrs:{content:"Joint p-value",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(a){return[t("span",{domProps:{innerHTML:e._s(void 0!==a.row.P_joint&&100!=a.row.P_joint?a.row.P_joint.toExponential(2):"<i class='el-icon-minus' style='color: #FA8072;'></i>")}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"P-boost",width:"120",sortable:"",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-boost "),t("el-tooltip",{attrs:{content:"Boost p-value",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(a){return[t("span",{domProps:{innerHTML:e._s(void 0!==a.row.P_boost&&100!=a.row.P_boost?a.row.P_boost.toExponential(2):"<i class='el-icon-minus' style='color: #FA8072;'></i>")}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"P-saige",width:"118",sortable:"",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-saige "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Asymptotic p-value calculated by SAIGE",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.P_saige?0===t.row.P_saige?"0":t.row.P_saige.toExponential(2):void 0!==t.row.saige_p?t.row.saige_p.toExponential(2):"")+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"IsSPA",label:"Is.SPA",width:"88",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("i",{class:["custom-icon",e.row.IsSPA?"el-icon-check":"el-icon-close"],style:{color:e.row.IsSPA?"green":"red"}})]}},{key:"header",fn:function(){return[e._v(" Is.SPA "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Whether saddle point approximation(SPA) is converged or not",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])})],1),t("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.epiRecordNumber,"page-size":8,"current-page":e.currentEpiPage,layout:"prev, pager, next"},on:{"current-change":e.currentEpiChange}}),t("el-dialog",{style:{maxWidth:"700px",margin:"0 auto"},attrs:{visible:e.imageDialogVisibleSample,width:"auto","close-on-click-modal":!1,"close-on-press-escape":!0,"modal-append-to-body":e.useModalAppendToBody},on:{"update:visible":function(t){e.imageDialogVisibleSample=t},close:e.handleCloseSample}},[t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center",position:"relative"},on:{click:e.handleCloseSample}},[t("img",{staticStyle:{width:"600px",height:"500px","object-fit":"contain",cursor:"pointer",position:"relative","z-index":"2"},attrs:{src:e.imageUrl,alt:"Image Preview"},on:{click:e.handleCloseSample}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClickedSample},staticStyle:{position:"relative","z-index":"2","margin-top":"20px","font-size":"18px"},on:{click:function(t){return t.stopPropagation(),e.handleDownloadSample.apply(null,arguments)}}},[e._v(" Download ")])])]),t("el-dialog",{style:{maxWidth:"700px",margin:"0 auto"},attrs:{visible:e.imageDialogVisibleOR,width:"auto","close-on-click-modal":!1,"close-on-press-escape":!0,"modal-append-to-body":e.useModalAppendToBody},on:{"update:visible":function(t){e.imageDialogVisibleOR=t},close:e.handleCloseOR}},[t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center",position:"relative"},on:{click:e.handleCloseOR}},[t("img",{staticStyle:{width:"700px",height:"500px","object-fit":"contain",cursor:"pointer",position:"relative","z-index":"2"},attrs:{src:e.imageUrl,alt:"Image Preview"},on:{click:e.handleCloseOR}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClickedOR},staticStyle:{position:"relative","z-index":"2","margin-top":"20px","font-size":"18px"},on:{click:function(t){return t.stopPropagation(),e.handleDownloadOR.apply(null,arguments)}}},[e._v(" Download ")])])]),e.showAlert?t("div",{staticClass:"custom-alert",on:{click:e.closeAlert}},[t("div",{staticClass:"custom-alert-content",on:{click:e.stopPropagation}},[t("div",{staticStyle:{"font-size":"20px","line-height":"1.5em","text-align":"center"}},[t("strong",{staticStyle:{color:"blue"}},[e._v("Please note: ")]),e._v(" The epistasis associated with this SNP has not satisfied the criteria for "),t("strong",{staticStyle:{color:"black"}},[e._v("sample filteration")]),e._v(" in the context of the current cancer phenotype. ")]),t("el-button",{staticStyle:{"margin-top":"20px"},on:{click:e.closeAlert}},[e._v("OK")])],1)]):e._e()],1)],1),t("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px",width:"1140px"}},[t("el-row",{staticStyle:{"background-color":"#ACD1E9",height:"50px","text-align":"left","line-height":"50px",border:"1px solid #ACD1E9","border-radius":"5px 5px 0px 0px","margin-top":"1px","margin-bottom":"0px"}},[t("el-col",{attrs:{span:21}},[t("span",{staticStyle:{padding:"0px 20px","font-weight":"bold",color:"#29506D","font-size":"21px"}},[e._v("GWAS results")])])],1),t("el-row",{staticStyle:{"border-radius":"0px 0px 5px 5px",border:"1px solid #D6EADF","margin-bottom":"0px"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","font-size":"15px"},attrs:{border:"",data:e.snpGWASData,"max-height":"500",stripe:""}},[t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Cancertype",label:"Cancer",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{color:"red",fontSize:e.cancerTypes.includes(a.row.Cancertype)?"1em":"inherit"}},[e._v(" "+e._s(a.row.Cancertype)+" ")])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"SNP",label:"SNP",width:"140",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(a.row.SNP)+" "),t("a",{attrs:{target:"_blank",href:"https://www.ncbi.nlm.nih.gov/snp/"+a.row.SNP}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"Position",width:"160",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(a.row.Pos)+" : "+e._s(a.row.POS)+" "),t("a",{attrs:{target:"_blank",href:"http://genome.ucsc.edu/cgi-bin/hgTracks?db=hg19&position="+a.row.Pos+":"+a.row.POS}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"alleles",label:"Alleles(A/a)",width:"110",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"A1",label:"A1",width:"48",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"A2",label:"A2",width:"48",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"AF1",label:"AF1",width:"62",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(parseFloat(a.row.AF1).toFixed(2)))])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"BETA",label:"OR",width:"90",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(parseFloat(Math.exp(a.row.BETA)).toFixed(2)))])]}},{key:"header",fn:function(){return[e._v(" Beta "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Beta calculated by GCTA fast-GLMM",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"P",label:"P-value",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(parseFloat(t.row.P).toExponential(2))+" ")]}},{key:"header",fn:function(){return[e._v(" P-value "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"P-value calculated by GCTA fast-GLMM",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"case",label:"Case",width:"70",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"control",label:"Control",width:"78",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"N",label:"Sample",width:"85",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{staticStyle:{"font-size":"1.8em",cursor:"pointer",color:"blueviolet"},attrs:{type:"bar-chart",theme:"outlined"},on:{click:function(t){return e.fetchPdf(a.row.Cancertype,a.row.SNP)}}})]}}])})],1),t("el-dialog",{style:{maxWidth:"560px",margin:"0 auto"},attrs:{visible:e.imageDialogVisible,width:"auto","close-on-click-modal":!0,"close-on-press-escape":!0,"modal-append-to-body":!1},on:{"update:visible":function(t){e.imageDialogVisible=t},close:e.handleClose}},[t("div",{staticStyle:{"text-align":"center"},on:{click:function(t){e.imageDialogVisible=!1}}},[t("img",{staticStyle:{width:"530px",height:"500px","object-fit":"contain"},attrs:{src:e.imageUrl,alt:"Image Preview"}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClicked},on:{click:function(t){return t.stopPropagation(),e.handleDownload.apply(null,arguments)}}},[e._v(" Download ")])])]),t("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.recordNumber,"page-size":8,"current-page":e.currentGWASPage,layout:"prev, pager, next"},on:{"current-change":e.currentGWASChange}})],1),t("el-dialog",{style:{maxWidth:"560px",margin:"0 auto"},attrs:{visible:e.imageDialogVisible,width:"auto"},on:{"update:visible":function(t){e.imageDialogVisible=t},close:e.handleClose}},[t("div",{staticStyle:{"text-align":"center"}},[t("img",{staticStyle:{width:"530px",height:"500px","object-fit":"contain"},attrs:{src:e.imageUrl,alt:"Image Preview"},on:{click:function(t){e.imageDialogVisible=!1}}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClicked},on:{click:e.handleDownload}},[e._v(" Download ")])])])],1)],1)])},Ve=[];Ee()(De());var We={name:"quickSearchCancer",props:{speciesName:{type:String,default:null}},data(){return{snpGWASData:[],snpEpiTableData:[],snpEpiNetworkData:[],loading:!1,recordNumber:0,epiRecordNumber:0,pdfDialogVisible:!1,imageUrl:"",imageDialogVisible:!1,downloadClicked:!1,currentSNP:"",currentGWASPage:1,currentEpiPage:1,imageDialogVisibleSample:!1,imageDialogVisibleOR:!1,downloadClickedSample:!1,downloadClickedOR:!1,useModalAppendToBody:!1,showAlert:!1,queryRsid1:"",queryRsid2:"",isClicked1:!1,isClicked2:!1,currentCancertype:"",currentSNPepi:"",cancerTypes:["Bladder","Brain","Breast","Cancertype","Cervical","Colon","Esophagus","Kidney","Liver","Lung","Melanoma","Ovarian","Pancreatic","Prostate","Rectal","Stomach","Uterine"]}},methods:{downloadCSV(){if(!Array.isArray(this.snpEpiTableData)||0===this.snpEpiTableData.length)return void this.$message.error("No data available for download");const e=["Cancer","SNP epistasis","Odds ratio","P_epistasis","Best SNP","P-joint","P-boost","P-saige"],t=this.snpEpiTableData.map((e=>[e.Cancertype,e.SNPepi,void 0!==e.OR_INT?e.OR_INT.toFixed(2):void 0!==e.OR?e.OR.toFixed(2):"",void 0!==e.P_epistasis?e.P_epistasis.toExponential(2):void 0!==e.P?e.P.toExponential(2):"",e.Best_snp,void 0!==e.P_joint?e.P_joint.toExponential(2):"",void 0!==e.P_boost?e.P_boost.toExponential(2):"",void 0!==e.P_saige?0===e.P_saige?"0":e.P_saige.toExponential(2):void 0!==e.saige_p?e.saige_p.toExponential(2):""]));let a="data:text/csv;charset=utf-8,"+e.join(",")+"\n"+t.map((e=>e.join(","))).join("\n");const i=encodeURI(a),s=document.createElement("a"),o=`epistasis_results_${(new Date).getTime()}.csv`;s.setAttribute("href",i),s.setAttribute("download",o),document.body.appendChild(s),s.click(),document.body.removeChild(s)},initializeHighcharts(){const e=this.currentSNP,t=this.snpEpiNetworkData||[],a=this.speciesName||this.$route.params.speciesName||this.$route.params.queryID;let i=[],s=[];t.length>0?(i=t.map((e=>{const t=e.SNPepi.split("_");return[t[0],t[1]]})),s=i.flatMap((t=>t.map((t=>({id:t,color:t===e?"#ff0000":"#B2B2FF"})))))):(i=[],s=[{id:`${e} Result is null！`,color:"#ff0000"}]),De().chart("container",{chart:{type:"networkgraph",marginTop:120},title:{text:`The epistasis network associated with ${a}`},credits:{enabled:!1},plotOptions:{networkgraph:{keys:["from","to"],layoutAlgorithm:{enableSimulation:!0,integration:"verlet",linkLength:100},dataLabels:{enabled:!0,style:{fontSize:"15px",color:"#000000"},formatter:function(){return this.key===e?`<span style="color: #ff0000">${this.key}</span>`:this.key}}}},series:[{marker:{radius:13},dataLabels:{enabled:!0,linkFormat:"",allowOverlap:!0,style:{fontSize:"15px",color:"#000000"},formatter:function(){return this.key===e?`<span style="color: #ff0000">${this.key}</span>`:this.key}},data:i,nodes:s}]})},setQueryRsid1(e){this.queryRsid1=e},handleClickAndSetQueryRsid1(){this.setQueryRsid1("rs10009280"),this.isClicked1=!0,this.isClicked2=!1},handleClickAndSetQueryRsid2(){this.setQueryRsid1("rs10009280_rs117969794"),this.isClicked1=!1,this.isClicked2=!0},handleCloseSample(){this.imageDialogVisibleSample=!1,this.downloadClickedSample=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},handleCloseOR(){this.imageDialogVisibleOR=!1,this.downloadClickedOR=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},handleOutsideClick(e){const t=this.$el.querySelector('.el-dialog__wrapper[aria-label="Sample"]'),a=this.$el.querySelector('.el-dialog__wrapper[aria-label="OR_plot"]');t&&!t.contains(e.target)&&this.handleCloseSample(),a&&!a.contains(e.target)&&this.handleCloseOR()},resultsDownload(){const e=this.$route.params.queryID;(0,U.A)({url:`api/snpGWASdownloadCSV?queryID=${encodeURIComponent(e)}`,method:"GET",responseType:"blob"}).then((t=>{const a=window.URL.createObjectURL(new Blob([t.data])),i=document.createElement("a");i.href=a,i.setAttribute("download",`${e}_GWAS_res.csv`),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(a)})).catch((e=>console.error("Download error:",e)))},handleDownloadSample(){this.downloadClickedSample=!0,this.SampledownloadPdf()},handleDownloadOR(){this.downloadClickedOR=!0,this.ORdownloadPdf()},fetchPdfSample(e,t){this.currentCancertype=e,this.currentSNPepi=t,U.A.get("api/SnpEpistasisSamplegetPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisibleSample=!0})).catch((e=>{console.error("Error fetching image:",e),this.$alert('<strong style="color: blue;">注意：</strong> 没有通过样本过滤',{dangerouslyUseHTMLString:!0,confirmButtonText:"确定"}).catch((()=>{}))}))},fetchPdfOR(e,t,a){a?(this.currentCancertype=e,this.currentSNPepi=t,U.A.get("api/SnpEpistasisORgetPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisibleOR=!0})).catch((e=>{console.error("Error fetching image:",e),this.showAlert=!0}))):this.showAlert=!0},closeAlert(){this.showAlert=!1},stopPropagation(e){e.stopPropagation()},SampledownloadPdf(){const e=this.currentCancertype,t=this.currentSNPepi;U.A.get("api/SnpEpistasisSampledownloadPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((a=>{const i=window.URL.createObjectURL(new Blob([a.data])),s=`${e}_${t}.pdf`,o=document.createElement("a");o.href=i,o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClickedSample=!1}))},ORdownloadPdf(){const e=this.currentCancertype,t=this.currentSNPepi;U.A.get("api/SnpEpistasisORdownloadPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((a=>{const i=window.URL.createObjectURL(new Blob([a.data])),s=`${e}_${t}.pdf`,o=document.createElement("a");o.href=i,o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClickedOR=!1,this.$alert('<strong style="color: blue;">注意：</strong> <strong style="color: black;">没有通过样本过滤</strong>',{dangerouslyUseHTMLString:!0,confirmButtonText:"确定"})}))},currentGWASChange(e){const t=this.speciesName||this.$route.params.speciesName||this.$route.params.queryID;t&&(this.loading=!0,this.currentGWASPage=e,U.A.get("api/quickSearchCancer",{params:{cancertype:t,page:e,perPage:8}}).then((e=>{this.snpGWASData=e.data.CancerGWAS,this.recordNumber=e.data.recordsNumber,this.loading=!1}),(e=>{this.loading=!1})))},handleDownload(){this.downloadClicked=!0,this.downloadPdf()},handleClose(){this.imageDialogVisible=!1,this.downloadClicked=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},downloadPdf(){const e=this.currentCancertype,t=this.currentSNP;U.A.get("api/downloadPdf",{params:{Cancertype:encodeURIComponent(e),SNP:encodeURIComponent(t)},responseType:"blob"}).then((a=>{const i=window.URL.createObjectURL(new Blob([a.data])),s=`${e}_${t}.pdf`,o=document.createElement("a");o.href=i,o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClicked=!1}))},fetchPdf(e,t){this.currentCancertype=e,this.currentSNP=t,U.A.get("api/getPdf",{params:{Cancertype:encodeURIComponent(e),SNP:encodeURIComponent(t)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisible=!0})).catch((e=>{console.error("Error fetching image:",e)}))},currentEpiChange(e){const t=this.speciesName||this.$route.params.speciesName||this.$route.params.queryID;t&&(this.loading=!0,this.currentEpiPage=e,U.A.get("api/quickSearchCancer",{params:{cancertype:t,page:e,perPage:8}}).then((e=>{this.snpEpiTableData=e.data.SNPEpiTable,this.snpEpiNetworkData=e.data.SNPEpiNetwork,this.epiRecordNumber=e.data.epiRecordsNumber,this.initializeHighcharts(),this.loading=!1}),(e=>{this.loading=!1})))},QuickCancerinteresting(){this.loading=!0;let e={queryRsid1:this.queryRsid1||"defaultRsid",cancertype:this.speciesName||this.$route.params.speciesName||this.$route.params.queryID};U.A.get("api/QuickCancerinteresting",{params:e}).then((e=>{this.snpEpiTableData=e.data.SNPEpiTable,this.snpEpiNetworkData=e.data.SNPEpiNetwork,this.snpGWASData=e.data.CancerGWAS,this.epiRecordNumber=e.data.epiRecordsNumber,this.recordNumber=e.data.recordsNumber,this.initializeHighcharts(),this.loading=!1})).catch((e=>{console.error("Error fetching data:",e),this.loading=!1}))},handleSearch(){this.QuickCancerinteresting()},clearInput(){this.queryRsid1="",this.queryRsid2="",this.isClicked1=!1,this.isClicked2=!1}},mounted(){this.currentGWASChange(1),this.currentEpiChange(1),document.addEventListener("click",this.handleOutsideClick)},beforeDestroy(){document.removeEventListener("click",this.handleOutsideClick)}},$e=We,Ke=(0,p.A)($e,Qe,Ve,!1,null,"6471e160",null),He=Ke.exports,Ye=function(){var e=this,t=e._self._c;return t("div",[t("div",{attrs:{id:"container"}}),t("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px",width:"1140px"}},[t("el-row",{staticStyle:{"background-color":"#ACD1E9",height:"50px","text-align":"left","line-height":"50px",border:"1px solid #ACD1E9","border-radius":"5px 5px 0px 0px","margin-top":"1px","margin-bottom":"0px"}},[t("el-col",{attrs:{span:21}},[t("span",{staticStyle:{padding:"0px 20px","font-weight":"bold",color:"#29506D","font-size":"21px"}},[e._v("Epistasis results")])])],1),t("el-row",{staticStyle:{"border-radius":"0px 0px 5px 5px",border:"1px solid #D6EADF","margin-bottom":"0px"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","font-size":"15px"},attrs:{border:"",data:e.snpEpiTableData,"max-height":"500",stripe:"","empty-text":"No SNP epistasis results found for your query"}},[t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"alleles1",label:"Sample",width:"78",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{staticStyle:{"font-size":"2.0em",cursor:"pointer",color:"#AED4D4"},attrs:{type:"fund",theme:"twoTone"},on:{click:function(t){return e.fetchPdfSample(a.row.Cancertype,a.row.SNPepi)}}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"ORstatus",label:"OR plot",width:"82",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{style:{fontSize:"2.0em",cursor:"pointer",color:!1!==a.row.ORstatus?"blue":"grey"},attrs:{type:"bar-chart",theme:"outlined"},on:{click:function(t){return e.fetchPdfOR(a.row.Cancertype,a.row.SNPepi,a.row.ORstatus)}}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"Reliability",width:"92",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("div",{staticClass:"stars-container"},[t("el-tooltip",{attrs:{content:"epistasis",placement:"top"}},[t("i",{staticClass:"el-icon-star-on",class:{"star-yellow":e.row.Isepistasis,"star-gray":!e.row.Isepistasis},staticStyle:{"font-size":"24px"}})]),t("el-tooltip",{attrs:{content:"joint",placement:"top"}},[t("i",{staticClass:"el-icon-star-on",class:{"star-yellow":e.row.Isjoint,"star-gray":!e.row.Isjoint},staticStyle:{"font-size":"24px"}})]),t("el-tooltip",{attrs:{content:"boost",placement:"top"}},[t("i",{staticClass:"el-icon-star-on",class:{"star-yellow":e.row.Isboost,"star-gray":!e.row.Isboost},staticStyle:{"font-size":"24px"}})])],1)]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Cancertype",label:"Cancer",width:"107",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{color:"red",fontSize:e.cancerTypes.includes(a.row.Cancertype)?"1.1em":"inherit"}},[e._v(" "+e._s(a.row.Cancertype)+" ")])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"SNPepi",label:"SNP epistasis",width:"260",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return e._l(a.row.SNPepi.split("_"),(function(a,i){return t("span",{key:i},[e._v(" "+e._s(a)+" "),t("a",{attrs:{href:"https://www.ncbi.nlm.nih.gov/snp/"+a,target:"_blank"}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})]),0===i?t("span",[e._v("_")]):e._e()])}))}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"Odds ratio",width:"116",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Odds ratio "),t("el-tooltip",{attrs:{content:"Odds ratio for snp epistasis calculated by PLINK",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.OR_INT?t.row.OR_INT.toFixed(2):void 0!==t.row.OR?t.row.OR.toFixed(2):"")+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"P_epistasis",label:"P_epistasis",width:"147",sortable:"",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P_epistasis "),t("el-tooltip",{attrs:{content:"Asymptotic p-value calculated by PLINK",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.P_epistasis&&100!=t.row.P_epistasis?t.row.P_epistasis.toExponential(2):void 0!==t.row.P?t.row.P.toExponential(2):"-")+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Best_snp",label:"Best SNP",width:"113",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Best SNP "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"The SNP with the highest statistic obtained by testing SNP1 through PLINK.",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"P-joint",width:"111",sortable:"",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-joint "),t("el-tooltip",{attrs:{content:"Joint p-value",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(a){return[t("span",{domProps:{innerHTML:e._s(void 0!==a.row.P_joint&&100!=a.row.P_joint?a.row.P_joint.toExponential(2):"<i class='el-icon-minus' style='color: #FA8072;'></i>")}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"P-boost",width:"120",sortable:"",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-boost "),t("el-tooltip",{attrs:{content:"Boost p-value",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(a){return[t("span",{domProps:{innerHTML:e._s(void 0!==a.row.P_boost&&100!=a.row.P_boost?a.row.P_boost.toExponential(2):"<i class='el-icon-minus' style='color: #FA8072;'></i>")}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"P-saige",width:"118",sortable:"",align:"center"},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" P-saige "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Asymptotic p-value calculated by SAIGE",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0},{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.P_saige?0===t.row.P_saige?"0":t.row.P_saige.toExponential(2):void 0!==t.row.saige_p?t.row.saige_p.toExponential(2):"")+" ")]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"IsSPA",label:"Is.SPA",width:"88",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[t("i",{class:["custom-icon",e.row.IsSPA?"el-icon-check":"el-icon-close"],style:{color:e.row.IsSPA?"green":"red"}})]}},{key:"header",fn:function(){return[e._v(" Is.SPA "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Whether saddle point approximation(SPA) is converged or not",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])})],1),t("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.epiRecordNumber,"page-size":20,"current-page":e.currentEpiPage,layout:"prev, pager, next"},on:{"current-change":e.currentEpiChange}}),t("el-dialog",{style:{maxWidth:"700px",margin:"0 auto"},attrs:{visible:e.imageDialogVisibleSample,width:"auto","close-on-click-modal":!1,"close-on-press-escape":!0,"modal-append-to-body":e.useModalAppendToBody},on:{"update:visible":function(t){e.imageDialogVisibleSample=t},close:e.handleCloseSample}},[t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center",position:"relative"},on:{click:e.handleCloseSample}},[t("img",{staticStyle:{width:"600px",height:"500px","object-fit":"contain",cursor:"pointer",position:"relative","z-index":"2"},attrs:{src:e.imageUrl,alt:"Image Preview"},on:{click:e.handleCloseSample}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClickedSample},staticStyle:{position:"relative","z-index":"2","margin-top":"20px","font-size":"18px"},on:{click:function(t){return t.stopPropagation(),e.handleDownloadSample.apply(null,arguments)}}},[e._v(" Download ")])])]),t("el-dialog",{style:{maxWidth:"700px",margin:"0 auto"},attrs:{visible:e.imageDialogVisibleOR,width:"auto","close-on-click-modal":!1,"close-on-press-escape":!0,"modal-append-to-body":e.useModalAppendToBody},on:{"update:visible":function(t){e.imageDialogVisibleOR=t},close:e.handleCloseOR}},[t("div",{staticStyle:{display:"flex","flex-direction":"column","align-items":"center",position:"relative"},on:{click:e.handleCloseOR}},[t("img",{staticStyle:{width:"700px",height:"500px","object-fit":"contain",cursor:"pointer",position:"relative","z-index":"2"},attrs:{src:e.imageUrl,alt:"Image Preview"},on:{click:e.handleCloseOR}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClickedOR},staticStyle:{position:"relative","z-index":"2","margin-top":"20px","font-size":"18px"},on:{click:function(t){return t.stopPropagation(),e.handleDownloadOR.apply(null,arguments)}}},[e._v(" Download ")])])]),e.showAlert?t("div",{staticClass:"custom-alert",on:{click:e.closeAlert}},[t("div",{staticClass:"custom-alert-content",on:{click:e.stopPropagation}},[t("div",{staticStyle:{"font-size":"20px","line-height":"1.5em","text-align":"center"}},[t("strong",{staticStyle:{color:"blue"}},[e._v("Please note: ")]),e._v(" The epistasis associated with this SNP has not satisfied the criteria for "),t("strong",{staticStyle:{color:"black"}},[e._v("sample filteration")]),e._v(" in the context of the current cancer phenotype. ")]),t("el-button",{staticStyle:{"margin-top":"20px"},on:{click:e.closeAlert}},[e._v("OK")])],1)]):e._e()],1)],1),t("el-card",{staticClass:"box-card",staticStyle:{"margin-top":"20px",width:"1140px"}},[t("el-row",{staticStyle:{"background-color":"#ACD1E9",height:"50px","text-align":"left","line-height":"50px",border:"1px solid #ACD1E9","border-radius":"5px 5px 0px 0px","margin-top":"1px","margin-bottom":"0px"}},[t("el-col",{attrs:{span:21}},[t("span",{staticStyle:{padding:"0px 20px","font-weight":"bold",color:"#29506D","font-size":"21px"}},[e._v("GWAS results")])])],1),t("el-row",{staticStyle:{"border-radius":"0px 0px 5px 5px",border:"1px solid #D6EADF","margin-bottom":"0px"}},[t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%","font-size":"15px"},attrs:{border:"",data:e.snpGWASData,"max-height":"500",stripe:""}},[t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Cancertype",label:"Cancer",width:"100",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{color:"red",fontSize:e.cancerTypes.includes(a.row.Cancertype)?"1em":"inherit"}},[e._v(" "+e._s(a.row.Cancertype)+" ")])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"SNP",label:"SNP",width:"140",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(a.row.SNP)+" "),t("a",{attrs:{target:"_blank",href:"https://www.ncbi.nlm.nih.gov/snp/"+a.row.SNP}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{label:"Position",width:"160",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[e._v(" "+e._s(a.row.Pos)+" : "+e._s(a.row.POS)+" "),t("a",{attrs:{target:"_blank",href:"http://genome.ucsc.edu/cgi-bin/hgTracks?db=hg19&position="+a.row.Pos+":"+a.row.POS}},[t("i",{staticClass:"el-icon-zoom-in",staticStyle:{color:"#FF7C43","font-size":"1.2em"}})])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"alleles",label:"Alleles(A/a)",width:"110",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"A1",label:"A1",width:"48",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"A2",label:"A2",width:"48",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"AF1",label:"AF1",width:"62",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(parseFloat(a.row.AF1).toFixed(2)))])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"BETA",label:"OR",width:"90",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",[e._v(e._s(parseFloat(Math.exp(a.row.BETA)).toFixed(2)))])]}},{key:"header",fn:function(){return[e._v(" Beta "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Beta calculated by GCTA fast-GLMM",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"P",label:"P-value",width:"110",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(parseFloat(t.row.P).toExponential(2))+" ")]}},{key:"header",fn:function(){return[e._v(" P-value "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"P-value calculated by GCTA fast-GLMM",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"case",label:"Case",width:"70",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"control",label:"Control",width:"78",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"N",label:"Sample",width:"85",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{staticStyle:{"font-size":"1.8em",cursor:"pointer",color:"blueviolet"},attrs:{type:"bar-chart",theme:"outlined"},on:{click:function(t){return e.fetchPdf(a.row.Cancertype,a.row.SNP)}}})]}}])})],1),t("el-dialog",{style:{maxWidth:"560px",margin:"0 auto"},attrs:{visible:e.imageDialogVisible,width:"auto","close-on-click-modal":!0,"close-on-press-escape":!0,"modal-append-to-body":!1},on:{"update:visible":function(t){e.imageDialogVisible=t},close:e.handleClose}},[t("div",{staticStyle:{"text-align":"center"},on:{click:function(t){e.imageDialogVisible=!1}}},[t("img",{staticStyle:{width:"530px",height:"500px","object-fit":"contain"},attrs:{src:e.imageUrl,alt:"Image Preview"}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClicked},on:{click:function(t){return t.stopPropagation(),e.handleDownload.apply(null,arguments)}}},[e._v(" Download ")])])]),t("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.recordNumber,"page-size":20,"current-page":e.currentGWASPage,layout:"prev, pager, next"},on:{"current-change":e.currentGWASChange}})],1)],1)],1)},Je=[];Ee()(De());var Xe={name:"quickSearchSnpEpistasis",data(){return{snpGWASData:[],snpEpiTableData:[],snpEpiNetworkData:[],loading:!1,recordNumber:0,epiRecordNumber:0,pdfDialogVisible:!1,imageUrl:"",imageDialogVisible:!1,downloadClicked:!1,currentSNP:"",currentGWASPage:1,currentEpiPage:1,imageDialogVisibleSample:!1,imageDialogVisibleOR:!1,downloadClickedSample:!1,downloadClickedOR:!1,useModalAppendToBody:!1,showAlert:!1,currentCancertype:"",currentSNPepi:"",cancerTypes:["Bladder","Brain","Breast","Cancertype","Cervical","Colon","Esophagus","Kidney","Liver","Lung","Melanoma","Ovarian","Pancreatic","Prostate","Rectal","Stomach","Uterine"]}},methods:{downloadCSV(){if(!Array.isArray(this.snpEpiTableData)||0===this.snpEpiTableData.length)return void this.$message.error("No data available for download");const e=["Cancer","SNP epistasis","Odds ratio","P_epistasis","Best SNP","P-joint","P-boost","P-saige"],t=this.snpEpiTableData.map((e=>[e.Cancertype,e.SNPepi,void 0!==e.OR_INT?e.OR_INT.toFixed(2):void 0!==e.OR?e.OR.toFixed(2):"",void 0!==e.P_epistasis?e.P_epistasis.toExponential(2):void 0!==e.P?e.P.toExponential(2):"",e.Best_snp,void 0!==e.P_joint?e.P_joint.toExponential(2):"",void 0!==e.P_boost?e.P_boost.toExponential(2):"",void 0!==e.P_saige?0===e.P_saige?"0":e.P_saige.toExponential(2):void 0!==e.saige_p?e.saige_p.toExponential(2):""]));let a="data:text/csv;charset=utf-8,"+e.join(",")+"\n"+t.map((e=>e.join(","))).join("\n");const i=encodeURI(a),s=document.createElement("a"),o=`epistasis_results_${(new Date).getTime()}.csv`;s.setAttribute("href",i),s.setAttribute("download",o),document.body.appendChild(s),s.click(),document.body.removeChild(s)},resultsDownload(){const e=this.$route.params.queryID;(0,U.A)({url:`api/snpGWASdownloadCSV?queryID=${encodeURIComponent(e)}`,method:"GET",responseType:"blob"}).then((t=>{const a=window.URL.createObjectURL(new Blob([t.data])),i=document.createElement("a");i.href=a,i.setAttribute("download",`${e}_GWAS_res.csv`),document.body.appendChild(i),i.click(),document.body.removeChild(i),window.URL.revokeObjectURL(a)})).catch((e=>console.error("Download error:",e)))},handleDownloadSample(){this.downloadClickedSample=!0,this.SampledownloadPdf()},handleDownloadOR(){this.downloadClickedOR=!0,this.ORdownloadPdf()},fetchPdfSample(e,t){this.currentCancertype=e,this.currentSNPepi=t,U.A.get("api/SnpEpistasisSamplegetPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisibleSample=!0})).catch((e=>{console.error("Error fetching image:",e),this.$alert('<strong style="color: blue;">注意：</strong> 没有通过样本过滤',{dangerouslyUseHTMLString:!0,confirmButtonText:"确定"}).catch((()=>{}))}))},fetchPdfOR(e,t,a){!1!==a?(this.currentCancertype=e,this.currentSNPepi=t,U.A.get("api/SnpEpistasisORgetPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisibleOR=!0})).catch((e=>{console.error("Error fetching image:",e),this.showAlert=!0}))):this.showAlert=!0},closeAlert(){this.showAlert=!1},stopPropagation(e){e.stopPropagation()},handleCloseSample(){this.imageDialogVisibleSample=!1,this.downloadClickedSample=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},handleCloseOR(){this.imageDialogVisibleOR=!1,this.downloadClickedOR=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},SampledownloadPdf(){const e=this.currentCancertype,t=this.currentSNPepi;U.A.get("api/SnpEpistasisSampledownloadPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((a=>{const i=window.URL.createObjectURL(new Blob([a.data])),s=`${e}_${t}.pdf`,o=document.createElement("a");o.href=i,o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClickedSample=!1}))},ORdownloadPdf(){const e=this.currentCancertype,t=this.currentSNPepi;U.A.get("api/SnpEpistasisORdownloadPdf",{params:{Cancertype:encodeURIComponent(e),SNPepi:encodeURIComponent(t)},responseType:"blob"}).then((a=>{const i=window.URL.createObjectURL(new Blob([a.data])),s=`${e}_${t}.pdf`,o=document.createElement("a");o.href=i,o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClickedOR=!1,this.$alert('<strong style="color: blue;">注意：</strong> <strong style="color: black;">没有通过样本过滤</strong>',{dangerouslyUseHTMLString:!0,confirmButtonText:"确定"})}))},currentGWASChange(e){this.currentGWASPage=e,this.fetchGWASData()},currentEpiChange(e){this.currentEpiPage=e,this.fetchEpiData()},fetchGWASData(){const e=this.$route.params.queryID;this.loading=!0,U.A.get("api/quickSearchSnpEpistasis",{params:{queryID:e,page:this.currentGWASPage,perPage:20}}).then((e=>{this.snpGWASData=e.data.SNPGWASPosition,this.recordNumber=e.data.recordsNumber,this.loading=!1}),(e=>{console.log("请求失败",e.message),this.loading=!1}))},handleDownload(){this.downloadClicked=!0,this.downloadPdf()},handleClose(){this.imageDialogVisible=!1,this.downloadClicked=!1,this.imageUrl&&(URL.revokeObjectURL(this.imageUrl),this.imageUrl="")},downloadPdf(){const e=this.currentCancertype,t=this.currentSNP;U.A.get("api/downloadPdf",{params:{Cancertype:encodeURIComponent(e),SNP:encodeURIComponent(t)},responseType:"blob"}).then((a=>{const i=window.URL.createObjectURL(new Blob([a.data])),s=`${e}_${t}.pdf`,o=document.createElement("a");o.href=i,o.setAttribute("download",s),document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(i)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClicked=!1}))},fetchPdf(e,t){this.currentCancertype=e,this.currentSNP=t,U.A.get("api/getPdf",{params:{Cancertype:encodeURIComponent(e),SNP:encodeURIComponent(t)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisible=!0})).catch((e=>{console.error("Error fetching image:",e)}))},fetchEpiData(){const e=this.$route.params.queryID;this.loading=!0,U.A.get("api/quickSearchSnpEpistasis",{params:{queryID:e,page:this.currentEpiPage,perPage:20}}).then((e=>{this.snpEpiTableData=e.data.SNPEpiTable,this.snpEpiNetworkData=e.data.SNPEpiNetwork,this.epiRecordNumber=e.data.epiRecordsNumber,this.initializeHighcharts(),this.loading=!1}),(e=>{console.log("请求失败",e.message),this.loading=!1}))},initializeHighcharts(){const e=this.currentSNP,t=this.snpEpiNetworkData||[];let a=[],i=[];t.length>0?(a=t.map((e=>{const t=e.SNPepi.split("_");return[t[0],t[1]]})),i=a.flatMap((t=>t.map((t=>({id:t,color:t===e?"#B2B2FF":"#ff0000"})))))):(a=[],i=[{id:`${e} Result is null！`,color:"#ff0000"}]),De().chart("container",{chart:{type:"networkgraph",marginTop:120},title:{text:`The epistasis network associated with ${e}`},credits:{enabled:!1},plotOptions:{networkgraph:{keys:["from","to"],layoutAlgorithm:{enableSimulation:!0,integration:"verlet",linkLength:200},dataLabels:{enabled:!0,style:{fontSize:"15px",color:"#000000"},formatter:function(){return this.key===e?`<span style="color: #ff0000">${this.key}</span>`:this.key}}}},series:[{marker:{radius:13},dataLabels:{enabled:!0,linkFormat:"",allowOverlap:!0,style:{fontSize:"15px",color:"#000000"},formatter:function(){return this.key===e?`<span style="color: #ff0000">${this.key}</span>`:this.key}},data:a,nodes:i}]})}},mounted(){const e=this.$route.params.queryID;this.currentSNP=e,console.log("mounted params:",{queryID:e,page:1,perPage:20}),this.fetchGWASData(),this.fetchEpiData()}},Ze=Xe,et=(0,p.A)(Ze,Ye,Je,!1,null,"127dfb1a",null),tt=et.exports,at=function(){var e=this,t=e._self._c;return t("div",{staticClass:"content-container"},[t("el-card",{staticClass:"box-card"},[t("el-row",{staticClass:"custom-row",style:{marginBottom:"15px"}},[t("el-col",{attrs:{span:24}},[t("p",{staticClass:"card-description",staticStyle:{"font-size":"18px","line-height":"1.7","font-family":"'Helvetica'"}},[e._v(" The development of cancer is thought to derive from the accumulation of somatic mutations. These mutations do not occur randomly; functionally antagonistic mutations are likely to be selected exclusively (mutual exclusivity) of each other, whereas synergistic alterations are frequently co-selected and observed together (co-occurrence) in certain tumor subtypes. Followed the method previously described by "),t("a",{staticStyle:{color:"#B285D3"},attrs:{href:"https://www.ncbi.nlm.nih.gov/pmc/articles/PMC8690927/"}},[e._v("Wang et al.")]),e._v(", we identified a set of "),t("span",{staticStyle:{color:"blue","font-weight":"bold"}},[e._v("98")]),e._v(" significant mutation epistasis pairs with a P-value < 0.05 across 18 cancer types in TCGA. ")])])],1),t("div",[t("el-row",{attrs:{gutter:40,type:"flex",justify:"center"}},[t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("Query type:")]),t("el-select",{staticClass:"place-input query-type-select",staticStyle:{width:"100%","font-size":"17px","z-index":"1000"},attrs:{placeholder:"Query type"},model:{value:e.selectQueryType,callback:function(t){e.selectQueryType=t},expression:"selectQueryType"}},e._l(e.queryTypes,(function(a){return t("el-option",{key:a.id,attrs:{value:a.queryName}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.queryName))])])})),1)],1),"Cancer type"===e.selectQueryType?t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("Cancer type:")]),t("el-select",{staticClass:"place-input cancer-type-select",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"Cancer type"},model:{value:e.selectCancerType,callback:function(t){e.selectCancerType=t},expression:"selectCancerType"}},e._l(e.cancerType,(function(a){return t("el-option",{key:a.id,attrs:{value:a.cancerName}},[t("span",{staticStyle:{float:"left"}},[e._v(e._s(a.cancerName))]),t("span",{staticStyle:{float:"right"}},[e._v("(N="+e._s(a.sampleNumber)+")")])])})),1)],1):e._e(),"Gene"===e.selectQueryType?t("el-col",{attrs:{span:5,offset:0}},[t("span",{staticClass:"input-label"},[e._v("Gene:")]),t("el-input",{staticClass:"place-input",staticStyle:{width:"100%","font-size":"17px"},attrs:{placeholder:"Gene"},model:{value:e.queryGene,callback:function(t){e.queryGene=t},expression:"queryGene"}}),t("span",{class:{"text-black":!e.isHoveredGene,"text-orange":e.isHoveredGene},staticStyle:{"font-size":"16px"},on:{mouseover:e.handleHoverAndSetQueryGene,mouseleave:e.handleMouseLeave}},[e._v("e.g., DOCK3")])],1):e._e()],1)],1),t("div",{staticStyle:{margin:"15px 0"}},[t("el-row",{attrs:{type:"flex",justify:"center",gutter:5}},[t("el-col",{staticClass:"text-center",attrs:{span:4}},[t("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("Submit")])],1),t("el-col",{staticClass:"text-center",attrs:{span:2}},[t("el-button",{staticClass:"cancel-button",attrs:{type:"danger"},on:{click:e.clearInput}},[e._v("Cancel")])],1)],1)],1)],1),t("el-card",{staticClass:"box-card"},[t("div",{staticClass:"header-controls"},[t("el-pagination",{attrs:{"hide-on-single-page":!0,total:e.recordNumber,"page-size":e.perPage,"current-page":e.currentPage,layout:"prev, pager, next"},on:{"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t},"current-change":e.currentChange}}),t("div",{staticStyle:{"margin-bottom":"0px","text-align":"right","margin-right":"20px"}},[t("el-button",{staticStyle:{"font-size":"35px",padding:"0","background-color":"white",color:"blue","font-weight":"bold"},attrs:{type:"primary",circle:!0},on:{click:e.downloadCSV}},[t("i",{staticClass:"el-icon-download"})])],1)],1),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.MutationResult,"max-height":"600",stripe:"","empty-text":"No results found for your query"}},[t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Pvalue",label:"Sample",width:"85",align:"center"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("a-icon",{staticStyle:{"font-size":"2.2em",cursor:"pointer",color:"#E5446D"},attrs:{type:"bar-chart",theme:"outlined"},on:{click:function(t){return e.fetchPdf(a.row.Cancertype,a.row.Mutation_X,a.row.Mutation_Y)}}})]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Cancertype",label:"Cancer",width:"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[t("span",{style:{color:"red",fontSize:e.cancerTypes.includes(a.row.Cancertype)?"1.1em":"inherit"}},[e._v(" "+e._s(a.row.Cancertype)+" ")])]}}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Mutation_X",label:"Mutation_X",width:"145",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Gene_X",label:"Gene_X",width:"90",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Mutation_Y",label:"Mutation_Y",width:"145",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Gene_Y",label:"Gene_Y",width:"90",align:"center","show-overflow-tooltip":""}}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Cor_Type",label:"Cor_Type",width:"163",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"header",fn:function(){return[e._v(" Cor_Type "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Types of mutation epistasis",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"OR",label:"Odds Ratio",width:"150",sortable:"",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(void 0!==t.row.OR?t.row.OR<.05?t.row.OR.toExponential(2):t.row.OR.toFixed(2):"")+" ")]}},{key:"header",fn:function(){return[e._v(" Odds Ratio "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Odds ratio for mutation epistasis calculated by Fisher's exact test",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])}),t("el-table-column",{staticClass:"custom-column-header",attrs:{prop:"Pvalue",label:"P-value",width:"129",align:"center",sortable:""},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(" "+e._s(parseFloat(t.row.Pvalue).toExponential(2))+" ")]}},{key:"header",fn:function(){return[e._v(" P-value "),t("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"P-value calculated by Fisher's exact test",placement:"top"}},[t("i",{staticClass:"el-icon-question"})])]},proxy:!0}])})],1),t("el-dialog",{style:{maxWidth:"1240px",margin:"0 auto"},attrs:{visible:e.imageDialogVisible,width:"auto","close-on-click-modal":!0,"close-on-press-escape":!0,"modal-append-to-body":!1},on:{"update:visible":function(t){e.imageDialogVisible=t},close:e.handleClose}},[t("div",{staticStyle:{"text-align":"center"},on:{click:function(t){e.imageDialogVisible=!1}}},[t("img",{staticStyle:{width:"1140px",height:"230px","object-fit":"contain"},attrs:{src:e.imageUrl,alt:"Image Preview"}}),t("button",{staticClass:"download-button",class:{clicked:e.downloadClicked},on:{click:function(t){return t.stopPropagation(),e.handleDownload.apply(null,arguments)}}},[e._v(" Download ")])])])],1)],1)},it=[],st={name:"EpistasisMutation",data(){return{cancerType:[{id:"01",cancerName:"All",sampleNumber:"6685"},{id:"02",cancerName:"BLCA",sampleNumber:"411"},{id:"03",cancerName:"BRCA",sampleNumber:"791"},{id:"04",cancerName:"COAD",sampleNumber:"288"},{id:"05",cancerName:"LGG",sampleNumber:"510"},{id:"06",cancerName:"LUAD",sampleNumber:"513"},{id:"07",cancerName:"PAAD",sampleNumber:"177"},{id:"08",cancerName:"READ",sampleNumber:"89"},{id:"09",cancerName:"STAD",sampleNumber:"439"},{id:"10",cancerName:"UCEC",sampleNumber:"447"}],queryTypes:[{id:"001",queryName:"Cancer type"},{id:"002",queryName:"Gene"}],cancerTypes:["BLCA","BRCA","COAD","LGG","LUAD","PAAD","READ","STAD","UCEC"],selectQueryType:"Cancer type",selectCancerType:"All",queryGene:"",isClickedGene:!1,loading:!1,MutationResult:[],recordNumber:0,currentPage:1,perPage:8,imageUrl:"",downloadClicked:!1,imageDialogVisible:!1}},methods:{handleHoverAndSetQueryGene(){this.queryGene="DOCK3",this.isHoveredGene=!0},handleMouseLeave(){this.isHoveredGene=!1},clearInput(){this.selectQueryType="Gene",this.selectCancerType="",this.queryGene="",this.isHoveredGene=!1},submitForm(){this.queryGene=this.queryGene.replace(/\s+/g,"");const e=/^[a-zA-Z0-9]*$/.test(this.queryGene);if(!e)return void this.$alert("Invalid input","Error",{confirmButtonText:"OK",callback:()=>{this.MutationResult=[],this.recordNumber=0}});this.loading=!0;let t={queryType:this.selectQueryType,page:this.currentPage,perPage:this.perPage};"Cancer type"===this.selectQueryType?t.cancerType=this.selectCancerType:"Gene"===this.selectQueryType&&(t.gene=this.queryGene),U.A.post("api/mutationRequest",t).then((e=>{this.MutationResult=e.data.results,this.recordNumber=e.data.total})).catch((e=>{console.error("Error during search:",e),this.$alert("Search failed due to server error.","Error",{confirmButtonText:"OK"})})).finally((()=>{this.loading=!1}))},currentChange(e){this.currentPage=e,this.submitForm()},downloadCSV(){const e=["Cancer","Mutation_X","Gene_X","Mutation_Y","Gene_Y","Cor_Type","Odds Ratio","P-value"],t=this.MutationResult.map((e=>[e.Cancertype,e.Mutation_X,e.Gene_X,e.Mutation_Y,e.Gene_Y,e.Cor_Type,void 0!==e.OR?parseFloat(e.OR).toFixed(2):"",parseFloat(e.Pvalue).toExponential(2)]));let a="data:text/csv;charset=utf-8,"+e.join(",")+"\n"+t.map((e=>e.join(","))).join("\n");const i=encodeURI(a),s=document.createElement("a"),o=this.selectQueryType||"",n=this.selectCancerType||"",l=this.queryGene||"",r=this.currentPage||"",c=[o,n,l],p=c.filter((e=>""!==e)).join("_")+`_page${r}.csv`;s.setAttribute("href",i),s.setAttribute("download",p),document.body.appendChild(s),s.click(),document.body.removeChild(s)},handleClose(){this.imageDialogVisible=!1},fetchPdf(e,t,a){this.currentCancertype=e,this.currentMutation_X=t,this.currentMutation_Y=a,U.A.get("api/mutationPng",{params:{Cancertype:encodeURIComponent(e),Mutation_X:encodeURIComponent(t),Mutation_Y:encodeURIComponent(a)},responseType:"blob"}).then((e=>{const t=URL.createObjectURL(e.data);this.imageUrl=t,this.imageDialogVisible=!0})).catch((e=>{console.error("Error fetching image:",e)}))},handleDownload(){const e=this.currentCancertype,t=this.currentMutation_X,a=this.currentMutation_Y;U.A.get("api/mutationPdf",{params:{Cancertype:e,Mutation_X:t,Mutation_Y:a},responseType:"blob"}).then((i=>{const s=window.URL.createObjectURL(new Blob([i.data])),o=`${e}_${t}_${a}.pdf`,n=document.createElement("a");n.href=s,n.setAttribute("download",o),document.body.appendChild(n),n.click(),document.body.removeChild(n),window.URL.revokeObjectURL(s)})).catch((e=>{console.error("Error downloading PDF:",e),this.downloadClicked=!1}))}},mounted(){this.clearInput(),this.selectQueryType="Cancer type",this.selectCancerType="All",this.submitForm(),document.addEventListener("click",this.handleOutsideClick)},beforeDestroy(){document.removeEventListener("click",this.handleOutsideClick)}},ot=st,nt=(0,p.A)(ot,at,it,!1,null,"fc643ece",null),lt=nt.exports,rt=new _.Ay({routes:[{name:"home",path:"/",component:O},{path:"/EpiSNPGWAS",component:G},{path:"/EpiSNPSurvival",component:ce},{path:"/download",component:ye},{path:"/EpistasisSNP",component:V},{path:"/EpistasisGene",component:J},{path:"/EpiSNPAnnotation",component:ie},{path:"/EpistasisMutation",component:lt},{path:"/Document",component:ve},{path:"/contact",component:Ae},{name:"quickSearchSnp",path:"/quickSearchSnp",component:je},{name:"quickSearchPosition",path:"/quickSearchPosition",component:qe},{name:"quickSearchCancer",path:"/quickSearchCancer",component:He},{name:"quickSearchSnpEpistasis",path:"/quickSearchSnpEpistasis",component:tt}]}),ct=a(8671),pt=a.n(ct);i["default"].use(_.Ay),i["default"].use(A.Ay),i["default"].use(pt()),i["default"].config.productionTip=!1,new i["default"]({render:e=>e(S),router:rt}).$mount("#app")},35358:function(e,t,a){var i={"./af":25177,"./af.js":25177,"./ar":61509,"./ar-dz":41488,"./ar-dz.js":41488,"./ar-kw":58676,"./ar-kw.js":58676,"./ar-ly":42353,"./ar-ly.js":42353,"./ar-ma":24496,"./ar-ma.js":24496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":82682,"./ar-sa.js":82682,"./ar-tn":89756,"./ar-tn.js":89756,"./ar.js":61509,"./az":95533,"./az.js":95533,"./be":28959,"./be.js":28959,"./bg":47777,"./bg.js":47777,"./bm":54903,"./bm.js":54903,"./bn":61290,"./bn-bd":17357,"./bn-bd.js":17357,"./bn.js":61290,"./bo":31545,"./bo.js":31545,"./br":11470,"./br.js":11470,"./bs":44429,"./bs.js":44429,"./ca":7306,"./ca.js":7306,"./cs":56464,"./cs.js":56464,"./cv":73635,"./cv.js":73635,"./cy":64226,"./cy.js":64226,"./da":93601,"./da.js":93601,"./de":77853,"./de-at":26111,"./de-at.js":26111,"./de-ch":54697,"./de-ch.js":54697,"./de.js":77853,"./dv":60708,"./dv.js":60708,"./el":54691,"./el.js":54691,"./en-au":53872,"./en-au.js":53872,"./en-ca":28298,"./en-ca.js":28298,"./en-gb":56195,"./en-gb.js":56195,"./en-ie":66584,"./en-ie.js":66584,"./en-il":65543,"./en-il.js":65543,"./en-in":9033,"./en-in.js":9033,"./en-nz":79402,"./en-nz.js":79402,"./en-sg":43004,"./en-sg.js":43004,"./eo":32934,"./eo.js":32934,"./es":97650,"./es-do":20838,"./es-do.js":20838,"./es-mx":17730,"./es-mx.js":17730,"./es-us":56575,"./es-us.js":56575,"./es.js":97650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":90527,"./fi.js":90527,"./fil":95995,"./fil.js":95995,"./fo":52477,"./fo.js":52477,"./fr":85498,"./fr-ca":26435,"./fr-ca.js":26435,"./fr-ch":37892,"./fr-ch.js":37892,"./fr.js":85498,"./fy":37071,"./fy.js":37071,"./ga":41734,"./ga.js":41734,"./gd":70217,"./gd.js":70217,"./gl":77329,"./gl.js":77329,"./gom-deva":32124,"./gom-deva.js":32124,"./gom-latn":93383,"./gom-latn.js":93383,"./gu":95050,"./gu.js":95050,"./he":11713,"./he.js":11713,"./hi":43861,"./hi.js":43861,"./hr":26308,"./hr.js":26308,"./hu":90609,"./hu.js":90609,"./hy-am":17160,"./hy-am.js":17160,"./id":74063,"./id.js":74063,"./is":89374,"./is.js":89374,"./it":88383,"./it-ch":21827,"./it-ch.js":21827,"./it.js":88383,"./ja":23827,"./ja.js":23827,"./jv":89722,"./jv.js":89722,"./ka":41794,"./ka.js":41794,"./kk":27088,"./kk.js":27088,"./km":96870,"./km.js":96870,"./kn":84451,"./kn.js":84451,"./ko":63164,"./ko.js":63164,"./ku":98174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":98174,"./ky":78474,"./ky.js":78474,"./lb":79680,"./lb.js":79680,"./lo":15867,"./lo.js":15867,"./lt":45766,"./lt.js":45766,"./lv":69532,"./lv.js":69532,"./me":58076,"./me.js":58076,"./mi":41848,"./mi.js":41848,"./mk":30306,"./mk.js":30306,"./ml":73739,"./ml.js":73739,"./mn":99053,"./mn.js":99053,"./mr":86169,"./mr.js":86169,"./ms":73386,"./ms-my":92297,"./ms-my.js":92297,"./ms.js":73386,"./mt":77075,"./mt.js":77075,"./my":72264,"./my.js":72264,"./nb":22274,"./nb.js":22274,"./ne":8235,"./ne.js":8235,"./nl":92572,"./nl-be":43784,"./nl-be.js":43784,"./nl.js":92572,"./nn":54566,"./nn.js":54566,"./oc-lnc":69330,"./oc-lnc.js":69330,"./pa-in":29849,"./pa-in.js":29849,"./pl":94418,"./pl.js":94418,"./pt":79834,"./pt-br":48303,"./pt-br.js":48303,"./pt.js":79834,"./ro":24457,"./ro.js":24457,"./ru":82271,"./ru.js":82271,"./sd":1221,"./sd.js":1221,"./se":33478,"./se.js":33478,"./si":17538,"./si.js":17538,"./sk":5784,"./sk.js":5784,"./sl":46637,"./sl.js":46637,"./sq":86794,"./sq.js":86794,"./sr":45719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":45719,"./ss":56e3,"./ss.js":56e3,"./sv":41011,"./sv.js":41011,"./sw":40748,"./sw.js":40748,"./ta":11025,"./ta.js":11025,"./te":11885,"./te.js":11885,"./tet":28861,"./tet.js":28861,"./tg":86571,"./tg.js":86571,"./th":55802,"./th.js":55802,"./tk":59527,"./tk.js":59527,"./tl-ph":29231,"./tl-ph.js":29231,"./tlh":31052,"./tlh.js":31052,"./tr":85096,"./tr.js":85096,"./tzl":79846,"./tzl.js":79846,"./tzm":81765,"./tzm-latn":97711,"./tzm-latn.js":97711,"./tzm.js":81765,"./ug-cn":48414,"./ug-cn.js":48414,"./uk":16618,"./uk.js":16618,"./ur":57777,"./ur.js":57777,"./uz":57609,"./uz-latn":72475,"./uz-latn.js":72475,"./uz.js":57609,"./vi":21135,"./vi.js":21135,"./x-pseudo":64051,"./x-pseudo.js":64051,"./yo":82218,"./yo.js":82218,"./zh-cn":52648,"./zh-cn.js":52648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":31541,"./zh-mo.js":31541,"./zh-tw":50304,"./zh-tw.js":50304};function s(e){var t=o(e);return a(t)}function o(e){if(!a.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}s.keys=function(){return Object.keys(i)},s.resolve=o,e.exports=s,s.id=35358},63583:function(e){"use strict";e.exports="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAZAN4DASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD6ooorgtUUa78SLrRdT1G/tbGz0yK7t7e0vZbNrh3kkWSQvEyuwQJGMZ2jzORkjB/X9f1+GodLne0V4v4c1e51Pw94Zs5/EN9Npup67f20upLOVluY0ecwxLKuDHu2Lgpt4XauM1J4sur/AETTvHul6RqupGxsdPtZ4J5Lt5p7O4kZ96CZyXPyqj4YnG/0IFD0v/XmD0bXb/O39f8ADnslFeY373nhXxp5OmXmp3y3mh3t7JBeXUlyHuIWi2MisSI8+awKoFXpgDArMLQ2WmeA9UtfFOqXN9rWo2omZtRkkivgwLSBYixSNQecIFAwFPpQunnZfe2v0JlKyb7Jv7kn+p6lqWpfYbrToPsV7c/bZ/I8y3i3pB8jNvlOflT5cZ55YDvRoupf2rayz/Yr2z2TyweXeReW7bHK7wMnKNjKnuCDXL+L9YEmr+DxpOoh4ZNca1ufs0+Vbbbz7o32nnDKMqehA9K5CK+1K/tNCt21fUoRceML61lkiuGDtApusRZ5+XCKAO2BtwQCFF3dv6+z/maONlf+vtf/ACJ7NRXjmranfeHLbxnplnq19HY219p0aXl3ctcS2MNwUWZxLKWOFG5gWJCkk9OK2IYk0P4o6dpWlaxqdxHJo13dSafd6hLdgOJIQkhMjM3PzADOODgAliWu/r+CuStf687HWar4u0jTL17OWS8ubuPHmw6fYz3rw5AI8wQo/l5ByN2MjpnFaOj6tY6zZi60y5SeHcUbGQ0bjqjqcMjjoVYAg8EA141pN7BHpel29/qt5ZtNoqajaR2c728up6nIztOflIM0isE/dEkfvPmU8Y0/D98l1oGrarot89zs8MRR3l9FMXL3iRvjMgPMqjO453DK57YU3yKTfTtt1/y/Feg7Xkorrb8bf5/g+x7BRXkdlpN01z4FH/CQa+U1mzYamG1CU/acW6uCpz+5O4fei2E5PNJBq81vpV54cLarqVxJr82l2AbU5IJGUR+fiW6GZVVV3cjc5CgfNk03pJw6r/NL9UZwmpRUuj/yv+n9dPTtW1L+zhaH7He3f2i4S3xaxeZ5W7/lo/PCDue1R6JrVvrEuppbJMh0+7azl8wAbnVVYlcE8YYdcfSvItD1zVRplxYyX8gOn+MLawUxalJeYiby2eEzuqvIAzuDvGR905xXaeAb21s73xWLu5ggM/iKWGESyBfMkMUZCLnqxweBzxRHVv0/+Qa/9KHJ2dv6+1/8idRoWtW2tDUPsqTJ9ivJLKTzABl0xkjBPHPsfatSvDNRtZrPwf8AELxDaanqlvqGmavd3NqsF28USshRsPGpCyK2MESBuCQMZrqPEekL4g8b21jpN9rVtLEY73Vri31e7jjij/ggSJZBGHk28/LwgY9WU0R1jFvql+SY/wCbyb/B2/yPS6K8S+IPiK9R9R8QaOLq2g0vUobA3Nxrc0IkkWVVeNLJVaKRSCRufaxySOAprc1PW7i20D4uNLqU0M9g8pty05VrdWsYimw5+UF9xGMfNnHNK65HPsr/AJf5lxXNNQ87fn/keo0VwniXxJLpnwzvrnT72FtctdHW82u4eRAVx5zLgnAIY5IIJU8HpXNwp4q8P22paxbTWptv7FublLU69c6s11MoVo5Y1liXYoyQQh2nevHApy91tPp/wf8AImHv2t1/4H+Z6brGsW+lXGlw3CSs2o3Qs4igBCuUd8tkjjEZ6Z5xxWlXj99ZafZan8N7i38QX+o3Oo6iJibi/e4S7AtZiZURmKxgFh/qwq/OBj7uEvNfu4vhNqE7arcJqMfiCS08w3DCVf8AiZ4EWc5/1eBt/u8dKaW9907fl+rHo+VrZr/5L9Eew0VxnxF10W+itFp2rR2jjULWzv7mFleSyjlkUEkHOwlWABYcbg3as3xtYnRNG0qx0bV9XtzPrVnHJI2oSXEyq8mGG+Uu20gfdOV9utSne3m0vvt+GpLdk/JX/P8AyPRaK4TwgkmlfEDxHoUN5f3GmxWVnexJe3ct08TyNMjhZJGZtpESnBJAOcda7uqaH5BXKeN9GutWe18rw94a12KIFkTWGMZgk/vIfKlznjjCkY6nPHV0UrDRzPhrwpBYeEjoutC31YXEks94JoAYpZJZWlcbGz8oZjgHPAFalroGj2mkHSrXSdPh0s5zZx2yLCcnJ+QDbyeelaVFD1dxFeSzt3uku/s8BvIo2ijnaMF0VsEqD1AJVSQDzgelcBa+Cr2fxBaXNxo3hnRreC8F9dXGlZM+pSpu2eYDEmwbmLnLSHPGerV6PRQtHcGrpo5C58N3Fz4p02RLPTLHRNOupNQQ27EzXVw8bIS6eWFTmR2LBmLEDpzXRJpGmp5WzT7NfKna6jxCo2TNndIOOHO5st1O4+tXaKA/r+vx+8zdS09Taag+n2ente3SASfaI/kuABgJIQMkFcrkhsZ6HoeV8H+D59P8Qx6rcaXoeh29tbS21tpujEtETKyNJK7eXHlj5SAAJwASScgDvKKFo7oHqrHMXHhHZdTzaJrur6Itw5lmhsjDJE8hOS4SeKQISSSdm0Ekkgk5rdgsIY9O+xSl7qFlKSfaW80yA53bs9QcnjpjgADirVFHSwdblZbC0U2pW1twbQbbciMfuRjbhOPlGOOO1Vb7w9o2oWlxa3+kaddWtxL580M1sjpLJx87KRgtwOTzxWnRQ9dwWmxnQaFpEEYjg0qwjjEqTBUt0A8xAFR8AfeUKoB6gAAdKe2j6Yzh206zLC4+1gmBcifGPN6ffxxu6471eoo8/wCv60CxSk0nTpLS7tZNPtGtbtme4haFSkzN94uuMMT3z1rKv/A3hPUL2W8v/C2hXV3Kd0k8+nwu7n1LFck10VFGwGPP4W0C41Ce/n0LSpb6dQk1w9pG0kijGAzEZIG1eD6D0pdR8M6DqeoC/wBS0TS7y+EZhFxcWkckgjIIKbiCdpDMMdOT61r0UAVYdOsoLr7TDZ28dx5SweakSh/LUkqmQM7QScDoM1V0Tw7omgtO2h6Pp2mm4wZjZ2qQ+ZjON20DOMnr6mtSigDHsPC3h/T7h7iw0LSrWd5RO0kFpGjNIAwDkgZLYd+evzH1NJN4V8PT6jPqE+g6TJfz7fNuXs4zLJgqRuYjJwVUjJ/hHoK2aKNgKbaXp7C+DWNqRfDF2DCv+kDbt/ecfP8ALxznjiq1h4b0PTrJLPT9G021tI5hcJBBaoiLKOkgUDAYYHPXitWigNyBLO2S8lu0t4Vu5UWOSYIA7qpJVS3UgFmwO2T61PRRQB//2Q=="}},t={};function a(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,function(){a.amdO={}}(),function(){var e=[];a.O=function(t,i,s,o){if(!i){var n=1/0;for(p=0;p<e.length;p++){i=e[p][0],s=e[p][1],o=e[p][2];for(var l=!0,r=0;r<i.length;r++)(!1&o||n>=o)&&Object.keys(a.O).every((function(e){return a.O[e](i[r])}))?i.splice(r--,1):(l=!1,o<n&&(n=o));if(l){e.splice(p--,1);var c=s();void 0!==c&&(t=c)}}return t}o=o||0;for(var p=e.length;p>0&&e[p-1][2]>o;p--)e[p]=e[p-1];e[p]=[i,s,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={524:0};a.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,o,n=i[0],l=i[1],r=i[2],c=0;if(n.some((function(t){return 0!==e[t]}))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(r)var p=r(a)}for(t&&t(i);c<n.length;c++)o=n[c],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(p)},i=self["webpackChunkepidatabase"]=self["webpackChunkepidatabase"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],(function(){return a(856)}));i=a.O(i)})();
//# sourceMappingURL=app.4b46b111.js.map